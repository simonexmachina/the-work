function mR(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(a,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function wT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cm={exports:{}},iu={};var rE;function pR(){if(rE)return iu;rE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:c,ref:o!==void 0?o:null,props:u}}return iu.Fragment=e,iu.jsx=n,iu.jsxs=n,iu}var iE;function gR(){return iE||(iE=1,Cm.exports=pR()),Cm.exports}var B=gR(),Im={exports:{}},qe={};var aE;function yR(){if(aE)return qe;aE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,G={};function te(V,J,ue){this.props=V,this.context=J,this.refs=G,this.updater=ue||U}te.prototype.isReactComponent={},te.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},te.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ee(){}ee.prototype=te.prototype;function oe(V,J,ue){this.props=V,this.context=J,this.refs=G,this.updater=ue||U}var De=oe.prototype=new ee;De.constructor=oe,$(De,te.prototype),De.isPureReactComponent=!0;var be=Array.isArray;function Ae(){}var b={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(V,J,ue){var pe=ue.ref;return{$$typeof:r,type:V,key:J,ref:pe!==void 0?pe:null,props:ue}}function M(V,J){return I(V.type,J,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return J[ue]})}var D=/\/+/g;function Ve(V,J){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):J.toString(36)}function Le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ae,Ae):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,J,ue,pe,le){var de=typeof V;(de==="undefined"||de==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(de){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case r:case e:ke=!0;break;case _:return ke=V._init,Q(ke(V._payload),J,ue,pe,le)}}if(ke)return le=le(V),ke=pe===""?"."+Ve(V,0):pe,be(le)?(ue="",ke!=null&&(ue=ke.replace(D,"$&/")+"/"),Q(le,J,ue,"",function(gi){return gi})):le!=null&&(O(le)&&(le=M(le,ue+(le.key==null||V&&V.key===le.key?"":(""+le.key).replace(D,"$&/")+"/")+ke)),J.push(le)),1;ke=0;var je=pe===""?".":pe+":";if(be(V))for(var dt=0;dt<V.length;dt++)pe=V[dt],de=je+Ve(pe,dt),ke+=Q(pe,J,ue,de,le);else if(dt=C(V),typeof dt=="function")for(V=dt.call(V),dt=0;!(pe=V.next()).done;)pe=pe.value,de=je+Ve(pe,dt++),ke+=Q(pe,J,ue,de,le);else if(de==="object"){if(typeof V.then=="function")return Q(Le(V),J,ue,pe,le);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ce(V,J,ue){if(V==null)return V;var pe=[],le=0;return Q(V,pe,"","",function(de){return J.call(ue,de,le++)}),pe}function fe(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var Re=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ze={map:ce,forEach:function(V,J,ue){ce(V,function(){J.apply(this,arguments)},ue)},count:function(V){var J=0;return ce(V,function(){J++}),J},toArray:function(V){return ce(V,function(J){return J})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return qe.Activity=T,qe.Children=ze,qe.Component=te,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=oe,qe.StrictMode=a,qe.Suspense=p,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,qe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return b.H.useMemoCache(V)}},qe.cache=function(V){return function(){return V.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(V,J,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var pe=$({},V.props),le=V.key;if(J!=null)for(de in J.key!==void 0&&(le=""+J.key),J)!R.call(J,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&J.ref===void 0||(pe[de]=J[de]);var de=arguments.length-2;if(de===1)pe.children=ue;else if(1<de){for(var ke=Array(de),je=0;je<de;je++)ke[je]=arguments[je+2];pe.children=ke}return I(V.type,le,pe)},qe.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},qe.createElement=function(V,J,ue){var pe,le={},de=null;if(J!=null)for(pe in J.key!==void 0&&(de=""+J.key),J)R.call(J,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(le[pe]=J[pe]);var ke=arguments.length-2;if(ke===1)le.children=ue;else if(1<ke){for(var je=Array(ke),dt=0;dt<ke;dt++)je[dt]=arguments[dt+2];le.children=je}if(V&&V.defaultProps)for(pe in ke=V.defaultProps,ke)le[pe]===void 0&&(le[pe]=ke[pe]);return I(V,de,le)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(V){return{$$typeof:m,render:V}},qe.isValidElement=O,qe.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:fe}},qe.memo=function(V,J){return{$$typeof:g,type:V,compare:J===void 0?null:J}},qe.startTransition=function(V){var J=b.T,ue={};b.T=ue;try{var pe=V(),le=b.S;le!==null&&le(ue,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(Ae,Re)}catch(de){Re(de)}finally{J!==null&&ue.types!==null&&(J.types=ue.types),b.T=J}},qe.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},qe.use=function(V){return b.H.use(V)},qe.useActionState=function(V,J,ue){return b.H.useActionState(V,J,ue)},qe.useCallback=function(V,J){return b.H.useCallback(V,J)},qe.useContext=function(V){return b.H.useContext(V)},qe.useDebugValue=function(){},qe.useDeferredValue=function(V,J){return b.H.useDeferredValue(V,J)},qe.useEffect=function(V,J){return b.H.useEffect(V,J)},qe.useEffectEvent=function(V){return b.H.useEffectEvent(V)},qe.useId=function(){return b.H.useId()},qe.useImperativeHandle=function(V,J,ue){return b.H.useImperativeHandle(V,J,ue)},qe.useInsertionEffect=function(V,J){return b.H.useInsertionEffect(V,J)},qe.useLayoutEffect=function(V,J){return b.H.useLayoutEffect(V,J)},qe.useMemo=function(V,J){return b.H.useMemo(V,J)},qe.useOptimistic=function(V,J){return b.H.useOptimistic(V,J)},qe.useReducer=function(V,J,ue){return b.H.useReducer(V,J,ue)},qe.useRef=function(V){return b.H.useRef(V)},qe.useState=function(V){return b.H.useState(V)},qe.useSyncExternalStore=function(V,J,ue){return b.H.useSyncExternalStore(V,J,ue)},qe.useTransition=function(){return b.H.useTransition()},qe.version="19.2.3",qe}var sE;function Op(){return sE||(sE=1,Im.exports=yR()),Im.exports}var k=Op();const ST=wT(k),vR=mR({__proto__:null,default:ST},[k]);var Dm={exports:{}},au={},Nm={exports:{}},Om={};var oE;function _R(){return oE||(oE=1,(function(r){function e(Q,ce){var fe=Q.length;Q.push(ce);e:for(;0<fe;){var Re=fe-1>>>1,ze=Q[Re];if(0<o(ze,ce))Q[Re]=ce,Q[fe]=ze,fe=Re;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var ce=Q[0],fe=Q.pop();if(fe!==ce){Q[0]=fe;e:for(var Re=0,ze=Q.length,V=ze>>>1;Re<V;){var J=2*(Re+1)-1,ue=Q[J],pe=J+1,le=Q[pe];if(0>o(ue,fe))pe<ze&&0>o(le,ue)?(Q[Re]=le,Q[pe]=fe,Re=pe):(Q[Re]=ue,Q[J]=fe,Re=J);else if(pe<ze&&0>o(le,fe))Q[Re]=le,Q[pe]=fe,Re=pe;else break e}}return ce}function o(Q,ce){var fe=Q.sortIndex-ce.sortIndex;return fe!==0?fe:Q.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();r.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,T=null,S=3,C=!1,U=!1,$=!1,G=!1,te=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function De(Q){for(var ce=n(g);ce!==null;){if(ce.callback===null)a(g);else if(ce.startTime<=Q)a(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(g)}}function be(Q){if($=!1,De(Q),!U)if(n(p)!==null)U=!0,Ae||(Ae=!0,P());else{var ce=n(g);ce!==null&&Le(be,ce.startTime-Q)}}var Ae=!1,b=-1,R=5,I=-1;function M(){return G?!0:!(r.unstable_now()-I<R)}function O(){if(G=!1,Ae){var Q=r.unstable_now();I=Q;var ce=!0;try{e:{U=!1,$&&($=!1,ee(b),b=-1),C=!0;var fe=S;try{t:{for(De(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&M());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,S=T.priorityLevel;var ze=Re(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof ze=="function"){T.callback=ze,De(Q),ce=!0;break t}T===n(p)&&a(p),De(Q)}else a(p);T=n(p)}if(T!==null)ce=!0;else{var V=n(g);V!==null&&Le(be,V.startTime-Q),ce=!1}}break e}finally{T=null,S=fe,C=!1}ce=void 0}}finally{ce?P():Ae=!1}}}var P;if(typeof oe=="function")P=function(){oe(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ve=D.port2;D.port1.onmessage=O,P=function(){Ve.postMessage(null)}}else P=function(){te(O,0)};function Le(Q,ce){b=te(function(){Q(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var fe=S;S=ce;try{return Q()}finally{S=fe}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Q,ce){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=S;S=Q;try{return ce()}finally{S=fe}},r.unstable_scheduleCallback=function(Q,ce,fe){var Re=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Re+fe:Re):fe=Re,Q){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=fe+ze,Q={id:_++,callback:ce,priorityLevel:Q,startTime:fe,expirationTime:ze,sortIndex:-1},fe>Re?(Q.sortIndex=fe,e(g,Q),n(p)===null&&Q===n(g)&&($?(ee(b),b=-1):$=!0,Le(be,fe-Re))):(Q.sortIndex=ze,e(p,Q),U||C||(U=!0,Ae||(Ae=!0,P()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var ce=S;return function(){var fe=S;S=ce;try{return Q.apply(this,arguments)}finally{S=fe}}}})(Om)),Om}var lE;function ER(){return lE||(lE=1,Nm.exports=_R()),Nm.exports}var xm={exports:{}},bn={};var uE;function TR(){if(uE)return bn;uE=1;var r=Op();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,bn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},bn.flushSync=function(p){var g=c.T,_=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=_,a.d.f()}},bn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},bn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},bn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):_==="script"&&a.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},bn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);a.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},bn.requestFormReset=function(p){a.d.r(p)},bn.unstable_batchedUpdates=function(p,g){return p(g)},bn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},bn.version="19.2.3",bn}var cE;function AT(){if(cE)return xm.exports;cE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xm.exports=TR(),xm.exports}var hE;function bR(){if(hE)return au;hE=1;var r=ER(),e=Op(),n=AT();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var v=!1,w=f.child;w;){if(w===s){v=!0,s=f,l=d;break}if(w===l){v=!0,l=f,s=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===s){v=!0,s=d,l=f;break}if(w===l){v=!0,l=d,s=f;break}w=w.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case te:return"Profiler";case G:return"StrictMode";case be:return"Suspense";case Ae:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case oe:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case De:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case b:return i=t.displayName||null,i!==null?i:Ve(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ve(t(i))}catch{}}return null}var Le=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Re=[],ze=-1;function V(t){return{current:t}}function J(t){0>ze||(t.current=Re[ze],Re[ze]=null,ze--)}function ue(t,i){ze++,Re[ze]=t.current,t.current=i}var pe=V(null),le=V(null),de=V(null),ke=V(null);function je(t,i){switch(ue(de,i),ue(le,t),ue(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?R_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=R_(i),t=C_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(pe),ue(pe,t)}function dt(){J(pe),J(le),J(de)}function gi(t){t.memoizedState!==null&&ue(ke,t);var i=pe.current,s=C_(i,t.type);i!==s&&(ue(le,t),ue(pe,s))}function $i(t){le.current===t&&(J(pe),J(le)),ke.current===t&&(J(ke),eu._currentValue=fe)}var Pt,Qn;function Kn(t){if(Pt===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Pt=i&&i[1]||"",Qn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pt+t+Qn}var Za=!1;function Dn(t,i){if(!t||Za)return"";Za=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Y=X}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(X){Y=X}t.call(ie.prototype)}}else{try{throw Error()}catch(X){Y=X}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var x=v.split(`
`),F=w.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===F.length)for(l=x.length-1,f=F.length-1;1<=l&&0<=f&&x[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==F[f]){var Z=`
`+x[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Za=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Kn(s):""}function es(t,i){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==i&&i!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Dn(t.type,!1);case 11:return Dn(t.type.render,!1);case 1:return Dn(t.type,!0);case 31:return Kn("Activity");default:return""}}function ts(t){try{var i="",s=null;do i+=es(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ut=Object.prototype.hasOwnProperty,Ft=r.unstable_scheduleCallback,Br=r.unstable_cancelCallback,hl=r.unstable_shouldYield,$s=r.unstable_requestPaint,zt=r.unstable_now,Yn=r.unstable_getCurrentPriorityLevel,Wi=r.unstable_ImmediatePriority,yi=r.unstable_UserBlockingPriority,ln=r.unstable_NormalPriority,$n=r.unstable_LowPriority,ns=r.unstable_IdlePriority,Ws=r.log,Xi=r.unstable_setDisableYieldValue,Wn=null,wt=null;function Nn(t){if(typeof Ws=="function"&&Xi(t),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Wn,t)}catch{}}var Mt=Math.clz32?Math.clz32:is,rs=Math.log,Ji=Math.LN2;function is(t){return t>>>=0,t===0?32:31-(rs(t)/Ji|0)|0}var On=256,qr=262144,Vt=4194304;function ur(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xn(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=ur(l):(v&=w,v!==0?f=ur(v):s||(s=w&~t,s!==0&&(f=ur(s))))):(w=l&~d,w!==0?f=ur(w):v!==0?f=ur(v):s||(s=l&~t,s!==0&&(f=ur(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function Jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Xs(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var t=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),t}function xn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Hr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function fl(t,i,s,l,f,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var w=t.entanglements,x=t.expirationTimes,F=t.hiddenUpdates;for(s=v&~s;0<s;){var Z=31-Mt(s),ie=1<<Z;w[Z]=0,x[Z]=-1;var Y=F[Z];if(Y!==null)for(F[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}s&=~ie}l!==0&&_i(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function _i(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function N(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-Mt(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function z(t,i){var s=i&-i;return s=(s&42)!==0?1:K(s),(s&(t.suspendedLanes|i))!==0?0:s}function K(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function se(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function he(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:W_(t.type))}function Ee(t,i){var s=ce.p;try{return ce.p=t,i()}finally{ce.p=s}}var ye=Math.random().toString(36).slice(2),ge="__reactFiber$"+ye,ve="__reactProps$"+ye,Se="__reactContainer$"+ye,Ne="__reactEvents$"+ye,Ie="__reactListeners$"+ye,Xe="__reactHandles$"+ye,Je="__reactResources$"+ye,yt="__reactMarker$"+ye;function Dt(t){delete t[ge],delete t[ve],delete t[Ne],delete t[Ie],delete t[Xe]}function At(t){var i=t[ge];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Se]||s[ge]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=V_(t);t!==null;){if(s=t[ge])return s;t=V_(t)}return i}t=s,s=t.parentNode}return null}function Ke(t){if(t=t[ge]||t[Se]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Rt(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function un(t){var i=t[Je];return i||(i=t[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[yt]=!0}var Ln=new Set,En={};function kn(t,i){Tn(t,i),Tn(t+"Capture",i)}function Tn(t,i){for(En[t]=i,t=0;t<i.length;t++)Ln.add(i[t])}var Zn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fr={},Gr={};function We(t){return Ut.call(Gr,t)?!0:Ut.call(Fr,t)?!1:Zn.test(t)?Gr[t]=!0:(Fr[t]=!0,!1)}function jt(t,i,s){if(We(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Xt(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function vt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zi(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){s=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ct(t){if(!t._valueTracker){var i=er(t)?"checked":"value";t._valueTracker=Zi(t,i,""+t[i])}}function as(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=er(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Qr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ss=/[\n"\\]/g;function Pn(t){return t.replace(ss,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Js(t,i,s,l,f,d,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ye(i)):t.value!==""+Ye(i)&&(t.value=""+Ye(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?dl(t,v,Ye(i)):s!=null?dl(t,v,Ye(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Ye(w):t.removeAttribute("name")}function nc(t,i,s,l,f,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ct(t);return}s=s!=null?""+Ye(s):"",i=i!=null?""+Ye(i):s,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),ct(t)}function dl(t,i,s){i==="number"&&Qr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ea(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ye(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function rc(t,i,s){if(i!=null&&(i=""+Ye(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Ye(s):""}function ta(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Le(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Ye(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),ct(t)}function Un(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||ic.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function pl(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&ml(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&ml(t,d,i[d])}function Zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(t){return na.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Cr(){}var gl=null;function cr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ra=null,Kr=null;function os(t){var i=Ke(t);if(i&&(t=i.stateNode)){var s=t[ve]||null;e:switch(t=i.stateNode,i.type){case"input":if(Js(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Pn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[ve]||null;if(!f)throw Error(a(90));Js(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&as(l)}break e;case"textarea":rc(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ea(t,!!s.multiple,i,!1)}}}var to=!1;function ia(t,i,s){if(to)return t(i,s);to=!0;try{var l=t(i);return l}finally{if(to=!1,(ra!==null||Kr!==null)&&(Jc(),ra&&(i=ra,t=Kr,Kr=ra=null,os(i),t)))for(i=0;i<t.length;i++)os(t[i])}}function Ir(t,i){var s=t.stateNode;if(s===null)return null;var l=s[ve]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(hr)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){ls=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{ls=!1}var Yr=null,yl=null,us=null;function vl(){if(us)return us;var t,i=yl,s=i.length,l,f="value"in Yr?Yr.value:Yr.textContent,d=f.length;for(t=0;t<s&&i[t]===f[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===f[d-l];l++);return us=f.slice(t,1<l?1-l:void 0)}function cs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ei(){return!0}function Dr(){return!1}function fn(t){function i(s,l,f,d,v){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(s=t[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ei:Dr,this.isPropagationStopped=Dr,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),i}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=fn(Ti),aa=T({},Ti,{view:0,detail:0}),_l=fn(aa),sa,no,Wr,ro=T({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wr&&(Wr&&t.type==="mousemove"?(sa=t.screenX-Wr.screenX,no=t.screenY-Wr.screenY):no=sa=0,Wr=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:no}}),El=fn(ro),hs=T({},ro,{dataTransfer:0}),sc=fn(hs),oc=T({},aa,{relatedTarget:0}),fs=fn(oc),Tl=T({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=fn(Tl),io=T({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uc=fn(io),cc=T({},Ti,{data:0}),Xr=fn(cc),hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=dc[t])?!!i[t]:!1}function oa(){return mc}var Mn=T({},aa,{key:function(t){if(t.key){var i=hc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(t){return t.type==="keypress"?cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pc=fn(Mn),gc=T({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=fn(gc),h=T({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),y=fn(h),E=T({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=fn(E),q=T({},ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W=fn(q),me=T({},Ti,{newState:0,oldState:0}),Fe=fn(me),Gt=[9,13,27,32],ht=hr&&"CompositionEvent"in window,Lt=null;hr&&"documentMode"in document&&(Lt=document.documentMode);var fr=hr&&"TextEvent"in window&&!Lt,Jr=hr&&(!ht||Lt&&8<Lt&&11>=Lt),Nr=" ",Or=!1;function ds(t,i){switch(t){case"keyup":return Gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function US(t,i){switch(t){case"compositionend":return ao(i);case"keypress":return i.which!==32?null:(Or=!0,Nr);case"textInput":return t=i.data,t===Nr&&Or?null:t;default:return null}}function zS(t,i){if(so)return t==="compositionend"||!ht&&ds(t,i)?(t=vl(),us=yl=Yr=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Jr&&i.locale!=="ko"?null:i.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!jS[t.type]:i==="textarea"}function Ug(t,i,s,l){ra?Kr?Kr.push(l):Kr=[l]:ra=l,i=ah(i,"onChange"),0<i.length&&(s=new $r("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var bl=null,wl=null;function BS(t){E_(t,0)}function yc(t){var i=Rt(t);if(as(i))return t}function zg(t,i){if(t==="change")return i}var jg=!1;if(hr){var Vf;if(hr){var Lf="oninput"in document;if(!Lf){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),Lf=typeof Bg.oninput=="function"}Vf=Lf}else Vf=!1;jg=Vf&&(!document.documentMode||9<document.documentMode)}function qg(){bl&&(bl.detachEvent("onpropertychange",Hg),wl=bl=null)}function Hg(t){if(t.propertyName==="value"&&yc(wl)){var i=[];Ug(i,wl,t,cr(t)),ia(BS,i)}}function qS(t,i,s){t==="focusin"?(qg(),bl=i,wl=s,bl.attachEvent("onpropertychange",Hg)):t==="focusout"&&qg()}function HS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yc(wl)}function FS(t,i){if(t==="click")return yc(i)}function GS(t,i){if(t==="input"||t==="change")return yc(i)}function QS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var tr=typeof Object.is=="function"?Object.is:QS;function Sl(t,i){if(tr(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Ut.call(i,f)||!tr(t[f],i[f]))return!1}return!0}function Fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gg(t,i){var s=Fg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Fg(s)}}function Qg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Qg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Qr(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Qr(t.document)}return i}function kf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var KS=hr&&"documentMode"in document&&11>=document.documentMode,oo=null,Pf=null,Al=null,Uf=!1;function Yg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uf||oo==null||oo!==Qr(l)||(l=oo,"selectionStart"in l&&kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&Sl(Al,l)||(Al=l,l=ah(Pf,"onSelect"),0<l.length&&(i=new $r("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=oo)))}function ms(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var lo={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},zf={},$g={};hr&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ps(t){if(zf[t])return zf[t];if(!lo[t])return t;var i=lo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in $g)return zf[t]=i[s];return t}var Wg=ps("animationend"),Xg=ps("animationiteration"),Jg=ps("animationstart"),YS=ps("transitionrun"),$S=ps("transitionstart"),WS=ps("transitioncancel"),Zg=ps("transitionend"),ey=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function xr(t,i){ey.set(t,i),kn(i,[t])}var vc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},dr=[],uo=0,Bf=0;function _c(){for(var t=uo,i=Bf=uo=0;i<t;){var s=dr[i];dr[i++]=null;var l=dr[i];dr[i++]=null;var f=dr[i];dr[i++]=null;var d=dr[i];if(dr[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&ty(s,f,d)}}function Ec(t,i,s,l){dr[uo++]=t,dr[uo++]=i,dr[uo++]=s,dr[uo++]=l,Bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qf(t,i,s,l){return Ec(t,i,s,l),Tc(t)}function gs(t,i){return Ec(t,null,null,i),Tc(t)}function ty(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-Mt(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function Tc(t){if(50<Kl)throw Kl=0,Xd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var co={};function XS(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,i,s,l){return new XS(t,i,s,l)}function Hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,i){var s=t.alternate;return s===null?(s=nr(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ny(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function bc(t,i,s,l,f,d){var v=0;if(l=t,typeof t=="function")Hf(t)&&(v=1);else if(typeof t=="string")v=nR(t,s,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=nr(31,s,i,f),t.elementType=I,t.lanes=d,t;case $:return ys(s.children,f,d,i);case G:v=8,f|=24;break;case te:return t=nr(12,s,i,f|2),t.elementType=te,t.lanes=d,t;case be:return t=nr(13,s,i,f),t.elementType=be,t.lanes=d,t;case Ae:return t=nr(19,s,i,f),t.elementType=Ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:v=10;break e;case ee:v=9;break e;case De:v=11;break e;case b:v=14;break e;case R:v=16,l=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=nr(v,s,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function ys(t,i,s,l){return t=nr(7,t,l,i),t.lanes=s,t}function Ff(t,i,s){return t=nr(6,t,null,i),t.lanes=s,t}function ry(t){var i=nr(18,null,null,0);return i.stateNode=t,i}function Gf(t,i,s){return i=nr(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var iy=new WeakMap;function mr(t,i){if(typeof t=="object"&&t!==null){var s=iy.get(t);return s!==void 0?s:(i={value:t,source:i,stack:ts(i)},iy.set(t,i),i)}return{value:t,source:i,stack:ts(i)}}var ho=[],fo=0,wc=null,Rl=0,pr=[],gr=0,la=null,Zr=1,ei="";function Si(t,i){ho[fo++]=Rl,ho[fo++]=wc,wc=t,Rl=i}function ay(t,i,s){pr[gr++]=Zr,pr[gr++]=ei,pr[gr++]=la,la=t;var l=Zr;t=ei;var f=32-Mt(l)-1;l&=~(1<<f),s+=1;var d=32-Mt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Zr=1<<32-Mt(i)+f|s<<f|l,ei=d+t}else Zr=1<<d|s<<f|l,ei=t}function Qf(t){t.return!==null&&(Si(t,1),ay(t,1,0))}function Kf(t){for(;t===wc;)wc=ho[--fo],ho[fo]=null,Rl=ho[--fo],ho[fo]=null;for(;t===la;)la=pr[--gr],pr[gr]=null,ei=pr[--gr],pr[gr]=null,Zr=pr[--gr],pr[gr]=null}function sy(t,i){pr[gr++]=Zr,pr[gr++]=ei,pr[gr++]=la,Zr=i.id,ei=i.overflow,la=t}var dn=null,Nt=null,st=!1,ua=null,yr=!1,Yf=Error(a(519));function ca(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(mr(i,t)),Yf}function oy(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[ge]=t,i[ve]=l,s){case"dialog":et("cancel",i),et("close",i);break;case"iframe":case"object":case"embed":et("load",i);break;case"video":case"audio":for(s=0;s<$l.length;s++)et($l[s],i);break;case"source":et("error",i);break;case"img":case"image":case"link":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"input":et("invalid",i),nc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":et("invalid",i);break;case"textarea":et("invalid",i),ta(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||S_(i.textContent,s)?(l.popover!=null&&(et("beforetoggle",i),et("toggle",i)),l.onScroll!=null&&et("scroll",i),l.onScrollEnd!=null&&et("scrollend",i),l.onClick!=null&&(i.onclick=Cr),i=!0):i=!1,i||ca(t,!0)}function ly(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 31:case 13:yr=!1;return;case 27:case 3:yr=!0;return;default:dn=dn.return}}function mo(t){if(t!==dn)return!1;if(!st)return ly(t),st=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||fm(t.type,t.memoizedProps)),s=!s),s&&Nt&&ca(t),ly(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Nt=M_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Nt=M_(t)}else i===27?(i=Nt,Sa(t.type)?(t=ym,ym=null,Nt=t):Nt=i):Nt=dn?_r(t.stateNode.nextSibling):null;return!0}function vs(){Nt=dn=null,st=!1}function $f(){var t=ua;return t!==null&&(qn===null?qn=t:qn.push.apply(qn,t),ua=null),t}function Cl(t){ua===null?ua=[t]:ua.push(t)}var Wf=V(null),_s=null,Ai=null;function ha(t,i,s){ue(Wf,i._currentValue),i._currentValue=s}function Ri(t){t._currentValue=Wf.current,J(Wf)}function Xf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Jf(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var x=0;x<i.length;x++)if(w.context===i[x]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),Xf(d.return,s,t),l||(v=null);break e}d=w.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Xf(v,s,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function po(t,i,s,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var w=f.type;tr(f.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(f===ke.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(eu):t=[eu])}f=f.return}t!==null&&Jf(i,t,s,l),i.flags|=262144}function Sc(t){for(t=t.firstContext;t!==null;){if(!tr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Es(t){_s=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return uy(_s,t)}function Ac(t,i){return _s===null&&Es(t),uy(t,i)}function uy(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ai=Ai.next=i;return s}var JS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},ZS=r.unstable_scheduleCallback,eA=r.unstable_NormalPriority,Jt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new JS,data:new Map,refCount:0}}function Il(t){t.refCount--,t.refCount===0&&ZS(eA,function(){t.controller.abort()})}var Dl=null,ed=0,go=0,yo=null;function tA(t,i){if(Dl===null){var s=Dl=[];ed=0,go=rm(),yo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ed++,i.then(cy,cy),i}function cy(){if(--ed===0&&Dl!==null){yo!==null&&(yo.status="fulfilled");var t=Dl;Dl=null,go=0,yo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var hy=Q.S;Q.S=function(t,i){Yv=zt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tA(t,i),hy!==null&&hy(t,i)};var Ts=V(null);function td(){var t=Ts.current;return t!==null?t:St.pooledCache}function Rc(t,i){i===null?ue(Ts,Ts.current):ue(Ts,i.pool)}function fy(){var t=td();return t===null?null:{parent:Jt._currentValue,pool:t}}var vo=Error(a(460)),nd=Error(a(474)),Cc=Error(a(542)),Ic={then:function(){}};function dy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function my(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Cr,Cr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gy(t),t;default:if(typeof i.status=="string")i.then(Cr,Cr);else{if(t=St,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gy(t),t}throw ws=i,vo}}function bs(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ws=s,vo):s}}var ws=null;function py(){if(ws===null)throw Error(a(459));var t=ws;return ws=null,t}function gy(t){if(t===vo||t===Cc)throw Error(a(483))}var _o=null,Nl=0;function Dc(t){var i=Nl;return Nl+=1,_o===null&&(_o=[]),my(_o,t,i)}function Ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Nc(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function yy(t){function i(j,L){if(t){var H=j.deletions;H===null?(j.deletions=[L],j.flags|=16):H.push(L)}}function s(j,L){if(!t)return null;for(;L!==null;)i(j,L),L=L.sibling;return null}function l(j){for(var L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function f(j,L){return j=wi(j,L),j.index=0,j.sibling=null,j}function d(j,L,H){return j.index=H,t?(H=j.alternate,H!==null?(H=H.index,H<L?(j.flags|=67108866,L):H):(j.flags|=67108866,L)):(j.flags|=1048576,L)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function w(j,L,H,ne){return L===null||L.tag!==6?(L=Ff(H,j.mode,ne),L.return=j,L):(L=f(L,H),L.return=j,L)}function x(j,L,H,ne){var Oe=H.type;return Oe===$?Z(j,L,H.props.children,ne,H.key):L!==null&&(L.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===R&&bs(Oe)===L.type)?(L=f(L,H.props),Ol(L,H),L.return=j,L):(L=bc(H.type,H.key,H.props,null,j.mode,ne),Ol(L,H),L.return=j,L)}function F(j,L,H,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Gf(H,j.mode,ne),L.return=j,L):(L=f(L,H.children||[]),L.return=j,L)}function Z(j,L,H,ne,Oe){return L===null||L.tag!==7?(L=ys(H,j.mode,ne,Oe),L.return=j,L):(L=f(L,H),L.return=j,L)}function ie(j,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ff(""+L,j.mode,H),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return H=bc(L.type,L.key,L.props,null,j.mode,H),Ol(H,L),H.return=j,H;case U:return L=Gf(L,j.mode,H),L.return=j,L;case R:return L=bs(L),ie(j,L,H)}if(Le(L)||P(L))return L=ys(L,j.mode,H,null),L.return=j,L;if(typeof L.then=="function")return ie(j,Dc(L),H);if(L.$$typeof===oe)return ie(j,Ac(j,L),H);Nc(j,L)}return null}function Y(j,L,H,ne){var Oe=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Oe!==null?null:w(j,L,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case C:return H.key===Oe?x(j,L,H,ne):null;case U:return H.key===Oe?F(j,L,H,ne):null;case R:return H=bs(H),Y(j,L,H,ne)}if(Le(H)||P(H))return Oe!==null?null:Z(j,L,H,ne,null);if(typeof H.then=="function")return Y(j,L,Dc(H),ne);if(H.$$typeof===oe)return Y(j,L,Ac(j,H),ne);Nc(j,H)}return null}function X(j,L,H,ne,Oe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return j=j.get(H)||null,w(L,j,""+ne,Oe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return j=j.get(ne.key===null?H:ne.key)||null,x(L,j,ne,Oe);case U:return j=j.get(ne.key===null?H:ne.key)||null,F(L,j,ne,Oe);case R:return ne=bs(ne),X(j,L,H,ne,Oe)}if(Le(ne)||P(ne))return j=j.get(H)||null,Z(L,j,ne,Oe,null);if(typeof ne.then=="function")return X(j,L,H,Dc(ne),Oe);if(ne.$$typeof===oe)return X(j,L,H,Ac(L,ne),Oe);Nc(L,ne)}return null}function we(j,L,H,ne){for(var Oe=null,lt=null,Ce=L,$e=L=0,nt=null;Ce!==null&&$e<H.length;$e++){Ce.index>$e?(nt=Ce,Ce=null):nt=Ce.sibling;var ut=Y(j,Ce,H[$e],ne);if(ut===null){Ce===null&&(Ce=nt);break}t&&Ce&&ut.alternate===null&&i(j,Ce),L=d(ut,L,$e),lt===null?Oe=ut:lt.sibling=ut,lt=ut,Ce=nt}if($e===H.length)return s(j,Ce),st&&Si(j,$e),Oe;if(Ce===null){for(;$e<H.length;$e++)Ce=ie(j,H[$e],ne),Ce!==null&&(L=d(Ce,L,$e),lt===null?Oe=Ce:lt.sibling=Ce,lt=Ce);return st&&Si(j,$e),Oe}for(Ce=l(Ce);$e<H.length;$e++)nt=X(Ce,j,$e,H[$e],ne),nt!==null&&(t&&nt.alternate!==null&&Ce.delete(nt.key===null?$e:nt.key),L=d(nt,L,$e),lt===null?Oe=nt:lt.sibling=nt,lt=nt);return t&&Ce.forEach(function(Da){return i(j,Da)}),st&&Si(j,$e),Oe}function Me(j,L,H,ne){if(H==null)throw Error(a(151));for(var Oe=null,lt=null,Ce=L,$e=L=0,nt=null,ut=H.next();Ce!==null&&!ut.done;$e++,ut=H.next()){Ce.index>$e?(nt=Ce,Ce=null):nt=Ce.sibling;var Da=Y(j,Ce,ut.value,ne);if(Da===null){Ce===null&&(Ce=nt);break}t&&Ce&&Da.alternate===null&&i(j,Ce),L=d(Da,L,$e),lt===null?Oe=Da:lt.sibling=Da,lt=Da,Ce=nt}if(ut.done)return s(j,Ce),st&&Si(j,$e),Oe;if(Ce===null){for(;!ut.done;$e++,ut=H.next())ut=ie(j,ut.value,ne),ut!==null&&(L=d(ut,L,$e),lt===null?Oe=ut:lt.sibling=ut,lt=ut);return st&&Si(j,$e),Oe}for(Ce=l(Ce);!ut.done;$e++,ut=H.next())ut=X(Ce,j,$e,ut.value,ne),ut!==null&&(t&&ut.alternate!==null&&Ce.delete(ut.key===null?$e:ut.key),L=d(ut,L,$e),lt===null?Oe=ut:lt.sibling=ut,lt=ut);return t&&Ce.forEach(function(dR){return i(j,dR)}),st&&Si(j,$e),Oe}function bt(j,L,H,ne){if(typeof H=="object"&&H!==null&&H.type===$&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case C:e:{for(var Oe=H.key;L!==null;){if(L.key===Oe){if(Oe=H.type,Oe===$){if(L.tag===7){s(j,L.sibling),ne=f(L,H.props.children),ne.return=j,j=ne;break e}}else if(L.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===R&&bs(Oe)===L.type){s(j,L.sibling),ne=f(L,H.props),Ol(ne,H),ne.return=j,j=ne;break e}s(j,L);break}else i(j,L);L=L.sibling}H.type===$?(ne=ys(H.props.children,j.mode,ne,H.key),ne.return=j,j=ne):(ne=bc(H.type,H.key,H.props,null,j.mode,ne),Ol(ne,H),ne.return=j,j=ne)}return v(j);case U:e:{for(Oe=H.key;L!==null;){if(L.key===Oe)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){s(j,L.sibling),ne=f(L,H.children||[]),ne.return=j,j=ne;break e}else{s(j,L);break}else i(j,L);L=L.sibling}ne=Gf(H,j.mode,ne),ne.return=j,j=ne}return v(j);case R:return H=bs(H),bt(j,L,H,ne)}if(Le(H))return we(j,L,H,ne);if(P(H)){if(Oe=P(H),typeof Oe!="function")throw Error(a(150));return H=Oe.call(H),Me(j,L,H,ne)}if(typeof H.then=="function")return bt(j,L,Dc(H),ne);if(H.$$typeof===oe)return bt(j,L,Ac(j,H),ne);Nc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(s(j,L.sibling),ne=f(L,H),ne.return=j,j=ne):(s(j,L),ne=Ff(H,j.mode,ne),ne.return=j,j=ne),v(j)):s(j,L)}return function(j,L,H,ne){try{Nl=0;var Oe=bt(j,L,H,ne);return _o=null,Oe}catch(Ce){if(Ce===vo||Ce===Cc)throw Ce;var lt=nr(29,Ce,null,j.mode);return lt.lanes=ne,lt.return=j,lt}}}var Ss=yy(!0),vy=yy(!1),fa=!1;function rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function da(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ma(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ft&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Tc(t),ty(t,null,s),i}return Ec(t,l,i,s),Tc(t)}function xl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,N(t,s)}}function ad(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var sd=!1;function Ml(){if(sd){var t=yo;if(t!==null)throw t}}function Vl(t,i,s,l){sd=!1;var f=t.updateQueue;fa=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var x=w,F=x.next;x.next=null,v===null?d=F:v.next=F,v=x;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==v&&(w===null?Z.firstBaseUpdate=F:w.next=F,Z.lastBaseUpdate=x))}if(d!==null){var ie=f.baseState;v=0,Z=F=x=null,w=d;do{var Y=w.lane&-536870913,X=Y!==w.lane;if(X?(tt&Y)===Y:(l&Y)===Y){Y!==0&&Y===go&&(sd=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=t,Me=w;Y=i;var bt=s;switch(Me.tag){case 1:if(we=Me.payload,typeof we=="function"){ie=we.call(bt,ie,Y);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Me.payload,Y=typeof we=="function"?we.call(bt,ie,Y):we,Y==null)break e;ie=T({},ie,Y);break e;case 2:fa=!0}}Y=w.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(F=Z=X,x=ie):Z=Z.next=X,v|=Y;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(x=ie),f.baseState=x,f.firstBaseUpdate=F,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),_a|=v,t.lanes=v,t.memoizedState=ie}}function _y(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Ey(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)_y(s[t],i)}var Eo=V(null),Oc=V(0);function Ty(t,i){t=Li,ue(Oc,t),ue(Eo,i),Li=t|i.baseLanes}function od(){ue(Oc,Li),ue(Eo,Eo.current)}function ld(){Li=Oc.current,J(Eo),J(Oc)}var rr=V(null),vr=null;function pa(t){var i=t.alternate;ue(Qt,Qt.current&1),ue(rr,t),vr===null&&(i===null||Eo.current!==null||i.memoizedState!==null)&&(vr=t)}function ud(t){ue(Qt,Qt.current),ue(rr,t),vr===null&&(vr=t)}function by(t){t.tag===22?(ue(Qt,Qt.current),ue(rr,t),vr===null&&(vr=t)):ga()}function ga(){ue(Qt,Qt.current),ue(rr,rr.current)}function ir(t){J(rr),vr===t&&(vr=null),J(Qt)}var Qt=V(0);function xc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pm(s)||gm(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ci=0,Ge=null,Et=null,Zt=null,Mc=!1,To=!1,As=!1,Vc=0,Ll=0,bo=null,rA=0;function qt(){throw Error(a(321))}function cd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!tr(t[s],i[s]))return!1;return!0}function hd(t,i,s,l,f,d){return Ci=d,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?av:Rd,As=!1,d=s(l,f),As=!1,To&&(d=Sy(i,s,l,f)),wy(t),d}function wy(t){Q.H=Ul;var i=Et!==null&&Et.next!==null;if(Ci=0,Zt=Et=Ge=null,Mc=!1,Ll=0,bo=null,i)throw Error(a(300));t===null||en||(t=t.dependencies,t!==null&&Sc(t)&&(en=!0))}function Sy(t,i,s,l){Ge=t;var f=0;do{if(To&&(bo=null),Ll=0,To=!1,25<=f)throw Error(a(301));if(f+=1,Zt=Et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=sv,d=i(s,l)}while(To);return d}function iA(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?kl(i):i,t=t.useState()[0],(Et!==null?Et.memoizedState:null)!==t&&(Ge.flags|=1024),i}function fd(){var t=Vc!==0;return Vc=0,t}function dd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function md(t){if(Mc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Mc=!1}Ci=0,Zt=Et=Ge=null,To=!1,Ll=Vc=0,bo=null}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ge.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function Kt(){if(Et===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var i=Zt===null?Ge.memoizedState:Zt.next;if(i!==null)Zt=i,Et=t;else{if(t===null)throw Ge.alternate===null?Error(a(467)):Error(a(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Zt===null?Ge.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(t){var i=Ll;return Ll+=1,bo===null&&(bo=[]),t=my(bo,t,i),i=Ge,(Zt===null?i.memoizedState:Zt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?av:Rd),t}function kc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kl(t);if(t.$$typeof===oe)return mn(t)}throw Error(a(438,String(t)))}function pd(t){var i=null,s=Ge.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Lc(),Ge.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=M;return i.index++,s}function Ii(t,i){return typeof i=="function"?i(t):i}function Pc(t){var i=Kt();return gd(i,Et,t)}function gd(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var w=v=null,x=null,F=i,Z=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(tt&ie)===ie:(Ci&ie)===ie){var Y=F.revertLane;if(Y===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===go&&(Z=!0);else if((Ci&Y)===Y){F=F.next,Y===go&&(Z=!0);continue}else ie={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(w=x=ie,v=d):x=x.next=ie,Ge.lanes|=Y,_a|=Y;ie=F.action,As&&s(d,ie),d=F.hasEagerState?F.eagerState:s(d,ie)}else Y={lane:ie,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(w=x=Y,v=d):x=x.next=Y,Ge.lanes|=ie,_a|=ie;F=F.next}while(F!==null&&F!==i);if(x===null?v=d:x.next=w,!tr(d,t.memoizedState)&&(en=!0,Z&&(s=yo,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yd(t){var i=Kt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);tr(d,i.memoizedState)||(en=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Ay(t,i,s){var l=Ge,f=Kt(),d=st;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!tr((Et||f).memoizedState,s);if(v&&(f.memoizedState=s,en=!0),f=f.queue,Ed(Iy.bind(null,l,f,t),[t]),f.getSnapshot!==i||v||Zt!==null&&Zt.memoizedState.tag&1){if(l.flags|=2048,wo(9,{destroy:void 0},Cy.bind(null,l,f,s,i),null),St===null)throw Error(a(349));d||(Ci&127)!==0||Ry(l,i,s)}return s}function Ry(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ge.updateQueue,i===null?(i=Lc(),Ge.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Cy(t,i,s,l){i.value=s,i.getSnapshot=l,Dy(i)&&Ny(t)}function Iy(t,i,s){return s(function(){Dy(i)&&Ny(t)})}function Dy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!tr(t,s)}catch{return!0}}function Ny(t){var i=gs(t,2);i!==null&&Hn(i,t,2)}function vd(t){var i=Vn();if(typeof t=="function"){var s=t;if(t=s(),As){Nn(!0);try{s()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},i}function Oy(t,i,s,l){return t.baseState=s,gd(t,Et,typeof l=="function"?l:Ii)}function aA(t,i,s,l,f){if(jc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,xy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function xy(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var w=s(f,l),x=Q.S;x!==null&&x(v,w),My(t,i,w)}catch(F){_d(t,i,F)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=s(f,l),My(t,i,d)}catch(F){_d(t,i,F)}}function My(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Vy(t,i,l)},function(l){return _d(t,i,l)}):Vy(t,i,s)}function Vy(t,i,s){i.status="fulfilled",i.value=s,Ly(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,xy(t,s)))}function _d(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Ly(i),i=i.next;while(i!==l)}t.action=null}function Ly(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ky(t,i){return i}function Py(t,i){if(st){var s=St.formState;if(s!==null){e:{var l=Ge;if(st){if(Nt){t:{for(var f=Nt,d=yr;f.nodeType!==8;){if(!d){f=null;break t}if(f=_r(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Nt=_r(f.nextSibling),l=f.data==="F!";break e}}ca(l)}l=!1}l&&(i=s[0])}}return s=Vn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ky,lastRenderedState:i},s.queue=l,s=nv.bind(null,Ge,l),l.dispatch=s,l=vd(!1),d=Ad.bind(null,Ge,!1,l.queue),l=Vn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=aA.bind(null,Ge,f,d,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function Uy(t){var i=Kt();return zy(i,Et,t)}function zy(t,i,s){if(i=gd(t,i,ky)[0],t=Pc(Ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=kl(i)}catch(v){throw v===vo?Cc:v}else l=i;i=Kt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Ge.flags|=2048,wo(9,{destroy:void 0},sA.bind(null,f,s),null)),[l,d,t]}function sA(t,i){t.action=i}function jy(t){var i=Kt(),s=Et;if(s!==null)return zy(i,s,t);Kt(),i=i.memoizedState,s=Kt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function wo(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=Lc(),Ge.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function By(){return Kt().memoizedState}function Uc(t,i,s,l){var f=Vn();Ge.flags|=t,f.memoizedState=wo(1|i,{destroy:void 0},s,l===void 0?null:l)}function zc(t,i,s,l){var f=Kt();l=l===void 0?null:l;var d=f.memoizedState.inst;Et!==null&&l!==null&&cd(l,Et.memoizedState.deps)?f.memoizedState=wo(i,d,s,l):(Ge.flags|=t,f.memoizedState=wo(1|i,d,s,l))}function qy(t,i){Uc(8390656,8,t,i)}function Ed(t,i){zc(2048,8,t,i)}function oA(t){Ge.flags|=4;var i=Ge.updateQueue;if(i===null)i=Lc(),Ge.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function Hy(t){var i=Kt().memoizedState;return oA({ref:i,nextImpl:t}),function(){if((ft&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Fy(t,i){return zc(4,2,t,i)}function Gy(t,i){return zc(4,4,t,i)}function Qy(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ky(t,i,s){s=s!=null?s.concat([t]):null,zc(4,4,Qy.bind(null,i,t),s)}function Td(){}function Yy(t,i){var s=Kt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&cd(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function $y(t,i){var s=Kt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&cd(i,l[1]))return l[0];if(l=t(),As){Nn(!0);try{t()}finally{Nn(!1)}}return s.memoizedState=[l,i],l}function bd(t,i,s){return s===void 0||(Ci&1073741824)!==0&&(tt&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Wv(),Ge.lanes|=t,_a|=t,s)}function Wy(t,i,s,l){return tr(s,i)?s:Eo.current!==null?(t=bd(t,s,l),tr(t,i)||(en=!0),t):(Ci&42)===0||(Ci&1073741824)!==0&&(tt&261930)===0?(en=!0,t.memoizedState=s):(t=Wv(),Ge.lanes|=t,_a|=t,i)}function Xy(t,i,s,l,f){var d=ce.p;ce.p=d!==0&&8>d?d:8;var v=Q.T,w={};Q.T=w,Ad(t,!1,i,s);try{var x=f(),F=Q.S;if(F!==null&&F(w,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=nA(x,l);Pl(t,i,Z,or(t))}else Pl(t,i,l,or(t))}catch(ie){Pl(t,i,{then:function(){},status:"rejected",reason:ie},or())}finally{ce.p=d,v!==null&&w.types!==null&&(v.types=w.types),Q.T=v}}function lA(){}function wd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=Jy(t).queue;Xy(t,f,i,fe,s===null?lA:function(){return Zy(t),s(l)})}function Jy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:fe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Zy(t){var i=Jy(t);i.next===null&&(i=t.alternate.memoizedState),Pl(t,i.next.queue,{},or())}function Sd(){return mn(eu)}function ev(){return Kt().memoizedState}function tv(){return Kt().memoizedState}function uA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=or();t=da(s);var l=ma(i,t,s);l!==null&&(Hn(l,i,s),xl(l,i,s)),i={cache:Zf()},t.payload=i;return}i=i.return}}function cA(t,i,s){var l=or();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},jc(t)?rv(i,s):(s=qf(t,i,s,l),s!==null&&(Hn(s,t,l),iv(s,i,l)))}function nv(t,i,s){var l=or();Pl(t,i,s,l)}function Pl(t,i,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(jc(t))rv(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,w=d(v,s);if(f.hasEagerState=!0,f.eagerState=w,tr(w,v))return Ec(t,i,f,0),St===null&&_c(),!1}catch{}if(s=qf(t,i,f,l),s!==null)return Hn(s,t,l),iv(s,i,l),!0}return!1}function Ad(t,i,s,l){if(l={lane:2,revertLane:rm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jc(t)){if(i)throw Error(a(479))}else i=qf(t,s,l,2),i!==null&&Hn(i,t,2)}function jc(t){var i=t.alternate;return t===Ge||i!==null&&i===Ge}function rv(t,i){To=Mc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function iv(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,N(t,s)}}var Ul={readContext:mn,use:kc,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};Ul.useEffectEvent=qt;var av={readContext:mn,use:kc,useCallback:function(t,i){return Vn().memoizedState=[t,i===void 0?null:i],t},useContext:mn,useEffect:qy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Uc(4194308,4,Qy.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Uc(4194308,4,t,i)},useInsertionEffect:function(t,i){Uc(4,2,t,i)},useMemo:function(t,i){var s=Vn();i=i===void 0?null:i;var l=t();if(As){Nn(!0);try{t()}finally{Nn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Vn();if(s!==void 0){var f=s(i);if(As){Nn(!0);try{s(i)}finally{Nn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=cA.bind(null,Ge,t),[l.memoizedState,t]},useRef:function(t){var i=Vn();return t={current:t},i.memoizedState=t},useState:function(t){t=vd(t);var i=t.queue,s=nv.bind(null,Ge,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Td,useDeferredValue:function(t,i){var s=Vn();return bd(s,t,i)},useTransition:function(){var t=vd(!1);return t=Xy.bind(null,Ge,t.queue,!0,!1),Vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ge,f=Vn();if(st){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),St===null)throw Error(a(349));(tt&127)!==0||Ry(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,qy(Iy.bind(null,l,d,t),[t]),l.flags|=2048,wo(9,{destroy:void 0},Cy.bind(null,l,d,s,i),null),s},useId:function(){var t=Vn(),i=St.identifierPrefix;if(st){var s=ei,l=Zr;s=(l&~(1<<32-Mt(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Vc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=rA++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Sd,useFormState:Py,useActionState:Py,useOptimistic:function(t){var i=Vn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ad.bind(null,Ge,!0,s),s.dispatch=i,[t,i]},useMemoCache:pd,useCacheRefresh:function(){return Vn().memoizedState=uA.bind(null,Ge)},useEffectEvent:function(t){var i=Vn(),s={impl:t};return i.memoizedState=s,function(){if((ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rd={readContext:mn,use:kc,useCallback:Yy,useContext:mn,useEffect:Ed,useImperativeHandle:Ky,useInsertionEffect:Fy,useLayoutEffect:Gy,useMemo:$y,useReducer:Pc,useRef:By,useState:function(){return Pc(Ii)},useDebugValue:Td,useDeferredValue:function(t,i){var s=Kt();return Wy(s,Et.memoizedState,t,i)},useTransition:function(){var t=Pc(Ii)[0],i=Kt().memoizedState;return[typeof t=="boolean"?t:kl(t),i]},useSyncExternalStore:Ay,useId:ev,useHostTransitionStatus:Sd,useFormState:Uy,useActionState:Uy,useOptimistic:function(t,i){var s=Kt();return Oy(s,Et,t,i)},useMemoCache:pd,useCacheRefresh:tv};Rd.useEffectEvent=Hy;var sv={readContext:mn,use:kc,useCallback:Yy,useContext:mn,useEffect:Ed,useImperativeHandle:Ky,useInsertionEffect:Fy,useLayoutEffect:Gy,useMemo:$y,useReducer:yd,useRef:By,useState:function(){return yd(Ii)},useDebugValue:Td,useDeferredValue:function(t,i){var s=Kt();return Et===null?bd(s,t,i):Wy(s,Et.memoizedState,t,i)},useTransition:function(){var t=yd(Ii)[0],i=Kt().memoizedState;return[typeof t=="boolean"?t:kl(t),i]},useSyncExternalStore:Ay,useId:ev,useHostTransitionStatus:Sd,useFormState:jy,useActionState:jy,useOptimistic:function(t,i){var s=Kt();return Et!==null?Oy(s,Et,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:pd,useCacheRefresh:tv};sv.useEffectEvent=Hy;function Cd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:T({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Id={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=or(),f=da(l);f.payload=i,s!=null&&(f.callback=s),i=ma(t,f,l),i!==null&&(Hn(i,t,l),xl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=or(),f=da(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=ma(t,f,l),i!==null&&(Hn(i,t,l),xl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=or(),l=da(s);l.tag=2,i!=null&&(l.callback=i),i=ma(t,l,s),i!==null&&(Hn(i,t,s),xl(i,t,s))}};function ov(t,i,s,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Sl(s,l)||!Sl(f,d):!0}function lv(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Id.enqueueReplaceState(i,i.state,null)}function Rs(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=T({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function uv(t){vc(t)}function cv(t){console.error(t)}function hv(t){vc(t)}function Bc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function fv(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dd(t,i,s){return s=da(s),s.tag=3,s.payload={element:null},s.callback=function(){Bc(t,i)},s}function dv(t){return t=da(t),t.tag=3,t}function mv(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){fv(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){fv(i,s,l),typeof f!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function hA(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&po(i,s,f,!0),s=rr.current,s!==null){switch(s.tag){case 31:case 13:return vr===null?Zc():s.alternate===null&&Ht===0&&(Ht=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Ic?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),em(t,l,f)),!1;case 22:return s.flags|=65536,l===Ic?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),em(t,l,f)),!1}throw Error(a(435,s.tag))}return em(t,l,f),Zc(),!1}if(st)return i=rr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Yf&&(t=Error(a(422),{cause:l}),Cl(mr(t,s)))):(l!==Yf&&(i=Error(a(423),{cause:l}),Cl(mr(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=mr(l,s),f=Dd(t.stateNode,l,f),ad(t,f),Ht!==4&&(Ht=2)),!1;var d=Error(a(520),{cause:l});if(d=mr(d,s),Ql===null?Ql=[d]:Ql.push(d),Ht!==4&&(Ht=2),i===null)return!0;l=mr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Dd(s.stateNode,l,t),ad(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ea===null||!Ea.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=dv(f),mv(f,t,s,l),ad(s,f),!1}s=s.return}while(s!==null);return!1}var Nd=Error(a(461)),en=!1;function pn(t,i,s,l){i.child=t===null?vy(i,null,s,l):Ss(i,t.child,s,l)}function pv(t,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Es(i),l=hd(t,i,s,v,d,f),w=fd(),t!==null&&!en?(dd(t,i,f),Di(t,i,f)):(st&&w&&Qf(i),i.flags|=1,pn(t,i,l,f),i.child)}function gv(t,i,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!Hf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,yv(t,i,d,l,f)):(t=bc(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ud(t,f)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Sl,s(v,l)&&t.ref===i.ref)return Di(t,i,f)}return i.flags|=1,t=wi(d,l),t.ref=i.ref,t.return=i,i.child=t}function yv(t,i,s,l,f){if(t!==null){var d=t.memoizedProps;if(Sl(d,l)&&t.ref===i.ref)if(en=!1,i.pendingProps=l=d,Ud(t,f))(t.flags&131072)!==0&&(en=!0);else return i.lanes=t.lanes,Di(t,i,f)}return Od(t,i,s,l,f)}function vv(t,i,s,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return _v(t,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rc(i,d!==null?d.cachePool:null),d!==null?Ty(i,d):od(),by(i);else return l=i.lanes=536870912,_v(t,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Rc(i,d.cachePool),Ty(i,d),ga(),i.memoizedState=null):(t!==null&&Rc(i,null),od(),ga());return pn(t,i,f,s),i.child}function zl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function _v(t,i,s,l,f){var d=td();return d=d===null?null:{parent:Jt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&Rc(i,null),od(),by(i),t!==null&&po(t,i,l,!0),i.childLanes=f,null}function qc(t,i){return i=Fc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ev(t,i,s){return Ss(i,t.child,null,s),t=qc(i,i.pendingProps),t.flags|=2,ir(i),i.memoizedState=null,t}function fA(t,i,s){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(st){if(l.mode==="hidden")return t=qc(i,l),i.lanes=536870912,zl(null,t);if(ud(i),(t=Nt)?(t=x_(t,yr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:la!==null?{id:Zr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},s=ry(t),s.return=i,i.child=s,dn=i,Nt=null)):t=null,t===null)throw ca(i);return i.lanes=536870912,null}return qc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(ud(i),f)if(i.flags&256)i.flags&=-257,i=Ev(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(en||po(t,i,s,!1),f=(s&t.childLanes)!==0,en||f){if(l=St,l!==null&&(v=z(l,s),v!==0&&v!==d.retryLane))throw d.retryLane=v,gs(t,v),Hn(l,t,v),Nd;Zc(),i=Ev(t,i,s)}else t=d.treeContext,Nt=_r(v.nextSibling),dn=i,st=!0,ua=null,yr=!1,t!==null&&sy(i,t),i=qc(i,l),i.flags|=4096;return i}return t=wi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Hc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Od(t,i,s,l,f){return Es(i),s=hd(t,i,s,l,void 0,f),l=fd(),t!==null&&!en?(dd(t,i,f),Di(t,i,f)):(st&&l&&Qf(i),i.flags|=1,pn(t,i,s,f),i.child)}function Tv(t,i,s,l,f,d){return Es(i),i.updateQueue=null,s=Sy(i,l,s,f),wy(t),l=fd(),t!==null&&!en?(dd(t,i,d),Di(t,i,d)):(st&&l&&Qf(i),i.flags|=1,pn(t,i,s,d),i.child)}function bv(t,i,s,l,f){if(Es(i),i.stateNode===null){var d=co,v=s.contextType;typeof v=="object"&&v!==null&&(d=mn(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},rd(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?mn(v):co,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Cd(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Id.enqueueReplaceState(d,d.state,null),Vl(i,l,d,f),Ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,x=Rs(s,w);d.props=x;var F=d.context,Z=s.contextType;v=co,typeof Z=="object"&&Z!==null&&(v=mn(Z));var ie=s.getDerivedStateFromProps;Z=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||F!==v)&&lv(i,d,l,v),fa=!1;var Y=i.memoizedState;d.state=Y,Vl(i,l,d,f),Ml(),F=i.memoizedState,w||Y!==F||fa?(typeof ie=="function"&&(Cd(i,s,ie,l),F=i.memoizedState),(x=fa||ov(i,s,x,l,Y,F,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,id(t,i),v=i.memoizedProps,Z=Rs(s,v),d.props=Z,ie=i.pendingProps,Y=d.context,F=s.contextType,x=co,typeof F=="object"&&F!==null&&(x=mn(F)),w=s.getDerivedStateFromProps,(F=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ie||Y!==x)&&lv(i,d,l,x),fa=!1,Y=i.memoizedState,d.state=Y,Vl(i,l,d,f),Ml();var X=i.memoizedState;v!==ie||Y!==X||fa||t!==null&&t.dependencies!==null&&Sc(t.dependencies)?(typeof w=="function"&&(Cd(i,s,w,l),X=i.memoizedState),(Z=fa||ov(i,s,Z,l,Y,X,x)||t!==null&&t.dependencies!==null&&Sc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=x,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Hc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ss(i,t.child,null,f),i.child=Ss(i,null,s,f)):pn(t,i,s,f),i.memoizedState=d.state,t=i.child):t=Di(t,i,f),t}function wv(t,i,s,l){return vs(),i.flags|=256,pn(t,i,s,l),i.child}var xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Md(t){return{baseLanes:t,cachePool:fy()}}function Vd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=sr),t}function Sv(t,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(st){if(f?pa(i):ga(),(t=Nt)?(t=x_(t,yr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:la!==null?{id:Zr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},s=ry(t),s.return=i,i.child=s,dn=i,Nt=null)):t=null,t===null)throw ca(i);return gm(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(ga(),f=i.mode,w=Fc({mode:"hidden",children:w},f),l=ys(l,f,s,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=Md(s),l.childLanes=Vd(t,v,s),i.memoizedState=xd,zl(null,l)):(pa(i),Ld(i,w))}var x=t.memoizedState;if(x!==null&&(w=x.dehydrated,w!==null)){if(d)i.flags&256?(pa(i),i.flags&=-257,i=kd(t,i,s)):i.memoizedState!==null?(ga(),i.child=t.child,i.flags|=128,i=null):(ga(),w=l.fallback,f=i.mode,l=Fc({mode:"visible",children:l.children},f),w=ys(w,f,s,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,Ss(i,t.child,null,s),l=i.child,l.memoizedState=Md(s),l.childLanes=Vd(t,v,s),i.memoizedState=xd,i=zl(null,l));else if(pa(i),gm(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(a(419)),l.stack="",l.digest=v,Cl({value:l,source:null,stack:null}),i=kd(t,i,s)}else if(en||po(t,i,s,!1),v=(s&t.childLanes)!==0,en||v){if(v=St,v!==null&&(l=z(v,s),l!==0&&l!==x.retryLane))throw x.retryLane=l,gs(t,l),Hn(v,t,l),Nd;pm(w)||Zc(),i=kd(t,i,s)}else pm(w)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,Nt=_r(w.nextSibling),dn=i,st=!0,ua=null,yr=!1,t!==null&&sy(i,t),i=Ld(i,l.children),i.flags|=4096);return i}return f?(ga(),w=l.fallback,f=i.mode,x=t.child,F=x.sibling,l=wi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?w=wi(F,w):(w=ys(w,f,s,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,zl(null,l),l=i.child,w=t.child.memoizedState,w===null?w=Md(s):(f=w.cachePool,f!==null?(x=Jt._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=fy(),w={baseLanes:w.baseLanes|s,cachePool:f}),l.memoizedState=w,l.childLanes=Vd(t,v,s),i.memoizedState=xd,zl(t.child,l)):(pa(i),s=t.child,t=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function Ld(t,i){return i=Fc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Fc(t,i){return t=nr(22,t,null,i),t.lanes=0,t}function kd(t,i,s){return Ss(i,t.child,null,s),t=Ld(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Av(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Xf(t.return,i,s)}function Pd(t,i,s,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=f,v.treeForkCount=d)}function Rv(t,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=Qt.current,w=(v&2)!==0;if(w?(v=v&1|2,i.flags|=128):v&=1,ue(Qt,v),pn(t,i,l,s),l=st?Rl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Av(t,s,i);else if(t.tag===19)Av(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&xc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Pd(i,!1,f,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&xc(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Pd(i,!0,s,null,d,l);break;case"together":Pd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Di(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),_a|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(po(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=wi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=wi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Ud(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Sc(t)))}function dA(t,i,s){switch(i.tag){case 3:je(i,i.stateNode.containerInfo),ha(i,Jt,t.memoizedState.cache),vs();break;case 27:case 5:gi(i);break;case 4:je(i,i.stateNode.containerInfo);break;case 10:ha(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ud(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(pa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Sv(t,i,s):(pa(i),t=Di(t,i,s),t!==null?t.sibling:null);pa(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(po(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return Rv(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Qt,Qt.current),l)break;return null;case 22:return i.lanes=0,vv(t,i,s,i.pendingProps);case 24:ha(i,Jt,t.memoizedState.cache)}return Di(t,i,s)}function Cv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)en=!0;else{if(!Ud(t,s)&&(i.flags&128)===0)return en=!1,dA(t,i,s);en=(t.flags&131072)!==0}else en=!1,st&&(i.flags&1048576)!==0&&ay(i,Rl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=bs(i.elementType),i.type=t,typeof t=="function")Hf(t)?(l=Rs(t,l),i.tag=1,i=bv(null,i,t,l,s)):(i.tag=0,i=Od(null,i,t,l,s));else{if(t!=null){var f=t.$$typeof;if(f===De){i.tag=11,i=pv(null,i,t,l,s);break e}else if(f===b){i.tag=14,i=gv(null,i,t,l,s);break e}}throw i=Ve(t)||t,Error(a(306,i,""))}}return i;case 0:return Od(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=Rs(l,i.pendingProps),bv(t,i,l,f,s);case 3:e:{if(je(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,id(t,i),Vl(i,l,null,s);var v=i.memoizedState;if(l=v.cache,ha(i,Jt,l),l!==d.cache&&Jf(i,[Jt],s,!0),Ml(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=wv(t,i,l,s);break e}else if(l!==f){f=mr(Error(a(424)),i),Cl(f),i=wv(t,i,l,s);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Nt=_r(t.firstChild),dn=i,st=!0,ua=null,yr=!0,s=vy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(vs(),l===f){i=Di(t,i,s);break e}pn(t,i,l,s)}i=i.child}return i;case 26:return Hc(t,i),t===null?(s=U_(i.type,null,i.pendingProps,null))?i.memoizedState=s:st||(s=i.type,t=i.pendingProps,l=sh(de.current).createElement(s),l[ge]=i,l[ve]=t,gn(l,s,t),Ct(l),i.stateNode=l):i.memoizedState=U_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return gi(i),t===null&&st&&(l=i.stateNode=L_(i.type,i.pendingProps,de.current),dn=i,yr=!0,f=Nt,Sa(i.type)?(ym=f,Nt=_r(l.firstChild)):Nt=f),pn(t,i,i.pendingProps.children,s),Hc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&st&&((f=l=Nt)&&(l=HA(l,i.type,i.pendingProps,yr),l!==null?(i.stateNode=l,dn=i,Nt=_r(l.firstChild),yr=!1,f=!0):f=!1),f||ca(i)),gi(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,fm(f,d)?l=null:v!==null&&fm(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=hd(t,i,iA,null,null,s),eu._currentValue=f),Hc(t,i),pn(t,i,l,s),i.child;case 6:return t===null&&st&&((t=s=Nt)&&(s=FA(s,i.pendingProps,yr),s!==null?(i.stateNode=s,dn=i,Nt=null,t=!0):t=!1),t||ca(i)),null;case 13:return Sv(t,i,s);case 4:return je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ss(i,null,l,s):pn(t,i,l,s),i.child;case 11:return pv(t,i,i.type,i.pendingProps,s);case 7:return pn(t,i,i.pendingProps,s),i.child;case 8:return pn(t,i,i.pendingProps.children,s),i.child;case 12:return pn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ha(i,i.type,l.value),pn(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Es(i),f=mn(f),l=l(f),i.flags|=1,pn(t,i,l,s),i.child;case 14:return gv(t,i,i.type,i.pendingProps,s);case 15:return yv(t,i,i.type,i.pendingProps,s);case 19:return Rv(t,i,s);case 31:return fA(t,i,s);case 22:return vv(t,i,s,i.pendingProps);case 24:return Es(i),l=mn(Jt),t===null?(f=td(),f===null&&(f=St,d=Zf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},rd(i),ha(i,Jt,f)):((t.lanes&s)!==0&&(id(t,i),Vl(i,null,null,s),Ml()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ha(i,Jt,l)):(l=d.cache,ha(i,Jt,l),l!==f.cache&&Jf(i,[Jt],s,!0))),pn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ni(t){t.flags|=4}function zd(t,i,s,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(e_())t.flags|=8192;else throw ws=Ic,nd}else t.flags&=-16777217}function Iv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!H_(i))if(e_())t.flags|=8192;else throw ws=Ic,nd}function Gc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?vi():536870912,t.lanes|=i,Co|=i)}function jl(t,i){if(!st)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function mA(t,i,s){var l=i.pendingProps;switch(Kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ri(Jt),dt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(mo(i)?Ni(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$f())),Ot(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Ni(i),d!==null?(Ot(i),Iv(i,d)):(Ot(i),zd(i,f,null,l,s))):d?d!==t.memoizedState?(Ni(i),Ot(i),Iv(i,d)):(Ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ni(i),Ot(i),zd(i,f,t,l,s)),null;case 27:if($i(i),s=de.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}t=pe.current,mo(i)?oy(i):(t=L_(f,l,s),i.stateNode=t,Ni(i))}return Ot(i),null;case 5:if($i(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}if(d=pe.current,mo(i))oy(i);else{var v=sh(de.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[ge]=i,d[ve]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(gn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ni(i)}}return Ot(i),zd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ni(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=de.current,mo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=dn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[ge]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||S_(t.nodeValue,s)),t||ca(i,!0)}else t=sh(t).createTextNode(l),t[ge]=i,i.stateNode=t}return Ot(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=mo(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[ge]=i}else vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),t=!1}else s=$f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(ir(i),i):(ir(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=mo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ge]=i}else vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),f=!1}else f=$f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ir(i),i):(ir(i),null)}return ir(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Gc(i,i.updateQueue),Ot(i),null);case 4:return dt(),t===null&&om(i.stateNode.containerInfo),Ot(i),null;case 10:return Ri(i.type),Ot(i),null;case 19:if(J(Qt),l=i.memoizedState,l===null)return Ot(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)jl(l,!1);else{if(Ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=xc(t),d!==null){for(i.flags|=128,jl(l,!1),t=d.updateQueue,i.updateQueue=t,Gc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)ny(s,t),s=s.sibling;return ue(Qt,Qt.current&1|2),st&&Si(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&zt()>Wc&&(i.flags|=128,f=!0,jl(l,!1),i.lanes=4194304)}else{if(!f)if(t=xc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Gc(i,t),jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!st)return Ot(i),null}else 2*zt()-l.renderingStartTime>Wc&&s!==536870912&&(i.flags|=128,f=!0,jl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=zt(),t.sibling=null,s=Qt.current,ue(Qt,f?s&1|2:s&1),st&&Si(i,l.treeForkCount),t):(Ot(i),null);case 22:case 23:return ir(i),ld(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),s=i.updateQueue,s!==null&&Gc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&J(Ts),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ri(Jt),Ot(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function pA(t,i){switch(Kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ri(Jt),dt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $i(i),null;case 31:if(i.memoizedState!==null){if(ir(i),i.alternate===null)throw Error(a(340));vs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(ir(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));vs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(Qt),null;case 4:return dt(),null;case 10:return Ri(i.type),null;case 22:case 23:return ir(i),ld(),t!==null&&J(Ts),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ri(Jt),null;case 25:return null;default:return null}}function Dv(t,i){switch(Kf(i),i.tag){case 3:Ri(Jt),dt();break;case 26:case 27:case 5:$i(i);break;case 4:dt();break;case 31:i.memoizedState!==null&&ir(i);break;case 13:ir(i);break;case 19:J(Qt);break;case 10:Ri(i.type);break;case 22:case 23:ir(i),ld(),t!==null&&J(Ts);break;case 24:Ri(Jt)}}function Bl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==f)}}catch(w){gt(i,i.return,w)}}function ya(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,f=i;var x=s,F=w;try{F()}catch(Z){gt(f,x,Z)}}}l=l.next}while(l!==d)}}catch(Z){gt(i,i.return,Z)}}function Nv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Ey(i,s)}catch(l){gt(t,t.return,l)}}}function Ov(t,i,s){s.props=Rs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){gt(t,i,l)}}function ql(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){gt(t,i,f)}}function ti(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){gt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){gt(t,i,f)}else s.current=null}function xv(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){gt(t,t.return,f)}}function jd(t,i,s){try{var l=t.stateNode;PA(l,t.type,s,i),l[ve]=i}catch(f){gt(t,t.return,f)}}function Mv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sa(t.type)||t.tag===4}function Bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Cr));else if(l!==4&&(l===27&&Sa(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(qd(t,i,s),t=t.sibling;t!==null;)qd(t,i,s),t=t.sibling}function Qc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Sa(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Qc(t,i,s),t=t.sibling;t!==null;)Qc(t,i,s),t=t.sibling}function Vv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);gn(i,l,s),i[ge]=t,i[ve]=s}catch(d){gt(t,t.return,d)}}var Oi=!1,tn=!1,Hd=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,cn=null;function gA(t,i){if(t=t.containerInfo,cm=dh,t=Kg(t),kf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,w=-1,x=-1,F=0,Z=0,ie=t,Y=null;t:for(;;){for(var X;ie!==s||f!==0&&ie.nodeType!==3||(w=v+f),ie!==d||l!==0&&ie.nodeType!==3||(x=v+l),ie.nodeType===3&&(v+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Y=ie,ie=X;for(;;){if(ie===t)break t;if(Y===s&&++F===f&&(w=v),Y===d&&++Z===l&&(x=v),(X=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=X}s=w===-1||x===-1?null:{start:w,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(hm={focusedElem:t,selectionRange:s},dh=!1,cn=i;cn!==null;)if(i=cn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,cn=t;else for(;cn!==null;){switch(i=cn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var we=Rs(s.type,f);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Me){gt(s,s.return,Me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)mm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,cn=t;break}cn=i.return}}function kv(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Mi(t,s),l&4&&Bl(5,s);break;case 1:if(Mi(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){gt(s,s.return,v)}else{var f=Rs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){gt(s,s.return,v)}}l&64&&Nv(s),l&512&&ql(s,s.return);break;case 3:if(Mi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Ey(t,i)}catch(v){gt(s,s.return,v)}}break;case 27:i===null&&l&4&&Vv(s);case 26:case 5:Mi(t,s),i===null&&l&4&&xv(s),l&512&&ql(s,s.return);break;case 12:Mi(t,s);break;case 31:Mi(t,s),l&4&&zv(t,s);break;case 13:Mi(t,s),l&4&&jv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=AA.bind(null,s),GA(t,s))));break;case 22:if(l=s.memoizedState!==null||Oi,!l){i=i!==null&&i.memoizedState!==null||tn,f=Oi;var d=tn;Oi=l,(tn=i)&&!d?Vi(t,s,(s.subtreeFlags&8772)!==0):Mi(t,s),Oi=f,tn=d}break;case 30:break;default:Mi(t,s)}}function Pv(t){var i=t.alternate;i!==null&&(t.alternate=null,Pv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Dt(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var kt=null,zn=!1;function xi(t,i,s){for(s=s.child;s!==null;)Uv(t,i,s),s=s.sibling}function Uv(t,i,s){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Wn,s)}catch{}switch(s.tag){case 26:tn||ti(s,i),xi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:tn||ti(s,i);var l=kt,f=zn;Sa(s.type)&&(kt=s.stateNode,zn=!1),xi(t,i,s),Xl(s.stateNode),kt=l,zn=f;break;case 5:tn||ti(s,i);case 6:if(l=kt,f=zn,kt=null,xi(t,i,s),kt=l,zn=f,kt!==null)if(zn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(s.stateNode)}catch(d){gt(s,i,d)}else try{kt.removeChild(s.stateNode)}catch(d){gt(s,i,d)}break;case 18:kt!==null&&(zn?(t=kt,N_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Lo(t)):N_(kt,s.stateNode));break;case 4:l=kt,f=zn,kt=s.stateNode.containerInfo,zn=!0,xi(t,i,s),kt=l,zn=f;break;case 0:case 11:case 14:case 15:ya(2,s,i),tn||ya(4,s,i),xi(t,i,s);break;case 1:tn||(ti(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ov(s,i,l)),xi(t,i,s);break;case 21:xi(t,i,s);break;case 22:tn=(l=tn)||s.memoizedState!==null,xi(t,i,s),tn=l;break;default:xi(t,i,s)}}function zv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Lo(t)}catch(s){gt(i,i.return,s)}}}function jv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Lo(t)}catch(s){gt(i,i.return,s)}}function yA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Lv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Lv),i;default:throw Error(a(435,t.tag))}}function Kc(t,i){var s=yA(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var f=RA.bind(null,t,l);l.then(f,f)}})}function jn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,v=i,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Sa(w.type)){kt=w.stateNode,zn=!1;break e}break;case 5:kt=w.stateNode,zn=!1;break e;case 3:case 4:kt=w.stateNode.containerInfo,zn=!0;break e}w=w.return}if(kt===null)throw Error(a(160));Uv(d,v,f),kt=null,zn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Bv(i,t),i=i.sibling}var Mr=null;function Bv(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(i,t),Bn(t),l&4&&(ya(3,t,t.return),Bl(3,t),ya(5,t,t.return));break;case 1:jn(i,t),Bn(t),l&512&&(tn||s===null||ti(s,s.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Mr;if(jn(i,t),Bn(t),l&512&&(tn||s===null||ti(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yt]||d[ge]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),gn(d,l,s),d[ge]=t,Ct(d),l=d;break e;case"link":var v=B_("link","href",f).get(l+(s.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(w,1);break t}}d=f.createElement(l),gn(d,l,s),f.head.appendChild(d);break;case"meta":if(v=B_("meta","content",f).get(l+(s.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(w,1);break t}}d=f.createElement(l),gn(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[ge]=t,Ct(d),l=d}t.stateNode=l}else q_(f,t.type,t.stateNode);else t.stateNode=j_(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?q_(f,t.type,t.stateNode):j_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jd(t,t.memoizedProps,s.memoizedProps)}break;case 27:jn(i,t),Bn(t),l&512&&(tn||s===null||ti(s,s.return)),s!==null&&l&4&&jd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(jn(i,t),Bn(t),l&512&&(tn||s===null||ti(s,s.return)),t.flags&32){f=t.stateNode;try{Un(f,"")}catch(we){gt(t,t.return,we)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,jd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(Hd=!0);break;case 6:if(jn(i,t),Bn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(we){gt(t,t.return,we)}}break;case 3:if(uh=null,f=Mr,Mr=oh(i.containerInfo),jn(i,t),Mr=f,Bn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Lo(i.containerInfo)}catch(we){gt(t,t.return,we)}Hd&&(Hd=!1,qv(t));break;case 4:l=Mr,Mr=oh(t.stateNode.containerInfo),jn(i,t),Bn(t),Mr=l;break;case 12:jn(i,t),Bn(t);break;case 31:jn(i,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 13:jn(i,t),Bn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($c=zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 22:f=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,F=Oi,Z=tn;if(Oi=F||f,tn=Z||x,jn(i,t),tn=Z,Oi=F,Bn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||x||Oi||tn||Cs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){x=s=i;try{if(d=x.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=x.stateNode;var ie=x.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(we){gt(x,x.return,we)}}}else if(i.tag===6){if(s===null){x=i;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(we){gt(x,x.return,we)}}}else if(i.tag===18){if(s===null){x=i;try{var X=x.stateNode;f?O_(X,!0):O_(x.stateNode,!1)}catch(we){gt(x,x.return,we)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Kc(t,s))));break;case 19:jn(i,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 30:break;case 21:break;default:jn(i,t),Bn(t)}}function Bn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Mv(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Bd(t);Qc(t,d,f);break;case 5:var v=s.stateNode;s.flags&32&&(Un(v,""),s.flags&=-33);var w=Bd(t);Qc(t,w,v);break;case 3:case 4:var x=s.stateNode.containerInfo,F=Bd(t);qd(t,F,x);break;default:throw Error(a(161))}}catch(Z){gt(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function qv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;qv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Mi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)kv(t,i.alternate,i),i=i.sibling}function Cs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ya(4,i,i.return),Cs(i);break;case 1:ti(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Ov(i,i.return,s),Cs(i);break;case 27:Xl(i.stateNode);case 26:case 5:ti(i,i.return),Cs(i);break;case 22:i.memoizedState===null&&Cs(i);break;case 30:Cs(i);break;default:Cs(i)}t=t.sibling}}function Vi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vi(f,d,s),Bl(4,d);break;case 1:if(Vi(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){gt(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)_y(x[f],w)}catch(F){gt(l,l.return,F)}}s&&v&64&&Nv(d),ql(d,d.return);break;case 27:Vv(d);case 26:case 5:Vi(f,d,s),s&&l===null&&v&4&&xv(d),ql(d,d.return);break;case 12:Vi(f,d,s);break;case 31:Vi(f,d,s),s&&v&4&&zv(f,d);break;case 13:Vi(f,d,s),s&&v&4&&jv(f,d);break;case 22:d.memoizedState===null&&Vi(f,d,s),ql(d,d.return);break;case 30:break;default:Vi(f,d,s)}i=i.sibling}}function Fd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Il(s))}function Gd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Il(t))}function Vr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hv(t,i,s,l),i=i.sibling}function Hv(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Vr(t,i,s,l),f&2048&&Bl(9,i);break;case 1:Vr(t,i,s,l);break;case 3:Vr(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Il(t)));break;case 12:if(f&2048){Vr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){gt(i,i.return,x)}}else Vr(t,i,s,l);break;case 31:Vr(t,i,s,l);break;case 13:Vr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Vr(t,i,s,l):Hl(t,i):d._visibility&2?Vr(t,i,s,l):(d._visibility|=2,So(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Fd(v,i);break;case 24:Vr(t,i,s,l),f&2048&&Gd(i.alternate,i);break;default:Vr(t,i,s,l)}}function So(t,i,s,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,w=s,x=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:So(d,v,w,x,f),Bl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?So(d,v,w,x,f):Hl(d,v):(Z._visibility|=2,So(d,v,w,x,f)),f&&F&2048&&Fd(v.alternate,v);break;case 24:So(d,v,w,x,f),f&&F&2048&&Gd(v.alternate,v);break;default:So(d,v,w,x,f)}i=i.sibling}}function Hl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:Hl(s,l),f&2048&&Fd(l.alternate,l);break;case 24:Hl(s,l),f&2048&&Gd(l.alternate,l);break;default:Hl(s,l)}i=i.sibling}}var Fl=8192;function Ao(t,i,s){if(t.subtreeFlags&Fl)for(t=t.child;t!==null;)Fv(t,i,s),t=t.sibling}function Fv(t,i,s){switch(t.tag){case 26:Ao(t,i,s),t.flags&Fl&&t.memoizedState!==null&&rR(s,Mr,t.memoizedState,t.memoizedProps);break;case 5:Ao(t,i,s);break;case 3:case 4:var l=Mr;Mr=oh(t.stateNode.containerInfo),Ao(t,i,s),Mr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Fl,Fl=16777216,Ao(t,i,s),Fl=l):Ao(t,i,s));break;default:Ao(t,i,s)}}function Gv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Gl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];cn=l,Kv(l,t)}Gv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qv(t),t=t.sibling}function Qv(t){switch(t.tag){case 0:case 11:case 15:Gl(t),t.flags&2048&&ya(9,t,t.return);break;case 3:Gl(t);break;case 12:Gl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Yc(t)):Gl(t);break;default:Gl(t)}}function Yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];cn=l,Kv(l,t)}Gv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ya(8,i,i.return),Yc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Yc(i));break;default:Yc(i)}t=t.sibling}}function Kv(t,i){for(;cn!==null;){var s=cn;switch(s.tag){case 0:case 11:case 15:ya(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,cn=l;else e:for(s=t;cn!==null;){l=cn;var f=l.sibling,d=l.return;if(Pv(l),l===s){cn=null;break e}if(f!==null){f.return=d,cn=f;break e}cn=d}}}var vA={getCacheForType:function(t){var i=mn(Jt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return mn(Jt).controller.signal}},_A=typeof WeakMap=="function"?WeakMap:Map,ft=0,St=null,Ze=null,tt=0,pt=0,ar=null,va=!1,Ro=!1,Qd=!1,Li=0,Ht=0,_a=0,Is=0,Kd=0,sr=0,Co=0,Ql=null,qn=null,Yd=!1,$c=0,Yv=0,Wc=1/0,Xc=null,Ea=null,sn=0,Ta=null,Io=null,ki=0,$d=0,Wd=null,$v=null,Kl=0,Xd=null;function or(){return(ft&2)!==0&&tt!==0?tt&-tt:Q.T!==null?rm():he()}function Wv(){if(sr===0)if((tt&536870912)===0||st){var t=qr;qr<<=1,(qr&3932160)===0&&(qr=262144),sr=t}else sr=536870912;return t=rr.current,t!==null&&(t.flags|=32),sr}function Hn(t,i,s){(t===St&&(pt===2||pt===9)||t.cancelPendingCommit!==null)&&(Do(t,0),ba(t,tt,sr,!1)),Hr(t,s),((ft&2)===0||t!==St)&&(t===St&&((ft&2)===0&&(Is|=s),Ht===4&&ba(t,tt,sr,!1)),ni(t))}function Xv(t,i,s){if((ft&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Jn(t,i),f=l?bA(t,i):Zd(t,i,!0),d=l;do{if(f===0){Ro&&!l&&ba(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!EA(s)){f=Zd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var w=t;f=Ql;var x=w.current.memoizedState.isDehydrated;if(x&&(Do(w,v).flags|=256),v=Zd(w,v,!1),v!==2){if(Qd&&!x){w.errorRecoveryDisabledLanes|=d,Is|=d,f=4;break e}d=qn,qn=f,d!==null&&(qn===null?qn=d:qn.push.apply(qn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Do(t,0),ba(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ba(l,i,sr,!va);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=$c+300-zt(),10<f)){if(ba(l,i,sr,!va),Xn(l,0,!0)!==0)break e;ki=i,l.timeoutHandle=I_(Jv.bind(null,l,s,qn,Xc,Yd,i,sr,Is,Co,va,d,"Throttled",-0,0),f);break e}Jv(l,s,qn,Xc,Yd,i,sr,Is,Co,va,d,null,-0,0)}}break}while(!0);ni(t)}function Jv(t,i,s,l,f,d,v,w,x,F,Z,ie,Y,X){if(t.timeoutHandle=-1,ie=i.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cr},Fv(i,d,ie);var we=(d&62914560)===d?$c-zt():(d&4194048)===d?Yv-zt():0;if(we=iR(ie,we),we!==null){ki=d,t.cancelPendingCommit=we(s_.bind(null,t,i,d,s,l,f,v,w,x,Z,ie,null,Y,X)),ba(t,d,v,!F);return}}s_(t,i,d,s,l,f,v,w,x)}function EA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!tr(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ba(t,i,s,l){i&=~Kd,i&=~Is,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-Mt(f),v=1<<d;l[d]=-1,f&=~v}s!==0&&_i(t,s,i)}function Jc(){return(ft&6)===0?(Yl(0),!1):!0}function Jd(){if(Ze!==null){if(pt===0)var t=Ze.return;else t=Ze,Ai=_s=null,md(t),_o=null,Nl=0,t=Ze;for(;t!==null;)Dv(t.alternate,t),t=t.return;Ze=null}}function Do(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,jA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ki=0,Jd(),St=t,Ze=s=wi(t.current,null),tt=i,pt=0,ar=null,va=!1,Ro=Jn(t,i),Qd=!1,Co=sr=Kd=Is=_a=Ht=0,qn=Ql=null,Yd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Mt(l),d=1<<f;i|=t[f],l&=~d}return Li=i,_c(),s}function Zv(t,i){Ge=null,Q.H=Ul,i===vo||i===Cc?(i=py(),pt=3):i===nd?(i=py(),pt=4):pt=i===Nd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ar=i,Ze===null&&(Ht=1,Bc(t,mr(i,t.current)))}function e_(){var t=rr.current;return t===null?!0:(tt&4194048)===tt?vr===null:(tt&62914560)===tt||(tt&536870912)!==0?t===vr:!1}function t_(){var t=Q.H;return Q.H=Ul,t===null?Ul:t}function n_(){var t=Q.A;return Q.A=vA,t}function Zc(){Ht=4,va||(tt&4194048)!==tt&&rr.current!==null||(Ro=!0),(_a&134217727)===0&&(Is&134217727)===0||St===null||ba(St,tt,sr,!1)}function Zd(t,i,s){var l=ft;ft|=2;var f=t_(),d=n_();(St!==t||tt!==i)&&(Xc=null,Do(t,i)),i=!1;var v=Ht;e:do try{if(pt!==0&&Ze!==null){var w=Ze,x=ar;switch(pt){case 8:Jd(),v=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(i=!0);var F=pt;if(pt=0,ar=null,No(t,w,x,F),s&&Ro){v=0;break e}break;default:F=pt,pt=0,ar=null,No(t,w,x,F)}}TA(),v=Ht;break}catch(Z){Zv(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Ai=_s=null,ft=l,Q.H=f,Q.A=d,Ze===null&&(St=null,tt=0,_c()),v}function TA(){for(;Ze!==null;)r_(Ze)}function bA(t,i){var s=ft;ft|=2;var l=t_(),f=n_();St!==t||tt!==i?(Xc=null,Wc=zt()+500,Do(t,i)):Ro=Jn(t,i);e:do try{if(pt!==0&&Ze!==null){i=Ze;var d=ar;t:switch(pt){case 1:pt=0,ar=null,No(t,i,d,1);break;case 2:case 9:if(dy(d)){pt=0,ar=null,i_(i);break}i=function(){pt!==2&&pt!==9||St!==t||(pt=7),ni(t)},d.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:dy(d)?(pt=0,ar=null,i_(i)):(pt=0,ar=null,No(t,i,d,7));break;case 5:var v=null;switch(Ze.tag){case 26:v=Ze.memoizedState;case 5:case 27:var w=Ze;if(v?H_(v):w.stateNode.complete){pt=0,ar=null;var x=w.sibling;if(x!==null)Ze=x;else{var F=w.return;F!==null?(Ze=F,eh(F)):Ze=null}break t}}pt=0,ar=null,No(t,i,d,5);break;case 6:pt=0,ar=null,No(t,i,d,6);break;case 8:Jd(),Ht=6;break e;default:throw Error(a(462))}}wA();break}catch(Z){Zv(t,Z)}while(!0);return Ai=_s=null,Q.H=l,Q.A=f,ft=s,Ze!==null?0:(St=null,tt=0,_c(),Ht)}function wA(){for(;Ze!==null&&!hl();)r_(Ze)}function r_(t){var i=Cv(t.alternate,t,Li);t.memoizedProps=t.pendingProps,i===null?eh(t):Ze=i}function i_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Tv(s,i,i.pendingProps,i.type,void 0,tt);break;case 11:i=Tv(s,i,i.pendingProps,i.type.render,i.ref,tt);break;case 5:md(i);default:Dv(s,i),i=Ze=ny(i,Li),i=Cv(s,i,Li)}t.memoizedProps=t.pendingProps,i===null?eh(t):Ze=i}function No(t,i,s,l){Ai=_s=null,md(i),_o=null,Nl=0;var f=i.return;try{if(hA(t,f,i,s,tt)){Ht=1,Bc(t,mr(s,t.current)),Ze=null;return}}catch(d){if(f!==null)throw Ze=f,d;Ht=1,Bc(t,mr(s,t.current)),Ze=null;return}i.flags&32768?(st||l===1?t=!0:Ro||(tt&536870912)!==0?t=!1:(va=t=!0,(l===2||l===9||l===3||l===6)&&(l=rr.current,l!==null&&l.tag===13&&(l.flags|=16384))),a_(i,t)):eh(i)}function eh(t){var i=t;do{if((i.flags&32768)!==0){a_(i,va);return}t=i.return;var s=mA(i.alternate,i,Li);if(s!==null){Ze=s;return}if(i=i.sibling,i!==null){Ze=i;return}Ze=i=t}while(i!==null);Ht===0&&(Ht=5)}function a_(t,i){do{var s=pA(t.alternate,t);if(s!==null){s.flags&=32767,Ze=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ze=t;return}Ze=t=s}while(t!==null);Ht=6,Ze=null}function s_(t,i,s,l,f,d,v,w,x){t.cancelPendingCommit=null;do th();while(sn!==0);if((ft&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Bf,fl(t,s,d,v,w,x),t===St&&(Ze=St=null,tt=0),Io=i,Ta=t,ki=s,$d=d,Wd=f,$v=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,CA(ln,function(){return h_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ce.p,ce.p=2,v=ft,ft|=4;try{gA(t,i,s)}finally{ft=v,ce.p=f,Q.T=l}}sn=1,o_(),l_(),u_()}}function o_(){if(sn===1){sn=0;var t=Ta,i=Io,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=ce.p;ce.p=2;var f=ft;ft|=4;try{Bv(i,t);var d=hm,v=Kg(t.containerInfo),w=d.focusedElem,x=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&Qg(w.ownerDocument.documentElement,w)){if(x!==null&&kf(w)){var F=x.start,Z=x.end;if(Z===void 0&&(Z=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(Z,w.value.length);else{var ie=w.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),we=w.textContent.length,Me=Math.min(x.start,we),bt=x.end===void 0?Me:Math.min(x.end,we);!X.extend&&Me>bt&&(v=bt,bt=Me,Me=v);var j=Gg(w,Me),L=Gg(w,bt);if(j&&L&&(X.rangeCount!==1||X.anchorNode!==j.node||X.anchorOffset!==j.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var H=ie.createRange();H.setStart(j.node,j.offset),X.removeAllRanges(),Me>bt?(X.addRange(H),X.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),X.addRange(H))}}}}for(ie=[],X=w;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var ne=ie[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}dh=!!cm,hm=cm=null}finally{ft=f,ce.p=l,Q.T=s}}t.current=i,sn=2}}function l_(){if(sn===2){sn=0;var t=Ta,i=Io,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=ce.p;ce.p=2;var f=ft;ft|=4;try{kv(t,i.alternate,i)}finally{ft=f,ce.p=l,Q.T=s}}sn=3}}function u_(){if(sn===4||sn===3){sn=0,$s();var t=Ta,i=Io,s=ki,l=$v;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?sn=5:(sn=0,Io=Ta=null,c_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ea=null),se(s),i=i.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Wn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=ce.p,ce.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{Q.T=i,ce.p=f}}(ki&3)!==0&&th(),ni(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===Xd?Kl++:(Kl=0,Xd=t):Kl=0,Yl(0)}}function c_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Il(i)))}function th(){return o_(),l_(),u_(),h_()}function h_(){if(sn!==5)return!1;var t=Ta,i=$d;$d=0;var s=se(ki),l=Q.T,f=ce.p;try{ce.p=32>s?32:s,Q.T=null,s=Wd,Wd=null;var d=Ta,v=ki;if(sn=0,Io=Ta=null,ki=0,(ft&6)!==0)throw Error(a(331));var w=ft;if(ft|=4,Qv(d.current),Hv(d,d.current,v,s),ft=w,Yl(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Wn,d)}catch{}return!0}finally{ce.p=f,Q.T=l,c_(t,i)}}function f_(t,i,s){i=mr(s,i),i=Dd(t.stateNode,i,2),t=ma(t,i,2),t!==null&&(Hr(t,2),ni(t))}function gt(t,i,s){if(t.tag===3)f_(t,t,s);else for(;i!==null;){if(i.tag===3){f_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ea===null||!Ea.has(l))){t=mr(s,t),s=dv(2),l=ma(i,s,2),l!==null&&(mv(s,l,i,t),Hr(l,2),ni(l));break}}i=i.return}}function em(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new _A;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(Qd=!0,f.add(s),t=SA.bind(null,t,i,s),i.then(t,t))}function SA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,St===t&&(tt&s)===s&&(Ht===4||Ht===3&&(tt&62914560)===tt&&300>zt()-$c?(ft&2)===0&&Do(t,0):Kd|=s,Co===tt&&(Co=0)),ni(t)}function d_(t,i){i===0&&(i=vi()),t=gs(t,i),t!==null&&(Hr(t,i),ni(t))}function AA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),d_(t,s)}function RA(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),d_(t,s)}function CA(t,i){return Ft(t,i)}var nh=null,Oo=null,tm=!1,rh=!1,nm=!1,wa=0;function ni(t){t!==Oo&&t.next===null&&(Oo===null?nh=Oo=t:Oo=Oo.next=t),rh=!0,tm||(tm=!0,DA())}function Yl(t,i){if(!nm&&rh){nm=!0;do for(var s=!1,l=nh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Mt(42|t)+1)-1,d&=f&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,y_(l,d))}else d=tt,d=Xn(l,l===St?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(s=!0,y_(l,d));l=l.next}while(s);nm=!1}}function IA(){m_()}function m_(){rh=tm=!1;var t=0;wa!==0&&zA()&&(t=wa);for(var i=zt(),s=null,l=nh;l!==null;){var f=l.next,d=p_(l,i);d===0?(l.next=null,s===null?nh=f:s.next=f,f===null&&(Oo=s)):(s=l,(t!==0||(d&3)!==0)&&(rh=!0)),l=f}sn!==0&&sn!==5||Yl(t),wa!==0&&(wa=0)}function p_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Mt(d),w=1<<v,x=f[v];x===-1?((w&s)===0||(w&l)!==0)&&(f[v]=Xs(w,i)):x<=i&&(t.expiredLanes|=w),d&=~w}if(i=St,s=tt,s=Xn(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(pt===2||pt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Br(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Jn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Br(l),se(s)){case 2:case 8:s=yi;break;case 32:s=ln;break;case 268435456:s=ns;break;default:s=ln}return l=g_.bind(null,t),s=Ft(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Br(l),t.callbackPriority=2,t.callbackNode=null,2}function g_(t,i){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(th()&&t.callbackNode!==s)return null;var l=tt;return l=Xn(t,t===St?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xv(t,l,i),p_(t,zt()),t.callbackNode!=null&&t.callbackNode===s?g_.bind(null,t):null)}function y_(t,i){if(th())return null;Xv(t,i,!0)}function DA(){BA(function(){(ft&6)!==0?Ft(Wi,IA):m_()})}function rm(){if(wa===0){var t=go;t===0&&(t=On,On<<=1,(On&261888)===0&&(On=256)),wa=t}return wa}function v_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:eo(""+t)}function __(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function NA(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=v_((f[ve]||null).action),v=l.submitter;v&&(i=(i=v[ve]||null)?v_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var w=new $r("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(wa!==0){var x=v?__(f,v):new FormData(f);wd(s,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(w.preventDefault(),x=v?__(f,v):new FormData(f),wd(s,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var im=0;im<jf.length;im++){var am=jf[im],OA=am.toLowerCase(),xA=am[0].toUpperCase()+am.slice(1);xr(OA,"on"+xA)}xr(Wg,"onAnimationEnd"),xr(Xg,"onAnimationIteration"),xr(Jg,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(YS,"onTransitionRun"),xr($S,"onTransitionStart"),xr(WS,"onTransitionCancel"),xr(Zg,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function E_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var w=l[v],x=w.instance,F=w.currentTarget;if(w=w.listener,x!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch(Z){vc(Z)}f.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(w=l[v],x=w.instance,F=w.currentTarget,w=w.listener,x!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch(Z){vc(Z)}f.currentTarget=null,d=x}}}}function et(t,i){var s=i[Ne];s===void 0&&(s=i[Ne]=new Set);var l=t+"__bubble";s.has(l)||(T_(i,t,2,!1),s.add(l))}function sm(t,i,s){var l=0;i&&(l|=4),T_(s,t,l,i)}var ih="_reactListening"+Math.random().toString(36).slice(2);function om(t){if(!t[ih]){t[ih]=!0,Ln.forEach(function(s){s!=="selectionchange"&&(MA.has(s)||sm(s,!1,t),sm(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ih]||(i[ih]=!0,sm("selectionchange",!1,i))}}function T_(t,i,s,l){switch(W_(i)){case 2:var f=oR;break;case 8:f=lR;break;default:f=bm}s=f.bind(null,i,s,t),f=void 0,!ls||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function lm(t,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===f)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;w!==null;){if(v=At(w),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue e}w=w.parentNode}}l=l.return}ia(function(){var F=d,Z=cr(s),ie=[];e:{var Y=ey.get(t);if(Y!==void 0){var X=$r,we=t;switch(t){case"keypress":if(cs(s)===0)break e;case"keydown":case"keyup":X=pc;break;case"focusin":we="focus",X=fs;break;case"focusout":we="blur",X=fs;break;case"beforeblur":case"afterblur":X=fs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=El;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Wg:case Xg:case Jg:X=lc;break;case Zg:X=A;break;case"scroll":case"scrollend":X=_l;break;case"wheel":X=W;break;case"copy":case"cut":case"paste":X=uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=bi;break;case"toggle":case"beforetoggle":X=Fe}var Me=(i&4)!==0,bt=!Me&&(t==="scroll"||t==="scrollend"),j=Me?Y!==null?Y+"Capture":null:Y;Me=[];for(var L=F,H;L!==null;){var ne=L;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||j===null||(ne=Ir(L,j),ne!=null&&Me.push(Wl(L,ne,H))),bt)break;L=L.return}0<Me.length&&(Y=new X(Y,we,null,s,Z),ie.push({event:Y,listeners:Me}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&s!==gl&&(we=s.relatedTarget||s.fromElement)&&(At(we)||we[Se]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(we=s.relatedTarget||s.toElement,X=F,we=we?At(we):null,we!==null&&(bt=u(we),Me=we.tag,we!==bt||Me!==5&&Me!==27&&Me!==6)&&(we=null)):(X=null,we=F),X!==we)){if(Me=El,ne="onMouseLeave",j="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Me=bi,ne="onPointerLeave",j="onPointerEnter",L="pointer"),bt=X==null?Y:Rt(X),H=we==null?Y:Rt(we),Y=new Me(ne,L+"leave",X,s,Z),Y.target=bt,Y.relatedTarget=H,ne=null,At(Z)===F&&(Me=new Me(j,L+"enter",we,s,Z),Me.target=H,Me.relatedTarget=bt,ne=Me),bt=ne,X&&we)t:{for(Me=VA,j=X,L=we,H=0,ne=j;ne;ne=Me(ne))H++;ne=0;for(var Oe=L;Oe;Oe=Me(Oe))ne++;for(;0<H-ne;)j=Me(j),H--;for(;0<ne-H;)L=Me(L),ne--;for(;H--;){if(j===L||L!==null&&j===L.alternate){Me=j;break t}j=Me(j),L=Me(L)}Me=null}else Me=null;X!==null&&b_(ie,Y,X,Me,!1),we!==null&&bt!==null&&b_(ie,bt,we,Me,!0)}}e:{if(Y=F?Rt(F):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var lt=zg;else if(Pg(Y))if(jg)lt=GS;else{lt=HS;var Ce=qS}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&Zs(F.elementType)&&(lt=zg):lt=FS;if(lt&&(lt=lt(t,F))){Ug(ie,lt,s,Z);break e}Ce&&Ce(t,Y,F),t==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&dl(Y,"number",Y.value)}switch(Ce=F?Rt(F):window,t){case"focusin":(Pg(Ce)||Ce.contentEditable==="true")&&(oo=Ce,Pf=F,Al=null);break;case"focusout":Al=Pf=oo=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Yg(ie,s,Z);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":Yg(ie,s,Z)}var $e;if(ht)e:{switch(t){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else so?ds(t,s)&&(nt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(nt="onCompositionStart");nt&&(Jr&&s.locale!=="ko"&&(so||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&so&&($e=vl()):(Yr=Z,yl="value"in Yr?Yr.value:Yr.textContent,so=!0)),Ce=ah(F,nt),0<Ce.length&&(nt=new Xr(nt,t,null,s,Z),ie.push({event:nt,listeners:Ce}),$e?nt.data=$e:($e=ao(s),$e!==null&&(nt.data=$e)))),($e=fr?US(t,s):zS(t,s))&&(nt=ah(F,"onBeforeInput"),0<nt.length&&(Ce=new Xr("onBeforeInput","beforeinput",null,s,Z),ie.push({event:Ce,listeners:nt}),Ce.data=$e)),NA(ie,t,F,s,Z)}E_(ie,i)})}function Wl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function ah(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ir(t,s),f!=null&&l.unshift(Wl(t,f,d)),f=Ir(t,i),f!=null&&l.push(Wl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function VA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function b_(t,i,s,l,f){for(var d=i._reactName,v=[];s!==null&&s!==l;){var w=s,x=w.alternate,F=w.stateNode;if(w=w.tag,x!==null&&x===l)break;w!==5&&w!==26&&w!==27||F===null||(x=F,f?(F=Ir(s,d),F!=null&&v.unshift(Wl(s,F,x))):f||(F=Ir(s,d),F!=null&&v.push(Wl(s,F,x)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var LA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function w_(t){return(typeof t=="string"?t:""+t).replace(LA,`
`).replace(kA,"")}function S_(t,i){return i=w_(i),w_(t)===i}function Tt(t,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Un(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Un(t,""+l);break;case"className":Xt(t,"class",l);break;case"tabIndex":Xt(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(t,s,l);break;case"style":pl(t,l,d);break;case"data":if(i!=="object"){Xt(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=eo(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Tt(t,i,"name",f.name,f,null),Tt(t,i,"formEncType",f.formEncType,f,null),Tt(t,i,"formMethod",f.formMethod,f,null),Tt(t,i,"formTarget",f.formTarget,f,null)):(Tt(t,i,"encType",f.encType,f,null),Tt(t,i,"method",f.method,f,null),Tt(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=eo(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Cr);break;case"onScroll":l!=null&&et("scroll",t);break;case"onScrollEnd":l!=null&&et("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=eo(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":et("beforetoggle",t),et("toggle",t),jt(t,"popover",l);break;case"xlinkActuate":vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":jt(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ac.get(s)||s,jt(t,s,l))}}function um(t,i,s,l,f,d){switch(s){case"style":pl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Un(t,l):(typeof l=="number"||typeof l=="bigint")&&Un(t,""+l);break;case"onScroll":l!=null&&et("scroll",t);break;case"onScrollEnd":l!=null&&et("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!En.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=t[ve]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):jt(t,s,l)}}}function gn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",t),et("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Tt(t,i,d,v,s,null)}}f&&Tt(t,i,"srcSet",s.srcSet,s,null),l&&Tt(t,i,"src",s.src,s,null);return;case"input":et("invalid",t);var w=d=v=f=null,x=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":v=Z;break;case"checked":x=Z;break;case"defaultChecked":F=Z;break;case"value":d=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Tt(t,i,l,Z,s,null)}}nc(t,d,w,x,F,v,f,!1);return;case"select":et("invalid",t),l=v=d=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Tt(t,i,f,w,s,null)}i=d,s=v,t.multiple=!!l,i!=null?ea(t,!!l,i,!1):s!=null&&ea(t,!!l,s,!0);return;case"textarea":et("invalid",t),d=f=l=null;for(v in s)if(s.hasOwnProperty(v)&&(w=s[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Tt(t,i,v,w,s,null)}ta(t,l,f,d);return;case"option":for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Tt(t,i,x,l,s,null));return;case"dialog":et("beforetoggle",t),et("toggle",t),et("cancel",t),et("close",t);break;case"iframe":case"object":et("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)et($l[l],t);break;case"image":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"embed":case"source":case"link":et("error",t),et("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Tt(t,i,F,l,s,null)}return;default:if(Zs(i)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&um(t,i,Z,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&Tt(t,i,w,l,s,null))}function PA(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,w=null,x=null,F=null,Z=null;for(X in s){var ie=s[X];if(s.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":x=ie;default:l.hasOwnProperty(X)||Tt(t,i,X,null,l,ie)}}for(var Y in l){var X=l[Y];if(ie=s[Y],l.hasOwnProperty(Y)&&(X!=null||ie!=null))switch(Y){case"type":d=X;break;case"name":f=X;break;case"checked":F=X;break;case"defaultChecked":Z=X;break;case"value":v=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==ie&&Tt(t,i,Y,X,l,ie)}}Js(t,v,w,x,F,Z,d,f);return;case"select":X=v=w=Y=null;for(d in s)if(x=s[d],s.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":X=x;default:l.hasOwnProperty(d)||Tt(t,i,d,null,l,x)}for(f in l)if(d=l[f],x=s[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":Y=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==x&&Tt(t,i,f,d,l,x)}i=w,s=v,l=X,Y!=null?ea(t,!!s,Y,!1):!!l!=!!s&&(i!=null?ea(t,!!s,i,!0):ea(t,!!s,s?[]:"",!1));return;case"textarea":X=Y=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Tt(t,i,w,null,l,f)}for(v in l)if(f=l[v],d=s[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&Tt(t,i,v,f,l,d)}rc(t,Y,X);return;case"option":for(var we in s)Y=s[we],s.hasOwnProperty(we)&&Y!=null&&!l.hasOwnProperty(we)&&(we==="selected"?t.selected=!1:Tt(t,i,we,null,l,Y));for(x in l)Y=l[x],X=s[x],l.hasOwnProperty(x)&&Y!==X&&(Y!=null||X!=null)&&(x==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":Tt(t,i,x,Y,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in s)Y=s[Me],s.hasOwnProperty(Me)&&Y!=null&&!l.hasOwnProperty(Me)&&Tt(t,i,Me,null,l,Y);for(F in l)if(Y=l[F],X=s[F],l.hasOwnProperty(F)&&Y!==X&&(Y!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:Tt(t,i,F,Y,l,X)}return;default:if(Zs(i)){for(var bt in s)Y=s[bt],s.hasOwnProperty(bt)&&Y!==void 0&&!l.hasOwnProperty(bt)&&um(t,i,bt,void 0,l,Y);for(Z in l)Y=l[Z],X=s[Z],!l.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||um(t,i,Z,Y,l,X);return}}for(var j in s)Y=s[j],s.hasOwnProperty(j)&&Y!=null&&!l.hasOwnProperty(j)&&Tt(t,i,j,null,l,Y);for(ie in l)Y=l[ie],X=s[ie],!l.hasOwnProperty(ie)||Y===X||Y==null&&X==null||Tt(t,i,ie,Y,l,X)}function A_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],d=f.transferSize,v=f.initiatorType,w=f.duration;if(d&&w&&A_(v)){for(v=0,w=f.responseEnd,l+=1;l<s.length;l++){var x=s[l],F=x.startTime;if(F>w)break;var Z=x.transferSize,ie=x.initiatorType;Z&&A_(ie)&&(x=x.responseEnd,v+=Z*(x<w?1:(w-F)/(x-F)))}if(--l,i+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cm=null,hm=null;function sh(t){return t.nodeType===9?t:t.ownerDocument}function R_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function fm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dm=null;function zA(){var t=window.event;return t&&t.type==="popstate"?t===dm?!1:(dm=t,!0):(dm=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,jA=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,BA=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(qA)}:I_;function qA(t){setTimeout(function(){throw t})}function Sa(t){return t==="head"}function N_(t,i){var s=i,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(f),Lo(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Xl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Xl(s);for(var d=s.firstChild;d;){var v=d.nextSibling,w=d.nodeName;d[yt]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=v}}else s==="body"&&Xl(t.ownerDocument.body);s=f}while(s);Lo(i)}function O_(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function mm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":mm(s),Dt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function HA(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yt])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=_r(t.nextSibling),t===null)break}return null}function FA(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=_r(t.nextSibling),t===null))return null;return t}function x_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=_r(t.nextSibling),t===null))return null;return t}function pm(t){return t.data==="$?"||t.data==="$~"}function gm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GA(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function _r(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var ym=null;function M_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return _r(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function V_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function L_(t,i,s){switch(i=sh(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Xl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Dt(t)}var Er=new Map,k_=new Set;function oh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=ce.d;ce.d={f:QA,r:KA,D:YA,C:$A,L:WA,m:XA,X:ZA,S:JA,M:eR};function QA(){var t=Pi.f(),i=Jc();return t||i}function KA(t){var i=Ke(t);i!==null&&i.tag===5&&i.type==="form"?Zy(i):Pi.r(t)}var xo=typeof document>"u"?null:document;function P_(t,i,s){var l=xo;if(l&&typeof i=="string"&&i){var f=Pn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),k_.has(f)||(k_.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),gn(i,"link",t),Ct(i),l.head.appendChild(i)))}}function YA(t){Pi.D(t),P_("dns-prefetch",t,null)}function $A(t,i){Pi.C(t,i),P_("preconnect",t,i)}function WA(t,i,s){Pi.L(t,i,s);var l=xo;if(l&&t&&i){var f='link[rel="preload"][as="'+Pn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Pn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Pn(s.imageSizes)+'"]')):f+='[href="'+Pn(t)+'"]';var d=f;switch(i){case"style":d=Mo(t);break;case"script":d=Vo(t)}Er.has(d)||(t=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Er.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Jl(d))||i==="script"&&l.querySelector(Zl(d))||(i=l.createElement("link"),gn(i,"link",t),Ct(i),l.head.appendChild(i)))}}function XA(t,i){Pi.m(t,i);var s=xo;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Pn(l)+'"][href="'+Pn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Vo(t)}if(!Er.has(d)&&(t=T({rel:"modulepreload",href:t},i),Er.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zl(d)))return}l=s.createElement("link"),gn(l,"link",t),Ct(l),s.head.appendChild(l)}}}function JA(t,i,s){Pi.S(t,i,s);var l=xo;if(l&&t){var f=un(l).hoistableStyles,d=Mo(t);i=i||"default";var v=f.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(Jl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Er.get(d))&&vm(t,s);var x=v=l.createElement("link");Ct(x),gn(x,"link",t),x._p=new Promise(function(F,Z){x.onload=F,x.onerror=Z}),x.addEventListener("load",function(){w.loading|=1}),x.addEventListener("error",function(){w.loading|=2}),w.loading|=4,lh(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:w},f.set(d,v)}}}function ZA(t,i){Pi.X(t,i);var s=xo;if(s&&t){var l=un(s).hoistableScripts,f=Vo(t),d=l.get(f);d||(d=s.querySelector(Zl(f)),d||(t=T({src:t,async:!0},i),(i=Er.get(f))&&_m(t,i),d=s.createElement("script"),Ct(d),gn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function eR(t,i){Pi.M(t,i);var s=xo;if(s&&t){var l=un(s).hoistableScripts,f=Vo(t),d=l.get(f);d||(d=s.querySelector(Zl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Er.get(f))&&_m(t,i),d=s.createElement("script"),Ct(d),gn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function U_(t,i,s,l){var f=(f=de.current)?oh(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Mo(s.href),s=un(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Mo(s.href);var d=un(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Jl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Er.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Er.set(t,s),d||tR(f,t,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vo(s),s=un(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Mo(t){return'href="'+Pn(t)+'"'}function Jl(t){return'link[rel="stylesheet"]['+t+"]"}function z_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function tR(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),gn(i,"link",s),Ct(i),t.head.appendChild(i))}function Vo(t){return'[src="'+Pn(t)+'"]'}function Zl(t){return"script[async]"+t}function j_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Pn(s.href)+'"]');if(l)return i.instance=l,Ct(l),l;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),gn(l,"style",f),lh(l,s.precedence,t),i.instance=l;case"stylesheet":f=Mo(s.href);var d=t.querySelector(Jl(f));if(d)return i.state.loading|=4,i.instance=d,Ct(d),d;l=z_(s),(f=Er.get(f))&&vm(l,f),d=(t.ownerDocument||t).createElement("link"),Ct(d);var v=d;return v._p=new Promise(function(w,x){v.onload=w,v.onerror=x}),gn(d,"link",l),i.state.loading|=4,lh(d,s.precedence,t),i.instance=d;case"script":return d=Vo(s.src),(f=t.querySelector(Zl(d)))?(i.instance=f,Ct(f),f):(l=s,(f=Er.get(d))&&(l=T({},s),_m(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ct(f),gn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lh(l,s.precedence,t));return i.instance}function lh(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===i)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function vm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function _m(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var uh=null;function B_(t,i,s){if(uh===null){var l=new Map,f=uh=new Map;f.set(s,l)}else f=uh,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[yt]||d[ge]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function q_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function nR(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function H_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rR(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Mo(l.href),d=i.querySelector(Jl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ch.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,Ct(d);return}d=i.ownerDocument||i,l=z_(l),(f=Er.get(f))&&vm(l,f),d=d.createElement("link"),Ct(d);var v=d;v._p=new Promise(function(w,x){v.onload=w,v.onerror=x}),gn(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ch.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Em=0;function iR(t,i){return t.stylesheets&&t.count===0&&fh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&fh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Em===0&&(Em=62500*UA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Em?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hh=null;function fh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hh=new Map,i.forEach(aR,t),hh=null,ch.call(t))}function aR(t,i){if(!(i.state.loading&4)){var s=hh.get(t);if(s)var l=s.get(null);else{s=new Map,hh.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,f),s.set(v,f),this.count++,l=ch.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var eu={$$typeof:oe,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function sR(t,i,s,l,f,d,v,w,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function F_(t,i,s,l,f,d,v,w,x,F,Z,ie){return t=new sR(t,i,s,v,x,F,Z,ie,w),i=1,d===!0&&(i|=24),d=nr(3,null,null,i),t.current=d,d.stateNode=t,i=Zf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},rd(d),t}function G_(t){return t?(t=co,t):co}function Q_(t,i,s,l,f,d){f=G_(f),l.context===null?l.context=f:l.pendingContext=f,l=da(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ma(t,l,i),s!==null&&(Hn(s,t,i),xl(s,t,i))}function K_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Tm(t,i){K_(t,i),(t=t.alternate)&&K_(t,i)}function Y_(t){if(t.tag===13||t.tag===31){var i=gs(t,67108864);i!==null&&Hn(i,t,67108864),Tm(t,67108864)}}function $_(t){if(t.tag===13||t.tag===31){var i=or();i=K(i);var s=gs(t,i);s!==null&&Hn(s,t,i),Tm(t,i)}}var dh=!0;function oR(t,i,s,l){var f=Q.T;Q.T=null;var d=ce.p;try{ce.p=2,bm(t,i,s,l)}finally{ce.p=d,Q.T=f}}function lR(t,i,s,l){var f=Q.T;Q.T=null;var d=ce.p;try{ce.p=8,bm(t,i,s,l)}finally{ce.p=d,Q.T=f}}function bm(t,i,s,l){if(dh){var f=wm(l);if(f===null)lm(t,i,l,mh,s),X_(t,l);else if(cR(f,t,i,s,l))l.stopPropagation();else if(X_(t,l),i&4&&-1<uR.indexOf(t)){for(;f!==null;){var d=Ke(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ur(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var x=1<<31-Mt(v);w.entanglements[1]|=x,v&=~x}ni(d),(ft&6)===0&&(Wc=zt()+500,Yl(0))}}break;case 31:case 13:w=gs(d,2),w!==null&&Hn(w,d,2),Jc(),Tm(d,2)}if(d=wm(l),d===null&&lm(t,i,l,mh,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else lm(t,i,l,null,s)}}function wm(t){return t=cr(t),Sm(t)}var mh=null;function Sm(t){if(mh=null,t=At(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=c(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return mh=t,null}function W_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case Wi:return 2;case yi:return 8;case ln:case $n:return 32;case ns:return 268435456;default:return 32}default:return 32}}var Am=!1,Aa=null,Ra=null,Ca=null,tu=new Map,nu=new Map,Ia=[],uR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X_(t,i){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":tu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(i.pointerId)}}function ru(t,i,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Ke(i),i!==null&&Y_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function cR(t,i,s,l,f){switch(i){case"focusin":return Aa=ru(Aa,t,i,s,l,f),!0;case"dragenter":return Ra=ru(Ra,t,i,s,l,f),!0;case"mouseover":return Ca=ru(Ca,t,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return tu.set(d,ru(tu.get(d)||null,t,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,nu.set(d,ru(nu.get(d)||null,t,i,s,l,f)),!0}return!1}function J_(t){var i=At(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){t.blockedOn=i,Ee(t.priority,function(){$_(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,Ee(t.priority,function(){$_(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=wm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);gl=l,s.target.dispatchEvent(l),gl=null}else return i=Ke(s),i!==null&&Y_(i),t.blockedOn=s,!1;i.shift()}return!0}function Z_(t,i,s){ph(t)&&s.delete(i)}function hR(){Am=!1,Aa!==null&&ph(Aa)&&(Aa=null),Ra!==null&&ph(Ra)&&(Ra=null),Ca!==null&&ph(Ca)&&(Ca=null),tu.forEach(Z_),nu.forEach(Z_)}function gh(t,i){t.blockedOn===i&&(t.blockedOn=null,Am||(Am=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hR)))}var yh=null;function eE(t){yh!==t&&(yh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yh===t&&(yh=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Sm(l||s)===null)continue;break}var d=Ke(s);d!==null&&(t.splice(i,3),i-=3,wd(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Lo(t){function i(x){return gh(x,t)}Aa!==null&&gh(Aa,t),Ra!==null&&gh(Ra,t),Ca!==null&&gh(Ca,t),tu.forEach(i),nu.forEach(i);for(var s=0;s<Ia.length;s++){var l=Ia[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ia.length&&(s=Ia[0],s.blockedOn===null);)J_(s),s.blockedOn===null&&Ia.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],v=f[ve]||null;if(typeof d=="function")v||eE(s);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[ve]||null)w=v.formAction;else if(Sm(f)!==null)continue}else w=v.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),eE(s)}}}function tE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Rm(t){this._internalRoot=t}vh.prototype.render=Rm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=or();Q_(s,l,t,i,null,null)},vh.prototype.unmount=Rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Q_(t.current,2,null,t,null,null),Jc(),i[Se]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var i=he();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Ia.length&&i!==0&&i<Ia[s].priority;s++);Ia.splice(s,0,t),s===0&&J_(t)}};var nE=e.version;if(nE!=="19.2.3")throw Error(a(527,nE,"19.2.3"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var fR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{Wn=_h.inject(fR),wt=_h}catch{}}return au.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=uv,d=cv,v=hv;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=F_(t,1,!1,null,null,s,l,null,f,d,v,tE),t[Se]=i.current,om(t),new Rm(i)},au.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=uv,v=cv,w=hv,x=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),i=F_(t,1,!0,i,s??null,l,f,x,d,v,w,tE),i.context=G_(null),s=i.current,l=or(),l=K(l),f=da(l),f.callback=null,ma(s,f,l),s=l,i.current.lanes=s,Hr(i,s),ni(i),t[Se]=i.current,om(t),new vh(i)},au.version="19.2.3",au}var fE;function wR(){if(fE)return Dm.exports;fE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dm.exports=bR(),Dm.exports}var SR=wR();const AR=wT(SR);var RT=r=>{throw TypeError(r)},RR=(r,e,n)=>e.has(r)||RT("Cannot "+n),Mm=(r,e,n)=>(RR(r,e,"read from private field"),n?n.call(r):e.get(r)),CR=(r,e,n)=>e.has(r)?RT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),dE="popstate";function IR(r={}){function e(a,o){let{pathname:u,search:c,hash:m}=a.location;return Su("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:di(o)}return NR(e,n,null,r)}function Qe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DR(){return Math.random().toString(36).substring(2,10)}function mE(r,e){return{usr:r.state,key:r.key,idx:e}}function Su(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ki(e):e,state:n,key:e&&e.key||a||DR()}}function di({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ki(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function NR(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){m="POP";let G=_(),te=G==null?null:G-g;g=G,p&&p({action:m,location:$.location,delta:te})}function S(G,te){m="PUSH";let ee=Su($.location,G,te);g=_()+1;let oe=mE(ee,g),De=$.createHref(ee);try{c.pushState(oe,"",De)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;o.location.assign(De)}u&&p&&p({action:m,location:$.location,delta:1})}function C(G,te){m="REPLACE";let ee=Su($.location,G,te);g=_();let oe=mE(ee,g),De=$.createHref(ee);c.replaceState(oe,"",De),u&&p&&p({action:m,location:$.location,delta:0})}function U(G){return CT(G)}let $={get action(){return m},get location(){return r(o,c)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(dE,T),p=G,()=>{o.removeEventListener(dE,T),p=null}},createHref(G){return e(o,G)},createURL:U,encodeLocation(G){let te=U(G);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:S,replace:C,go(G){return c.go(G)}};return $}function CT(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:di(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var lu,pE=class{constructor(r){if(CR(this,lu,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(Mm(this,lu).has(r))return Mm(this,lu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Mm(this,lu).set(r,e)}};lu=new WeakMap;var OR=new Set(["lazy","caseSensitive","path","id","index","children"]);function xR(r){return OR.has(r)}var MR=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function VR(r){return MR.has(r)}function LR(r){return r.index===!0}function Au(r,e,n=[],a={},o=!1){return r.map((u,c)=>{let m=[...n,String(c)],p=typeof u.id=="string"?u.id:m.join("-");if(Qe(u.index!==!0||!u.children,"Cannot specify children on an index route"),Qe(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),LR(u)){let g={...u,id:p};return a[p]=gE(g,e(g)),g}else{let g={...u,id:p,children:void 0};return a[p]=gE(g,e(g)),u.children&&(g.children=Au(u.children,e,m,a,o)),g}})}function gE(r,e){return Object.assign(r,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...r.lazy,...e.lazy}}:{}})}function Oa(r,e,n="/"){return uu(r,e,n,!1)}function uu(r,e,n,a){let o=typeof e=="string"?Ki(e):e,u=Gn(o.pathname||"/",n);if(u==null)return null;let c=IT(r);PR(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=YR(u);m=QR(c[p],g,a)}return m}function kR(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function IT(r,e=[],n=[],a="",o=!1){let u=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&p)return;Qe(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let T=ai([a,_.relativePath]),S=n.concat(_);c.children&&c.children.length>0&&(Qe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),IT(c.children,e,S,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:FR(T,c.index),routesMeta:S})};return r.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of DT(c.path))u(c,m,!0,p)}),e}function DT(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let c=DT(a.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function PR(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:GR(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var UR=/^:[\w-]+$/,zR=3,jR=2,BR=1,qR=10,HR=-2,yE=r=>r==="*";function FR(r,e){let n=r.split("/"),a=n.length;return n.some(yE)&&(a+=HR),e&&(a+=jR),n.filter(o=>!yE(o)).reduce((o,u)=>o+(UR.test(u)?zR:u===""?BR:qR),a)}function GR(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function QR(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",c=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=qh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!T&&g&&n&&!a[a.length-1].route.index&&(T=qh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:ai([u,T.pathname]),pathnameBase:XR(ai([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ai([u,T.pathnameBase]))}return c}function qh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=KR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:T},S)=>{if(_==="*"){let U=m[S]||"";c=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const C=m[S];return T&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:r}}function KR(r,e=!1,n=!0){Wt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function YR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Gn(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function $R({basename:r,pathname:e}){return e==="/"?r:ai([r,e])}var NT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cf=r=>NT.test(r);function WR(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Ki(r):r,u;if(n)if(cf(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Wt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=vE(n.substring(1),"/"):u=vE(n,e)}else u=e;return{pathname:u,search:JR(a),hash:ZR(o)}}function vE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OT(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xp(r){let e=OT(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Mp(r,e,n,a=!1){let o;typeof r=="string"?o=Ki(r):(o={...r},Qe(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let u=r===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=n;else{let T=e.length-1;if(!a&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=WR(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var ai=r=>r.join("/").replace(/\/\/+/g,"/"),XR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),JR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ZR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,zu=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ru(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function ju(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function MT(r,e){let n=r;if(typeof n!="string"||!NT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(xT)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Gn(c.pathname,e);c.origin===u.origin&&m!=null?n=m+c.search+c.hash:o=!0}catch{Wt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}var Pa=Symbol("Uninstrumented");function e1(r,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(o=>o({id:e.id,index:e.index,path:e.path,instrument(u){let c=Object.keys(n);for(let m of c)u[m]&&n[m].push(u[m])}}));let a={};if(typeof e.lazy=="function"&&n.lazy.length>0){let o=qo(n.lazy,e.lazy,()=>{});o&&(a.lazy=o)}if(typeof e.lazy=="object"){let o=e.lazy;["middleware","loader","action"].forEach(u=>{let c=o[u],m=n[`lazy.${u}`];if(typeof c=="function"&&m.length>0){let p=qo(m,c,()=>{});p&&(a.lazy=Object.assign(a.lazy||{},{[u]:p}))}})}return["loader","action"].forEach(o=>{let u=e[o];if(typeof u=="function"&&n[o].length>0){let c=u[Pa]??u,m=qo(n[o],c,(...p)=>_E(p[0]));m&&(m[Pa]=c,a[o]=m)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(a.middleware=e.middleware.map(o=>{let u=o[Pa]??o,c=qo(n.middleware,u,(...m)=>_E(m[0]));return c?(c[Pa]=u,c):o})),a}function t1(r,e){let n={navigate:[],fetch:[]};if(e.forEach(a=>a({instrument(o){let u=Object.keys(o);for(let c of u)o[c]&&n[c].push(o[c])}})),n.navigate.length>0){let a=r.navigate[Pa]??r.navigate,o=qo(n.navigate,a,(...u)=>{let[c,m]=u;return{to:typeof c=="number"||typeof c=="string"?c:c?di(c):".",...EE(r,m??{})}});o&&(o[Pa]=a,r.navigate=o)}if(n.fetch.length>0){let a=r.fetch[Pa]??r.fetch,o=qo(n.fetch,a,(...u)=>{let[c,,m,p]=u;return{href:m??".",fetcherKey:c,...EE(r,p??{})}});o&&(o[Pa]=a,r.fetch=o)}return r}function qo(r,e,n){return r.length===0?null:async(...a)=>{let o=await VT(r,n(...a),()=>e(...a),r.length-1);if(o.type==="error")throw o.value;return o.value}}async function VT(r,e,n,a){let o=r[a],u;if(o){let c,m=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=VT(r,e,n,a-1),u=await c,Qe(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(m,e)}catch(p){console.error("An instrumentation function threw an error:",p)}c||await m(),await c}else try{u={type:"success",value:await n()}}catch(c){u={type:"error",value:c}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function _E(r){let{request:e,context:n,params:a,unstable_pattern:o}=r;return{request:n1(e),params:{...a},unstable_pattern:o,context:r1(n)}}function EE(r,e){return{currentUrl:di(r.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function n1(r){return{method:r.method,url:r.url,headers:{get:(...e)=>r.headers.get(...e)}}}function r1(r){if(a1(r)){let e={...r};return Object.freeze(e),e}else return{get:e=>r.get(e)}}var i1=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function a1(r){if(r===null||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===i1}var LT=["POST","PUT","PATCH","DELETE"],s1=new Set(LT),o1=["GET",...LT],l1=new Set(o1),kT=new Set([301,302,303,307,308]),u1=new Set([307,308]),Lm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},c1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ko={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},h1=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),PT="remix-router-transitions",UT=Symbol("ResetLoaderData");function f1(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||h1,u=o;if(r.unstable_instrumentations){let N=r.unstable_instrumentations;u=z=>({...o(z),...e1(N.map(K=>K.route).filter(Boolean),z)})}let c={},m=Au(r.routes,u,void 0,c),p,g=r.basename||"/";g.startsWith("/")||(g=`/${g}`);let _=r.dataStrategy||y1,T={...r.future},S=null,C=new Set,U=null,$=null,G=null,te=r.hydrationData!=null,ee=Oa(m,r.history.location,g),oe=!1,De=null,be;if(ee==null&&!r.patchRoutesOnNavigation){let N=Tr(404,{pathname:r.history.location.pathname}),{matches:z,route:K}=Eh(m);be=!0,ee=z,De={[K.id]:N}}else if(ee&&!r.hydrationData&&vi(ee,m,r.history.location.pathname).active&&(ee=null),ee)if(ee.some(N=>N.route.lazy))be=!1;else if(!ee.some(N=>Vp(N.route)))be=!0;else{let N=r.hydrationData?r.hydrationData.loaderData:null,z=r.hydrationData?r.hydrationData.errors:null;if(z){let K=ee.findIndex(se=>z[se.route.id]!==void 0);be=ee.slice(0,K+1).every(se=>!ep(se.route,N,z))}else be=ee.every(K=>!ep(K.route,N,z))}else{be=!1,ee=[];let N=vi(null,m,r.history.location.pathname);N.active&&N.matches&&(oe=!0,ee=N.matches)}let Ae,b={historyAction:r.history.action,location:r.history.location,matches:ee,initialized:be,navigation:Lm,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||De,fetchers:new Map,blockers:new Map},R="POP",I=null,M=!1,O,P=!1,D=new Map,Ve=null,Le=!1,Q=!1,ce=new Set,fe=new Map,Re=0,ze=-1,V=new Map,J=new Set,ue=new Map,pe=new Map,le=new Set,de=new Map,ke,je=null;function dt(){if(S=r.history.listen(({action:N,location:z,delta:K})=>{if(ke){ke(),ke=void 0;return}Wt(de.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=qr({currentLocation:b.location,nextLocation:z,historyAction:N});if(se&&K!=null){let he=new Promise(Ee=>{ke=Ee});r.history.go(K*-1),On(se,{state:"blocked",location:z,proceed(){On(se,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),he.then(()=>r.history.go(K))},reset(){let Ee=new Map(b.blockers);Ee.set(se,ko),Pt({blockers:Ee})}}),I?.resolve(),I=null;return}return Dn(N,z)}),n){L1(e,D);let N=()=>k1(e,D);e.addEventListener("pagehide",N),Ve=()=>e.removeEventListener("pagehide",N)}return b.initialized||Dn("POP",b.location,{initialHydration:!0}),Ae}function gi(){S&&S(),Ve&&Ve(),C.clear(),O&&O.abort(),b.fetchers.forEach((N,z)=>Xi(z)),b.blockers.forEach((N,z)=>is(z))}function $i(N){return C.add(N),()=>C.delete(N)}function Pt(N,z={}){N.matches&&(N.matches=N.matches.map(he=>{let Ee=c[he.route.id],ye=he.route;return ye.element!==Ee.element||ye.errorElement!==Ee.errorElement||ye.hydrateFallbackElement!==Ee.hydrateFallbackElement?{...he,route:Ee}:he})),b={...b,...N};let K=[],se=[];b.fetchers.forEach((he,Ee)=>{he.state==="idle"&&(le.has(Ee)?K.push(Ee):se.push(Ee))}),le.forEach(he=>{!b.fetchers.has(he)&&!fe.has(he)&&K.push(he)}),[...C].forEach(he=>he(b,{deletedFetchers:K,newErrors:N.errors??null,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),K.forEach(he=>Xi(he)),se.forEach(he=>b.fetchers.delete(he))}function Qn(N,z,{flushSync:K}={}){let se=b.actionData!=null&&b.navigation.formMethod!=null&&Sn(b.navigation.formMethod)&&b.navigation.state==="loading"&&N.state?._isRedirect!==!0,he;z.actionData?Object.keys(z.actionData).length>0?he=z.actionData:he=null:se?he=b.actionData:he=null;let Ee=z.loaderData?NE(b.loaderData,z.loaderData,z.matches||[],z.errors):b.loaderData,ye=b.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((Ne,Ie)=>ye.set(Ie,ko)));let ge=Le?!1:Xs(N,z.matches||b.matches),ve=M===!0||b.navigation.formMethod!=null&&Sn(b.navigation.formMethod)&&N.state?._isRedirect!==!0;p&&(m=p,p=void 0),Le||R==="POP"||(R==="PUSH"?r.history.push(N,N.state):R==="REPLACE"&&r.history.replace(N,N.state));let Se;if(R==="POP"){let Ne=D.get(b.location.pathname);Ne&&Ne.has(N.pathname)?Se={currentLocation:b.location,nextLocation:N}:D.has(N.pathname)&&(Se={currentLocation:N,nextLocation:b.location})}else if(P){let Ne=D.get(b.location.pathname);Ne?Ne.add(N.pathname):(Ne=new Set([N.pathname]),D.set(b.location.pathname,Ne)),Se={currentLocation:b.location,nextLocation:N}}Pt({...z,actionData:he,loaderData:Ee,historyAction:R,location:N,initialized:!0,navigation:Lm,revalidation:"idle",restoreScrollPosition:ge,preventScrollReset:ve,blockers:ye},{viewTransitionOpts:Se,flushSync:K===!0}),R="POP",M=!1,P=!1,Le=!1,Q=!1,I?.resolve(),I=null,je?.resolve(),je=null}async function Kn(N,z){if(I?.resolve(),I=null,typeof N=="number"){I||(I=VE());let Je=I.promise;return r.history.go(N),Je}let K=Zm(b.location,b.matches,g,N,z?.fromRouteId,z?.relative),{path:se,submission:he,error:Ee}=TE(!1,K,z),ye=b.location,ge=Su(b.location,se,z&&z.state);ge={...ge,...r.history.encodeLocation(ge)};let ve=z&&z.replace!=null?z.replace:void 0,Se="PUSH";ve===!0?Se="REPLACE":ve===!1||he!=null&&Sn(he.formMethod)&&he.formAction===b.location.pathname+b.location.search&&(Se="REPLACE");let Ne=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Ie=(z&&z.flushSync)===!0,Xe=qr({currentLocation:ye,nextLocation:ge,historyAction:Se});if(Xe){On(Xe,{state:"blocked",location:ge,proceed(){On(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Kn(N,z)},reset(){let Je=new Map(b.blockers);Je.set(Xe,ko),Pt({blockers:Je})}});return}await Dn(Se,ge,{submission:he,pendingError:Ee,preventScrollReset:Ne,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:Ie,callSiteDefaultShouldRevalidate:z&&z.unstable_defaultShouldRevalidate})}function Za(){je||(je=VE()),yi(),Pt({revalidation:"loading"});let N=je.promise;return b.navigation.state==="submitting"?N:b.navigation.state==="idle"?(Dn(b.historyAction,b.location,{startUninterruptedRevalidation:!0}),N):(Dn(R||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:P===!0}),N)}async function Dn(N,z,K){O&&O.abort(),O=null,R=N,Le=(K&&K.startUninterruptedRevalidation)===!0,Jn(b.location,b.matches),M=(K&&K.preventScrollReset)===!0,P=(K&&K.enableViewTransition)===!0;let se=p||m,he=K&&K.overrideNavigation,Ee=K?.initialHydration&&b.matches&&b.matches.length>0&&!oe?b.matches:Oa(se,z,g),ye=(K&&K.flushSync)===!0;if(Ee&&b.initialized&&!Q&&A1(b.location,z)&&!(K&&K.submission&&Sn(K.submission.formMethod))){Qn(z,{matches:Ee},{flushSync:ye});return}let ge=vi(Ee,se,z.pathname);if(ge.active&&ge.matches&&(Ee=ge.matches),!Ee){let{error:Dt,notFoundMatches:At,route:Ke}=Vt(z.pathname);Qn(z,{matches:At,loaderData:{},errors:{[Ke.id]:Dt}},{flushSync:ye});return}O=new AbortController;let ve=Po(r.history,z,O.signal,K&&K.submission),Se=r.getContext?await r.getContext():new pE,Ne;if(K&&K.pendingError)Ne=[xa(Ee).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&Sn(K.submission.formMethod)){let Dt=await es(ve,z,K.submission,Ee,Se,ge.active,K&&K.initialHydration===!0,{replace:K.replace,flushSync:ye});if(Dt.shortCircuited)return;if(Dt.pendingActionResult){let[At,Ke]=Dt.pendingActionResult;if(lr(Ke)&&Ru(Ke.error)&&Ke.error.status===404){O=null,Qn(z,{matches:Dt.matches,loaderData:{},errors:{[At]:Ke.error}});return}}Ee=Dt.matches||Ee,Ne=Dt.pendingActionResult,he=km(z,K.submission),ye=!1,ge.active=!1,ve=Po(r.history,ve.url,ve.signal)}let{shortCircuited:Ie,matches:Xe,loaderData:Je,errors:yt}=await ts(ve,z,Ee,Se,ge.active,he,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,ye,Ne,K&&K.callSiteDefaultShouldRevalidate);Ie||(O=null,Qn(z,{matches:Xe||Ee,...OE(Ne),loaderData:Je,errors:yt}))}async function es(N,z,K,se,he,Ee,ye,ge={}){yi();let ve=M1(z,K);if(Pt({navigation:ve},{flushSync:ge.flushSync===!0}),Ee){let Ie=await xn(se,z.pathname,N.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){if(Ie.partialMatches.length===0){let{matches:Je,route:yt}=Eh(m);return{matches:Je,pendingActionResult:[yt.id,{type:"error",error:Ie.error}]}}let Xe=xa(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,pendingActionResult:[Xe,{type:"error",error:Ie.error}]}}else if(Ie.matches)se=Ie.matches;else{let{notFoundMatches:Xe,error:Je,route:yt}=Vt(z.pathname);return{matches:Xe,pendingActionResult:[yt.id,{type:"error",error:Je}]}}}let Se,Ne=Dh(se,z);if(!Ne.route.action&&!Ne.route.lazy)Se={type:"error",error:Tr(405,{method:N.method,pathname:z.pathname,routeId:Ne.route.id})};else{let Ie=Fo(u,c,N,se,Ne,ye?[]:a,he),Xe=await Yn(N,Ie,he,null);if(Se=Xe[Ne.route.id],!Se){for(let Je of se)if(Xe[Je.route.id]){Se=Xe[Je.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(Os(Se)){let Ie;return ge&&ge.replace!=null?Ie=ge.replace:Ie=CE(Se.response.headers.get("Location"),new URL(N.url),g)===b.location.pathname+b.location.search,await zt(N,Se,!0,{submission:K,replace:Ie}),{shortCircuited:!0}}if(lr(Se)){let Ie=xa(se,Ne.route.id);return(ge&&ge.replace)!==!0&&(R="PUSH"),{matches:se,pendingActionResult:[Ie.route.id,Se,Ne.route.id]}}return{matches:se,pendingActionResult:[Ne.route.id,Se]}}async function ts(N,z,K,se,he,Ee,ye,ge,ve,Se,Ne,Ie,Xe){let Je=Ee||km(z,ye),yt=ye||ge||ME(Je),Dt=!Le&&!Se;if(he){if(Dt){let jt=Ut(Ie);Pt({navigation:Je,...jt!==void 0?{actionData:jt}:{}},{flushSync:Ne})}let We=await xn(K,z.pathname,N.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){if(We.partialMatches.length===0){let{matches:Xt,route:vt}=Eh(m);return{matches:Xt,loaderData:{},errors:{[vt.id]:We.error}}}let jt=xa(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[jt]:We.error}}}else if(We.matches)K=We.matches;else{let{error:jt,notFoundMatches:Xt,route:vt}=Vt(z.pathname);return{matches:Xt,loaderData:{},errors:{[vt.id]:jt}}}}let At=p||m,{dsMatches:Ke,revalidatingFetchers:Rt}=bE(N,se,u,c,r.history,b,K,yt,z,Se?[]:a,Se===!0,Q,ce,le,ue,J,At,g,r.patchRoutesOnNavigation!=null,Ie,Xe);if(ze=++Re,!r.dataStrategy&&!Ke.some(We=>We.shouldLoad)&&!Ke.some(We=>We.route.middleware&&We.route.middleware.length>0)&&Rt.length===0){let We=Mt();return Qn(z,{matches:K,loaderData:{},errors:Ie&&lr(Ie[1])?{[Ie[0]]:Ie[1].error}:null,...OE(Ie),...We?{fetchers:new Map(b.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(Dt){let We={};if(!he){We.navigation=Je;let jt=Ut(Ie);jt!==void 0&&(We.actionData=jt)}Rt.length>0&&(We.fetchers=Ft(Rt)),Pt(We,{flushSync:Ne})}Rt.forEach(We=>{wt(We.key),We.controller&&fe.set(We.key,We.controller)});let un=()=>Rt.forEach(We=>wt(We.key));O&&O.signal.addEventListener("abort",un);let{loaderResults:Ct,fetcherResults:Ln}=await Wi(Ke,Rt,N,se);if(N.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",un),Rt.forEach(We=>fe.delete(We.key));let En=Th(Ct);if(En)return await zt(N,En.result,!0,{replace:ve}),{shortCircuited:!0};if(En=Th(Ln),En)return J.add(En.key),await zt(N,En.result,!0,{replace:ve}),{shortCircuited:!0};let{loaderData:kn,errors:Tn}=DE(b,K,Ct,Ie,Rt,Ln);Se&&b.errors&&(Tn={...b.errors,...Tn});let Zn=Mt(),Fr=rs(ze),Gr=Zn||Fr||Rt.length>0;return{matches:K,loaderData:kn,errors:Tn,...Gr?{fetchers:new Map(b.fetchers)}:{}}}function Ut(N){if(N&&!lr(N[1]))return{[N[0]]:N[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function Ft(N){return N.forEach(z=>{let K=b.fetchers.get(z.key),se=su(void 0,K?K.data:void 0);b.fetchers.set(z.key,se)}),new Map(b.fetchers)}async function Br(N,z,K,se){wt(N);let he=(se&&se.flushSync)===!0,Ee=p||m,ye=Zm(b.location,b.matches,g,K,z,se?.relative),ge=Oa(Ee,ye,g),ve=vi(ge,Ee,ye);if(ve.active&&ve.matches&&(ge=ve.matches),!ge){$n(N,z,Tr(404,{pathname:ye}),{flushSync:he});return}let{path:Se,submission:Ne,error:Ie}=TE(!0,ye,se);if(Ie){$n(N,z,Ie,{flushSync:he});return}let Xe=r.getContext?await r.getContext():new pE,Je=(se&&se.preventScrollReset)===!0;if(Ne&&Sn(Ne.formMethod)){await hl(N,z,Se,ge,Xe,ve.active,he,Je,Ne,se&&se.unstable_defaultShouldRevalidate);return}ue.set(N,{routeId:z,path:Se}),await $s(N,z,Se,ge,Xe,ve.active,he,Je,Ne)}async function hl(N,z,K,se,he,Ee,ye,ge,ve,Se){yi(),ue.delete(N);let Ne=b.fetchers.get(N);ln(N,V1(ve,Ne),{flushSync:ye});let Ie=new AbortController,Xe=Po(r.history,K,Ie.signal,ve);if(Ee){let Ye=await xn(se,new URL(Xe.url).pathname,Xe.signal,N);if(Ye.type==="aborted")return;if(Ye.type==="error"){$n(N,z,Ye.error,{flushSync:ye});return}else if(Ye.matches)se=Ye.matches;else{$n(N,z,Tr(404,{pathname:K}),{flushSync:ye});return}}let Je=Dh(se,K);if(!Je.route.action&&!Je.route.lazy){let Ye=Tr(405,{method:ve.formMethod,pathname:K,routeId:z});$n(N,z,Ye,{flushSync:ye});return}fe.set(N,Ie);let yt=Re,Dt=Fo(u,c,Xe,se,Je,a,he),At=await Yn(Xe,Dt,he,N),Ke=At[Je.route.id];if(!Ke){for(let Ye of Dt)if(At[Ye.route.id]){Ke=At[Ye.route.id];break}}if(Xe.signal.aborted){fe.get(N)===Ie&&fe.delete(N);return}if(le.has(N)){if(Os(Ke)||lr(Ke)){ln(N,Ui(void 0));return}}else{if(Os(Ke))if(fe.delete(N),ze>yt){ln(N,Ui(void 0));return}else return J.add(N),ln(N,su(ve)),zt(Xe,Ke,!1,{fetcherSubmission:ve,preventScrollReset:ge});if(lr(Ke)){$n(N,z,Ke.error);return}}let Rt=b.navigation.location||b.location,un=Po(r.history,Rt,Ie.signal),Ct=p||m,Ln=b.navigation.state!=="idle"?Oa(Ct,b.navigation.location,g):b.matches;Qe(Ln,"Didn't find any matches after fetcher action");let En=++Re;V.set(N,En);let kn=su(ve,Ke.data);b.fetchers.set(N,kn);let{dsMatches:Tn,revalidatingFetchers:Zn}=bE(un,he,u,c,r.history,b,Ln,ve,Rt,a,!1,Q,ce,le,ue,J,Ct,g,r.patchRoutesOnNavigation!=null,[Je.route.id,Ke],Se);Zn.filter(Ye=>Ye.key!==N).forEach(Ye=>{let er=Ye.key,Zi=b.fetchers.get(er),ct=su(void 0,Zi?Zi.data:void 0);b.fetchers.set(er,ct),wt(er),Ye.controller&&fe.set(er,Ye.controller)}),Pt({fetchers:new Map(b.fetchers)});let Fr=()=>Zn.forEach(Ye=>wt(Ye.key));Ie.signal.addEventListener("abort",Fr);let{loaderResults:Gr,fetcherResults:We}=await Wi(Tn,Zn,un,he);if(Ie.signal.aborted)return;if(Ie.signal.removeEventListener("abort",Fr),V.delete(N),fe.delete(N),Zn.forEach(Ye=>fe.delete(Ye.key)),b.fetchers.has(N)){let Ye=Ui(Ke.data);b.fetchers.set(N,Ye)}let jt=Th(Gr);if(jt)return zt(un,jt.result,!1,{preventScrollReset:ge});if(jt=Th(We),jt)return J.add(jt.key),zt(un,jt.result,!1,{preventScrollReset:ge});let{loaderData:Xt,errors:vt}=DE(b,Ln,Gr,void 0,Zn,We);rs(En),b.navigation.state==="loading"&&En>ze?(Qe(R,"Expected pending action"),O&&O.abort(),Qn(b.navigation.location,{matches:Ln,loaderData:Xt,errors:vt,fetchers:new Map(b.fetchers)})):(Pt({errors:vt,loaderData:NE(b.loaderData,Xt,Ln,vt),fetchers:new Map(b.fetchers)}),Q=!1)}async function $s(N,z,K,se,he,Ee,ye,ge,ve){let Se=b.fetchers.get(N);ln(N,su(ve,Se?Se.data:void 0),{flushSync:ye});let Ne=new AbortController,Ie=Po(r.history,K,Ne.signal);if(Ee){let Ke=await xn(se,new URL(Ie.url).pathname,Ie.signal,N);if(Ke.type==="aborted")return;if(Ke.type==="error"){$n(N,z,Ke.error,{flushSync:ye});return}else if(Ke.matches)se=Ke.matches;else{$n(N,z,Tr(404,{pathname:K}),{flushSync:ye});return}}let Xe=Dh(se,K);fe.set(N,Ne);let Je=Re,yt=Fo(u,c,Ie,se,Xe,a,he),At=(await Yn(Ie,yt,he,N))[Xe.route.id];if(fe.get(N)===Ne&&fe.delete(N),!Ie.signal.aborted){if(le.has(N)){ln(N,Ui(void 0));return}if(Os(At))if(ze>Je){ln(N,Ui(void 0));return}else{J.add(N),await zt(Ie,At,!1,{preventScrollReset:ge});return}if(lr(At)){$n(N,z,At.error);return}ln(N,Ui(At.data))}}async function zt(N,z,K,{submission:se,fetcherSubmission:he,preventScrollReset:Ee,replace:ye}={}){K||(I?.resolve(),I=null),z.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let ge=z.response.headers.get("Location");Qe(ge,"Expected a Location header on the redirect Response"),ge=CE(ge,new URL(N.url),g);let ve=Su(b.location,ge,{_isRedirect:!0});if(n){let yt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(cf(ge)){const Dt=CT(ge,!0);yt=Dt.origin!==e.location.origin||Gn(Dt.pathname,g)==null}if(yt){ye?e.location.replace(ge):e.location.assign(ge);return}}O=null;let Se=ye===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Ie,formEncType:Xe}=b.navigation;!se&&!he&&Ne&&Ie&&Xe&&(se=ME(b.navigation));let Je=se||he;if(u1.has(z.response.status)&&Je&&Sn(Je.formMethod))await Dn(Se,ve,{submission:{...Je,formAction:ge},preventScrollReset:Ee||M,enableViewTransition:K?P:void 0});else{let yt=km(ve,se);await Dn(Se,ve,{overrideNavigation:yt,fetcherSubmission:he,preventScrollReset:Ee||M,enableViewTransition:K?P:void 0})}}async function Yn(N,z,K,se){let he,Ee={};try{he=await _1(_,N,z,se,K,!1)}catch(ye){return z.filter(ge=>ge.shouldLoad).forEach(ge=>{Ee[ge.route.id]={type:"error",error:ye}}),Ee}if(N.signal.aborted)return Ee;if(!Sn(N.method))for(let ye of z){if(he[ye.route.id]?.type==="error")break;!he.hasOwnProperty(ye.route.id)&&!b.loaderData.hasOwnProperty(ye.route.id)&&(!b.errors||!b.errors.hasOwnProperty(ye.route.id))&&ye.shouldCallHandler()&&(he[ye.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ye.route.id}`)})}for(let[ye,ge]of Object.entries(he))if(D1(ge)){let ve=ge.result;Ee[ye]={type:"redirect",response:w1(ve,N,ye,z,g)}}else Ee[ye]=await b1(ge);return Ee}async function Wi(N,z,K,se){let he=Yn(K,N,se,null),Ee=Promise.all(z.map(async ve=>{if(ve.matches&&ve.match&&ve.request&&ve.controller){let Ne=(await Yn(ve.request,ve.matches,se,ve.key))[ve.match.route.id];return{[ve.key]:Ne}}else return Promise.resolve({[ve.key]:{type:"error",error:Tr(404,{pathname:ve.path})}})})),ye=await he,ge=(await Ee).reduce((ve,Se)=>Object.assign(ve,Se),{});return{loaderResults:ye,fetcherResults:ge}}function yi(){Q=!0,ue.forEach((N,z)=>{fe.has(z)&&ce.add(z),wt(z)})}function ln(N,z,K={}){b.fetchers.set(N,z),Pt({fetchers:new Map(b.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function $n(N,z,K,se={}){let he=xa(b.matches,z);Xi(N),Pt({errors:{[he.route.id]:K},fetchers:new Map(b.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function ns(N){return pe.set(N,(pe.get(N)||0)+1),le.has(N)&&le.delete(N),b.fetchers.get(N)||c1}function Ws(N,z){wt(N,z?.reason),ln(N,Ui(null))}function Xi(N){let z=b.fetchers.get(N);fe.has(N)&&!(z&&z.state==="loading"&&V.has(N))&&wt(N),ue.delete(N),V.delete(N),J.delete(N),le.delete(N),ce.delete(N),b.fetchers.delete(N)}function Wn(N){let z=(pe.get(N)||0)-1;z<=0?(pe.delete(N),le.add(N)):pe.set(N,z),Pt({fetchers:new Map(b.fetchers)})}function wt(N,z){let K=fe.get(N);K&&(K.abort(z),fe.delete(N))}function Nn(N){for(let z of N){let K=ns(z),se=Ui(K.data);b.fetchers.set(z,se)}}function Mt(){let N=[],z=!1;for(let K of J){let se=b.fetchers.get(K);Qe(se,`Expected fetcher: ${K}`),se.state==="loading"&&(J.delete(K),N.push(K),z=!0)}return Nn(N),z}function rs(N){let z=[];for(let[K,se]of V)if(se<N){let he=b.fetchers.get(K);Qe(he,`Expected fetcher: ${K}`),he.state==="loading"&&(wt(K),V.delete(K),z.push(K))}return Nn(z),z.length>0}function Ji(N,z){let K=b.blockers.get(N)||ko;return de.get(N)!==z&&de.set(N,z),K}function is(N){b.blockers.delete(N),de.delete(N)}function On(N,z){let K=b.blockers.get(N)||ko;Qe(K.state==="unblocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="proceeding"||K.state==="blocked"&&z.state==="unblocked"||K.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${z.state}`);let se=new Map(b.blockers);se.set(N,z),Pt({blockers:se})}function qr({currentLocation:N,nextLocation:z,historyAction:K}){if(de.size===0)return;de.size>1&&Wt(!1,"A router only supports one blocker at a time");let se=Array.from(de.entries()),[he,Ee]=se[se.length-1],ye=b.blockers.get(he);if(!(ye&&ye.state==="proceeding")&&Ee({currentLocation:N,nextLocation:z,historyAction:K}))return he}function Vt(N){let z=Tr(404,{pathname:N}),K=p||m,{matches:se,route:he}=Eh(K);return{notFoundMatches:se,route:he,error:z}}function ur(N,z,K){if(U=N,G=z,$=K||null,!te&&b.navigation===Lm){te=!0;let se=Xs(b.location,b.matches);se!=null&&Pt({restoreScrollPosition:se})}return()=>{U=null,G=null,$=null}}function Xn(N,z){return $&&$(N,z.map(se=>kR(se,b.loaderData)))||N.key}function Jn(N,z){if(U&&G){let K=Xn(N,z);U[K]=G()}}function Xs(N,z){if(U){let K=Xn(N,z),se=U[K];if(typeof se=="number")return se}return null}function vi(N,z,K){if(r.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:uu(z,K,g,!0)}}else return{active:!0,matches:uu(z,K,g,!0)||[]};return{active:!1,matches:null}}async function xn(N,z,K,se){if(!r.patchRoutesOnNavigation)return{type:"success",matches:N};let he=N;for(;;){let Ee=p==null,ye=p||m,ge=c;try{await r.patchRoutesOnNavigation({signal:K,path:z,matches:he,fetcherKey:se,patch:(Ne,Ie)=>{K.aborted||wE(Ne,Ie,ye,ge,u,!1)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:he}}finally{Ee&&!K.aborted&&(m=[...m])}if(K.aborted)return{type:"aborted"};let ve=Oa(ye,z,g),Se=null;if(ve){if(Object.keys(ve[0].params).length===0)return{type:"success",matches:ve};if(Se=uu(ye,z,g,!0),!(Se&&he.length<Se.length&&Hr(he,Se.slice(0,he.length))))return{type:"success",matches:ve}}if(Se||(Se=uu(ye,z,g,!0)),!Se||Hr(he,Se))return{type:"success",matches:null};he=Se}}function Hr(N,z){return N.length===z.length&&N.every((K,se)=>K.route.id===z[se].route.id)}function fl(N){c={},p=Au(N,u,void 0,c)}function _i(N,z,K=!1){let se=p==null;wE(N,z,p||m,c,u,K),se&&(m=[...m],Pt({}))}return Ae={get basename(){return g},get future(){return T},get state(){return b},get routes(){return m},get window(){return e},initialize:dt,subscribe:$i,enableScrollRestoration:ur,navigate:Kn,fetch:Br,revalidate:Za,createHref:N=>r.history.createHref(N),encodeLocation:N=>r.history.encodeLocation(N),getFetcher:ns,resetFetcher:Ws,deleteFetcher:Wn,dispose:gi,getBlocker:Ji,deleteBlocker:is,patchRoutes:_i,_internalFetchControllers:fe,_internalSetRoutes:fl,_internalSetStateDoNotUseOrYouWillBreakYourApp(N){Pt(N)}},r.unstable_instrumentations&&(Ae=t1(Ae,r.unstable_instrumentations.map(N=>N.router).filter(Boolean))),Ae}function d1(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Zm(r,e,n,a,o,u){let c,m;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){m=g;break}}else c=e,m=e[e.length-1];let p=Mp(a||".",xp(c),Gn(r.pathname,n)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&m){let g=kp(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let _=new URLSearchParams(p.search),T=_.getAll("index");_.delete("index"),T.filter(C=>C).forEach(C=>_.append("index",C));let S=_.toString();p.search=S?`?${S}`:""}}return n!=="/"&&(p.pathname=$R({basename:n,pathname:p.pathname})),di(p)}function TE(r,e,n){if(!n||!d1(n))return{path:e};if(n.formMethod&&!x1(n.formMethod))return{path:e,error:Tr(405,{method:n.formMethod})};let a=()=>({path:e,error:Tr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),c=FT(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Sn(u))return a();let T=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[C,U])=>`${S}${C}=${U}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:T}}}else if(n.formEncType==="application/json"){if(!Sn(u))return a();try{let T=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:T,text:void 0}}}catch{return a()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let m,p;if(n.formData)m=np(n.formData),p=n.formData;else if(n.body instanceof FormData)m=np(n.body),p=n.body;else if(n.body instanceof URLSearchParams)m=n.body,p=IE(m);else if(n.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(n.body),p=IE(m)}catch{return a()}let g={formMethod:u,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Sn(g.formMethod))return{path:e,submission:g};let _=Ki(e);return r&&_.search&&kp(_.search)&&m.append("index",""),_.search=`?${m}`,{path:di(_),submission:g}}function bE(r,e,n,a,o,u,c,m,p,g,_,T,S,C,U,$,G,te,ee,oe,De){let be=oe?lr(oe[1])?oe[1].error:oe[1].data:void 0,Ae=o.createURL(u.location),b=o.createURL(p),R;if(_&&u.errors){let Le=Object.keys(u.errors)[0];R=c.findIndex(Q=>Q.route.id===Le)}else if(oe&&lr(oe[1])){let Le=oe[0];R=c.findIndex(Q=>Q.route.id===Le)-1}let I=oe?oe[1].statusCode:void 0,M=I&&I>=400,O={currentUrl:Ae,currentParams:u.matches[0]?.params||{},nextUrl:b,nextParams:c[0].params,...m,actionResult:be,actionStatus:I},P=ju(c),D=c.map((Le,Q)=>{let{route:ce}=Le,fe=null;if(R!=null&&Q>R?fe=!1:ce.lazy?fe=!0:Vp(ce)?_?fe=ep(ce,u.loaderData,u.errors):m1(u.loaderData,u.matches[Q],Le)&&(fe=!0):fe=!1,fe!==null)return tp(n,a,r,P,Le,g,e,fe);let Re=!1;typeof De=="boolean"?Re=De:M?Re=!1:(T||Ae.pathname+Ae.search===b.pathname+b.search||Ae.search!==b.search||p1(u.matches[Q],Le))&&(Re=!0);let ze={...O,defaultShouldRevalidate:Re},V=yu(Le,ze);return tp(n,a,r,P,Le,g,e,V,ze,De)}),Ve=[];return U.forEach((Le,Q)=>{if(_||!c.some(pe=>pe.route.id===Le.routeId)||C.has(Q))return;let ce=u.fetchers.get(Q),fe=ce&&ce.state!=="idle"&&ce.data===void 0,Re=Oa(G,Le.path,te);if(!Re){if(ee&&fe)return;Ve.push({key:Q,routeId:Le.routeId,path:Le.path,matches:null,match:null,request:null,controller:null});return}if($.has(Q))return;let ze=Dh(Re,Le.path),V=new AbortController,J=Po(o,Le.path,V.signal),ue=null;if(S.has(Q))S.delete(Q),ue=Fo(n,a,J,Re,ze,g,e);else if(fe)T&&(ue=Fo(n,a,J,Re,ze,g,e));else{let pe;typeof De=="boolean"?pe=De:M?pe=!1:pe=T;let le={...O,defaultShouldRevalidate:pe};yu(ze,le)&&(ue=Fo(n,a,J,Re,ze,g,e,le))}ue&&Ve.push({key:Q,routeId:Le.routeId,path:Le.path,matches:ue,match:ze,request:J,controller:V})}),{dsMatches:D,revalidatingFetchers:Ve}}function Vp(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function ep(r,e,n){if(r.lazy)return!0;if(!Vp(r))return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function m1(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function p1(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function yu(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function wE(r,e,n,a,o,u){let c;if(r){let g=a[r];Qe(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),c=g.children}else c=n;let m=[],p=[];if(e.forEach(g=>{let _=c.find(T=>zT(g,T));_?p.push({existingRoute:_,newRoute:g}):m.push(g)}),m.length>0){let g=Au(m,o,[r||"_","patch",String(c?.length||"0")],a);c.push(...g)}if(u&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:_,newRoute:T}=p[g],S=_,[C]=Au([T],o,[],{},!0);Object.assign(S,{element:C.element?C.element:S.element,errorElement:C.errorElement?C.errorElement:S.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:S.hydrateFallbackElement})}}function zT(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>e.children?.some(o=>zT(n,o))):!1}var SE=new WeakMap,jT=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Qe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let c=SE.get(o);c||(c={},SE.set(o,c));let m=c[r];if(m)return m;let p=(async()=>{let g=xR(r),T=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)Wt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),c[r]=Promise.resolve();else if(T)Wt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let S=await u();S!=null&&(Object.assign(o,{[r]:S}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(S=>S===void 0)&&(o.lazy=void 0))})();return c[r]=p,p},AE=new WeakMap;function g1(r,e,n,a,o){let u=n[r.id];if(Qe(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let _=AE.get(u);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let T=(async()=>{Qe(typeof r.lazy=="function","No lazy route function found");let S=await r.lazy(),C={};for(let U in S){let $=S[U];if($===void 0)continue;let G=VR(U),ee=u[U]!==void 0&&U!=="hasErrorBoundary";G?Wt(!G,"Route property "+U+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ee?Wt(!ee,`Route "${u.id}" has a static property "${U}" defined but its lazy function is also returning a value for this property. The lazy route property "${U}" will be ignored.`):C[U]=$}Object.assign(u,C),Object.assign(u,{...a(u),lazy:void 0})})();return AE.set(u,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let c=Object.keys(r.lazy),m=[],p;for(let _ of c){if(o&&o.includes(_))continue;let T=jT({key:_,route:r,manifest:n,mapRouteProperties:a});T&&(m.push(T),_===e&&(p=T))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function RE(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function y1(r){return r.matches.some(e=>e.route.middleware)?BT(r,()=>RE(r)):RE(r)}function BT(r,e){return v1(r,e,a=>{if(O1(a))throw a;return a},C1,n);function n(a,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:a}}));{let{matches:c}=r,m=Math.min(Math.max(c.findIndex(g=>g.route.id===o),0),Math.max(c.findIndex(g=>g.shouldCallHandler()),0)),p=xa(c,c[m].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function v1(r,e,n,a,o){let{matches:u,request:c,params:m,context:p,unstable_pattern:g}=r,_=u.flatMap(S=>S.route.middleware?S.route.middleware.map(C=>[S.route.id,C]):[]);return await qT({request:c,params:m,context:p,unstable_pattern:g},_,e,n,a,o)}async function qT(r,e,n,a,o,u,c=0){let{request:m}=r;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let p=e[c];if(!p)return await n();let[g,_]=p,T,S=async()=>{if(T)throw new Error("You may only call `next()` once per middleware");try{return T={value:await qT(r,e,n,a,o,u,c+1)},T.value}catch(C){return T={value:await u(C,g,T)},T.value}};try{let C=await _(r,S),U=C!=null?a(C):void 0;return o(U)?U:T?U??T.value:(T={value:await S()},T.value)}catch(C){return await u(C,g,T)}}function HT(r,e,n,a,o){let u=jT({key:"middleware",route:a.route,manifest:e,mapRouteProperties:r}),c=g1(a.route,Sn(n.method)?"action":"loader",e,r,o);return{middleware:u,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function tp(r,e,n,a,o,u,c,m,p=null,g){let _=!1,T=HT(r,e,n,o,u);return{...o,_lazyPromises:T,shouldLoad:m,shouldRevalidateArgs:p,shouldCallHandler(S){return _=!0,p?typeof g=="boolean"?yu(o,{...p,defaultShouldRevalidate:g}):typeof S=="boolean"?yu(o,{...p,defaultShouldRevalidate:S}):yu(o,p):m},resolve(S){let{lazy:C,loader:U,middleware:$}=o.route,G=_||m||S&&!Sn(n.method)&&(C||U),te=$&&$.length>0&&!U&&!C;return G&&(Sn(n.method)||!te)?E1({request:n,unstable_pattern:a,match:o,lazyHandlerPromise:T?.handler,lazyRoutePromise:T?.route,handlerOverride:S,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function Fo(r,e,n,a,o,u,c,m=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,shouldRevalidateArgs:m,shouldCallHandler:()=>!1,_lazyPromises:HT(r,e,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:tp(r,e,n,ju(a),p,u,c,!0,m))}async function _1(r,e,n,a,o,u){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let c={request:e,unstable_pattern:ju(n),params:n[0].params,context:o,matches:n},p=await r({...c,fetcherKey:a,runClientMiddleware:g=>{let _=c;return BT(_,()=>g({..._,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function E1({request:r,unstable_pattern:e,match:n,lazyHandlerPromise:a,lazyRoutePromise:o,handlerOverride:u,scopedContext:c}){let m,p,g=Sn(r.method),_=g?"action":"loader",T=S=>{let C,U=new Promise((te,ee)=>C=ee);p=()=>C(),r.signal.addEventListener("abort",p);let $=te=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${_}" [routeId: ${n.route.id}]`)):S({request:r,unstable_pattern:e,params:n.params,context:c},...te!==void 0?[te]:[]),G=(async()=>{try{return{type:"data",result:await(u?u(ee=>$(ee)):$())}}catch(te){return{type:"error",result:te}}})();return Promise.race([G,U])};try{let S=g?n.route.action:n.route.loader;if(a||o)if(S){let C,[U]=await Promise.all([T(S).catch($=>{C=$}),a,o]);if(C!==void 0)throw C;m=U}else{await a;let C=g?n.route.action:n.route.loader;if(C)[m]=await Promise.all([T(C),o]);else if(_==="action"){let U=new URL(r.url),$=U.pathname+U.search;throw Tr(405,{method:r.method,pathname:$,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(S)m=await T(S);else{let C=new URL(r.url),U=C.pathname+C.search;throw Tr(404,{pathname:U})}}catch(S){return{type:"error",result:S}}finally{p&&r.signal.removeEventListener("abort",p)}return m}async function T1(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function b1(r){let{result:e,type:n}=r;if(Lp(e)){let a;try{a=await T1(e)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new zu(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?xE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:R1(e),statusCode:Ru(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ru(e)?e.status:void 0}:xE(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function w1(r,e,n,a,o){let u=r.headers.get("Location");if(Qe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!cf(u)){let c=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=Zm(new URL(e.url),c,o,u),r.headers.set("Location",u)}return r}function CE(r,e,n){if(cf(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Gn(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function Po(r,e,n,a){let o=r.createURL(FT(e)).toString(),u={signal:n};if(a&&Sn(a.formMethod)){let{formMethod:c,formEncType:m}=a;u.method=c.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=np(a.formData):u.body=a.formData}return new Request(o,u)}function np(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function IE(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function S1(r,e,n,a=!1,o=!1){let u={},c=null,m,p=!1,g={},_=n&&lr(n[1])?n[1].error:void 0;return r.forEach(T=>{if(!(T.route.id in e))return;let S=T.route.id,C=e[S];if(Qe(!Os(C),"Cannot handle redirect results in processLoaderData"),lr(C)){let U=C.error;if(_!==void 0&&(U=_,_=void 0),c=c||{},o)c[S]=U;else{let $=xa(r,S);c[$.route.id]==null&&(c[$.route.id]=U)}a||(u[S]=UT),p||(p=!0,m=Ru(C.error)?C.error.status:500),C.headers&&(g[S]=C.headers)}else u[S]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(m=C.statusCode),C.headers&&(g[S]=C.headers)}),_!==void 0&&n&&(c={[n[0]]:_},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:c,statusCode:m||200,loaderHeaders:g}}function DE(r,e,n,a,o,u){let{loaderData:c,errors:m}=S1(e,n,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:_,controller:T}=p;if(T&&T.signal.aborted)return;let S=u[g];if(Qe(S,"Did not find corresponding fetcher result"),lr(S)){let C=xa(r.matches,_?.route.id);m&&m[C.route.id]||(m={...m,[C.route.id]:S.error}),r.fetchers.delete(g)}else if(Os(S))Qe(!1,"Unhandled fetcher revalidation redirect");else{let C=Ui(S.data);r.fetchers.set(g,C)}}),{loaderData:c,errors:m}}function NE(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==UT).reduce((u,[c,m])=>(u[c]=m,u),{});for(let u of n){let c=u.route.id;if(!e.hasOwnProperty(c)&&r.hasOwnProperty(c)&&u.route.loader&&(o[c]=r[c]),a&&a.hasOwnProperty(c))break}return o}function OE(r){return r?lr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function xa(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function Eh(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Tr(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let c="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(c="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(c="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(c="Not Found",m=`No route matches URL "${e}"`):r===405&&(c="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new zu(r||500,c,new Error(m),!0)}function Th(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(Os(o))return{key:a,result:o}}}function FT(r){let e=typeof r=="string"?Ki(r):r;return di({...e,hash:""})}function A1(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function R1(r){return new zu(r.init?.status??500,r.init?.statusText??"Internal Server Error",r.data)}function C1(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,n])=>typeof e=="string"&&I1(n))}function I1(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function D1(r){return Lp(r.result)&&kT.has(r.result.status)}function lr(r){return r.type==="error"}function Os(r){return(r&&r.type)==="redirect"}function xE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function Lp(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function N1(r){return kT.has(r)}function O1(r){return Lp(r)&&N1(r.status)&&r.headers.has("Location")}function x1(r){return l1.has(r.toUpperCase())}function Sn(r){return s1.has(r.toUpperCase())}function kp(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Dh(r,e){let n=typeof e=="string"?Ki(e).search:e.search;if(r[r.length-1].route.index&&kp(n||""))return r[r.length-1];let a=OT(r);return a[a.length-1]}function ME(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:c}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:c,text:void 0}}}function km(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function M1(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function su(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function V1(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Ui(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function L1(r,e){try{let n=r.sessionStorage.getItem(PT);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function k1(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(PT,JSON.stringify(n))}catch(a){Wt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function VE(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var qs=k.createContext(null);qs.displayName="DataRouter";var Bu=k.createContext(null);Bu.displayName="DataRouterState";var GT=k.createContext(!1);function P1(){return k.useContext(GT)}var Pp=k.createContext({isTransitioning:!1});Pp.displayName="ViewTransition";var QT=k.createContext(new Map);QT.displayName="Fetchers";var U1=k.createContext(null);U1.displayName="Await";var Rr=k.createContext(null);Rr.displayName="Navigation";var qu=k.createContext(null);qu.displayName="Location";var pi=k.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var Up=k.createContext(null);Up.displayName="RouteError";var KT="REACT_ROUTER_ERROR",z1="REDIRECT",j1="ROUTE_ERROR_RESPONSE";function B1(r){if(r.startsWith(`${KT}:${z1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function q1(r){if(r.startsWith(`${KT}:${j1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new zu(e.status,e.statusText,e.data)}catch{}}function H1(r,{relative:e}={}){Qe(Hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=k.useContext(Rr),{hash:o,pathname:u,search:c}=Fu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ai([n,u])),a.createHref({pathname:m,search:c,hash:o})}function Hu(){return k.useContext(qu)!=null}function Hs(){return Qe(Hu(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(qu).location}var YT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(r){k.useContext(Rr).static||k.useLayoutEffect(r)}function hf(){let{isDataRoute:r}=k.useContext(pi);return r?nC():F1()}function F1(){Qe(Hu(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(qs),{basename:e,navigator:n}=k.useContext(Rr),{matches:a}=k.useContext(pi),{pathname:o}=Hs(),u=JSON.stringify(xp(a)),c=k.useRef(!1);return $T(()=>{c.current=!0}),k.useCallback((p,g={})=>{if(Wt(c.current,YT),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=Mp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ai([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,r])}k.createContext(null);function WT(){let{matches:r}=k.useContext(pi),e=r[r.length-1];return e?e.params:{}}function Fu(r,{relative:e}={}){let{matches:n}=k.useContext(pi),{pathname:a}=Hs(),o=JSON.stringify(xp(n));return k.useMemo(()=>Mp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function G1(r,e){return XT(r,e)}function XT(r,e,n,a,o){Qe(Hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Rr),{matches:c}=k.useContext(pi),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let ee=T&&T.path||"";tb(g,!T||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let S=Hs(),C;if(e){let ee=typeof e=="string"?Ki(e):e;Qe(_==="/"||ee.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),C=ee}else C=S;let U=C.pathname||"/",$=U;if(_!=="/"){let ee=_.replace(/^\//,"").split("/");$="/"+U.replace(/^\//,"").split("/").slice(ee.length).join("/")}let G=Oa(r,{pathname:$});Wt(T||G!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Wt(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=W1(G&&G.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:ai([_,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?_:ai([_,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),c,n,a,o);return e&&te?k.createElement(qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},te):te}function Q1(){let r=Z1(),e=Ru(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,c)}var K1=k.createElement(Q1,null),JT=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=q1(r.digest);n&&(r=n)}let e=r!==void 0?k.createElement(pi.Provider,{value:this.props.routeContext},k.createElement(Up.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?k.createElement(Y1,{error:r},e):e}};JT.contextType=GT;var Pm=new WeakMap;function Y1({children:r,error:e}){let{basename:n}=k.useContext(Rr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=B1(e.digest);if(a){let o=Pm.get(e);if(o)throw o;let u=MT(a.location,n);if(xT&&!Pm.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Pm.set(e,c),c}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function $1({routeContext:r,match:e,children:n}){let a=k.useContext(qs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(pi.Provider,{value:r},n)}function W1(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,c=n?.errors;if(c!=null){let _=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);Qe(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let m=!1,p=-1;if(n)for(let _=0;_<u.length;_++){let T=u[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=_),T.route.id){let{loaderData:S,errors:C}=n,U=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&a?(_,T)=>{a(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:ju(n.matches),errorInfo:T})}:void 0;return u.reduceRight((_,T,S)=>{let C,U=!1,$=null,G=null;n&&(C=c&&T.route.id?c[T.route.id]:void 0,$=T.route.errorElement||K1,m&&(p<0&&S===0?(tb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,G=null):p===S&&(U=!0,G=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,S+1)),ee=()=>{let oe;return C?oe=$:U?oe=G:T.route.Component?oe=k.createElement(T.route.Component,null):T.route.element?oe=T.route.element:oe=_,k.createElement($1,{match:T,routeContext:{outlet:_,matches:te,isDataRoute:n!=null},children:oe})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?k.createElement(JT,{location:n.location,revalidation:n.revalidation,component:$,error:C,children:ee(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ee()},null)}function zp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZT(r){let e=k.useContext(qs);return Qe(e,zp(r)),e}function eb(r){let e=k.useContext(Bu);return Qe(e,zp(r)),e}function X1(r){let e=k.useContext(pi);return Qe(e,zp(r)),e}function jp(r){let e=X1(r),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function J1(){return jp("useRouteId")}function Z1(){let r=k.useContext(Up),e=eb("useRouteError"),n=jp("useRouteError");return r!==void 0?r:e.errors?.[n]}var eC=0;function tC(r){let{router:e,basename:n}=ZT("useBlocker"),a=eb("useBlocker"),[o,u]=k.useState(""),c=k.useCallback(m=>{if(typeof r!="function")return!!r;if(n==="/")return r(m);let{currentLocation:p,nextLocation:g,historyAction:_}=m;return r({currentLocation:{...p,pathname:Gn(p.pathname,n)||p.pathname},nextLocation:{...g,pathname:Gn(g.pathname,n)||g.pathname},historyAction:_})},[n,r]);return k.useEffect(()=>{let m=String(++eC);return u(m),()=>e.deleteBlocker(m)},[e]),k.useEffect(()=>{o!==""&&e.getBlocker(o,c)},[e,o,c]),o&&a.blockers.has(o)?a.blockers.get(o):ko}function nC(){let{router:r}=ZT("useNavigate"),e=jp("useNavigate"),n=k.useRef(!1);return $T(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{Wt(n.current,YT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var LE={};function tb(r,e,n){!e&&!LE[r]&&(LE[r]=!0,Wt(!1,n))}var kE={};function PE(r,e){!r&&!kE[e]&&(kE[e]=!0,console.warn(e))}var rC="useOptimistic",UE=vR[rC],iC=()=>{};function aC(r){return UE?UE(r):[r,iC]}function sC(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Wt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Wt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Wt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var oC=["HydrateFallback","hydrateFallbackElement"],lC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function uC({router:r,flushSync:e,onError:n,unstable_useTransitions:a}){a=P1()||a;let[u,c]=k.useState(r.state),[m,p]=aC(u),[g,_]=k.useState(),[T,S]=k.useState({isTransitioning:!1}),[C,U]=k.useState(),[$,G]=k.useState(),[te,ee]=k.useState(),oe=k.useRef(new Map),De=k.useCallback((R,{deletedFetchers:I,newErrors:M,flushSync:O,viewTransitionOpts:P})=>{M&&n&&Object.values(M).forEach(Ve=>n(Ve,{location:R.location,params:R.matches[0]?.params??{},unstable_pattern:ju(R.matches)})),R.fetchers.forEach((Ve,Le)=>{Ve.data!==void 0&&oe.current.set(Le,Ve.data)}),I.forEach(Ve=>oe.current.delete(Ve)),PE(O===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(PE(P==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!D){e&&O?e(()=>c(R)):a===!1?c(R):k.startTransition(()=>{a===!0&&p(Ve=>zE(Ve,R)),c(R)});return}if(e&&O){e(()=>{$&&(C?.resolve(),$.skipTransition()),S({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let Ve=r.window.document.startViewTransition(()=>{e(()=>c(R))});Ve.finished.finally(()=>{e(()=>{U(void 0),G(void 0),_(void 0),S({isTransitioning:!1})})}),e(()=>G(Ve));return}$?(C?.resolve(),$.skipTransition(),ee({state:R,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(_(R),S({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[r.window,e,$,C,a,p,n]);k.useLayoutEffect(()=>r.subscribe(De),[r,De]),k.useEffect(()=>{T.isTransitioning&&!T.flushSync&&U(new lC)},[T]),k.useEffect(()=>{if(C&&g&&r.window){let R=g,I=C.promise,M=r.window.document.startViewTransition(async()=>{a===!1?c(R):k.startTransition(()=>{a===!0&&p(O=>zE(O,R)),c(R)}),await I});M.finished.finally(()=>{U(void 0),G(void 0),_(void 0),S({isTransitioning:!1})}),G(M)}},[g,C,r.window,a,p]),k.useEffect(()=>{C&&g&&m.location.key===g.location.key&&C.resolve()},[C,$,m.location,g]),k.useEffect(()=>{!T.isTransitioning&&te&&(_(te.state),S({isTransitioning:!0,flushSync:!1,currentLocation:te.currentLocation,nextLocation:te.nextLocation}),ee(void 0))},[T.isTransitioning,te]);let be=k.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:R=>r.navigate(R),push:(R,I,M)=>r.navigate(R,{state:I,preventScrollReset:M?.preventScrollReset}),replace:(R,I,M)=>r.navigate(R,{replace:!0,state:I,preventScrollReset:M?.preventScrollReset})}),[r]),Ae=r.basename||"/",b=k.useMemo(()=>({router:r,navigator:be,static:!1,basename:Ae,onError:n}),[r,be,Ae,n]);return k.createElement(k.Fragment,null,k.createElement(qs.Provider,{value:b},k.createElement(Bu.Provider,{value:m},k.createElement(QT.Provider,{value:oe.current},k.createElement(Pp.Provider,{value:T},k.createElement(fC,{basename:Ae,location:m.location,navigationType:m.historyAction,navigator:be,unstable_useTransitions:a},k.createElement(cC,{routes:r.routes,future:r.future,state:m,onError:n})))))),null)}function zE(r,e){return{...r,navigation:e.navigation.state!=="idle"?e.navigation:r.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:r.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:r.actionData,fetchers:e.fetchers}}var cC=k.memo(hC);function hC({routes:r,future:e,state:n,onError:a}){return XT(r,void 0,n,a,e)}function cu(r){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fC({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Qe(!Hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof n=="string"&&(n=Ki(n));let{pathname:g="/",search:_="",hash:T="",state:S=null,key:C="default"}=n,U=k.useMemo(()=>{let $=Gn(g,m);return $==null?null:{location:{pathname:$,search:_,hash:T,state:S,key:C},navigationType:a}},[m,g,_,T,S,C,a]);return Wt(U!=null,`<Router basename="${m}"> is not able to match the URL "${g}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:k.createElement(Rr.Provider,{value:p},k.createElement(qu.Provider,{children:e,value:U}))}function dC({children:r,location:e}){return G1(rp(r),e)}function rp(r,e=[]){let n=[];return k.Children.forEach(r,(a,o)=>{if(!k.isValidElement(a))return;let u=[...e,o];if(a.type===k.Fragment){n.push.apply(n,rp(a.props.children,u));return}Qe(a.type===cu,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=rp(a.props.children,u)),n.push(c)}),n}var Nh="get",Oh="application/x-www-form-urlencoded";function ff(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function mC(r){return ff(r)&&r.tagName.toLowerCase()==="button"}function pC(r){return ff(r)&&r.tagName.toLowerCase()==="form"}function gC(r){return ff(r)&&r.tagName.toLowerCase()==="input"}function yC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vC(r,e){return r.button===0&&(!e||e==="_self")&&!yC(r)}var bh=null;function _C(){if(bh===null)try{new FormData(document.createElement("form"),0),bh=!1}catch{bh=!0}return bh}var EC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(r){return r!=null&&!EC.has(r)?(Wt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):r}function TC(r,e){let n,a,o,u,c;if(pC(r)){let m=r.getAttribute("action");a=m?Gn(m,e):null,n=r.getAttribute("method")||Nh,o=Um(r.getAttribute("enctype"))||Oh,u=new FormData(r)}else if(mC(r)||gC(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?Gn(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Nh,o=Um(r.getAttribute("formenctype"))||Um(m.getAttribute("enctype"))||Oh,u=new FormData(m,r),!_C()){let{name:g,type:_,value:T}=r;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(ff(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nh,a=null,o=Oh,c=r}return u&&o==="text/plain"&&(c=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function bC(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Gn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function wC(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function AC(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await wC(u,n);return c.links?c.links():[]}return[]}));return DC(a.flat(1).filter(SC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jE(r,e,n,a,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let _=a.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function RC(r,e,{includeHydrateFallback:n}={}){return CC(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function CC(r){return[...new Set(r)]}function IC(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function DC(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(IC(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function nb(){let r=k.useContext(qs);return Bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function NC(){let r=k.useContext(Bu);return Bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var qp=k.createContext(void 0);qp.displayName="FrameworkContext";function rb(){let r=k.useContext(qp);return Bp(r,"You must render this element inside a <HydratedRouter> element"),r}function OC(r,e){let n=k.useContext(qp),[a,o]=k.useState(!1),[u,c]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,S=k.useRef(null);k.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let $=te=>{te.forEach(ee=>{c(ee.isIntersecting)})},G=new IntersectionObserver($,{threshold:.5});return S.current&&G.observe(S.current),()=>{G.disconnect()}}},[r]),k.useEffect(()=>{if(a){let $=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout($)}}},[a]);let C=()=>{o(!0)},U=()=>{o(!1),c(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:ou(m,C),onBlur:ou(p,U),onMouseEnter:ou(g,C),onMouseLeave:ou(_,U),onTouchStart:ou(T,C)}]:[!1,S,{}]}function ou(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function xC({page:r,...e}){let{router:n}=nb(),a=k.useMemo(()=>Oa(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?k.createElement(VC,{page:r,matches:a,...e}):null}function MC(r){let{manifest:e,routeModules:n}=rb(),[a,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return AC(r,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[r,e,n]),a}function VC({page:r,matches:e,...n}){let a=Hs(),{manifest:o,routeModules:u}=rb(),{basename:c}=nb(),{loaderData:m,matches:p}=NC(),g=k.useMemo(()=>jE(r,e,p,o,a,"data"),[r,e,p,o,a]),_=k.useMemo(()=>jE(r,e,p,o,a,"assets"),[r,e,p,o,a]),T=k.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let U=new Set,$=!1;if(e.forEach(te=>{let ee=o.routes[te.route.id];!ee||!ee.hasLoader||(!g.some(oe=>oe.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||ee.hasClientLoader?$=!0:U.add(te.route.id))}),U.size===0)return[];let G=bC(r,c,"data");return $&&U.size>0&&G.searchParams.set("_routes",e.filter(te=>U.has(te.route.id)).map(te=>te.route.id).join(",")),[G.pathname+G.search]},[c,m,a,o,g,e,r,u]),S=k.useMemo(()=>RC(_,o),[_,o]),C=MC(_);return k.createElement(k.Fragment,null,T.map(U=>k.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),S.map(U=>k.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),C.map(({key:U,link:$})=>k.createElement("link",{key:U,nonce:n.nonce,...$})))}function LC(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kC&&(window.__reactRouterVersion="7.11.0")}catch{}function PC(r,e){return f1({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:IR({window:e?.window}),hydrationData:e?.hydrationData||UC(),routes:r,mapRouteProperties:sC,hydrationRouteProperties:oC,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function UC(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:zC(r.errors)}),r}function zC(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new zu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let c=new u(o.message);c.stack="",n[a]=c}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ab=k.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S,...C},U){let{basename:$,unstable_useTransitions:G}=k.useContext(Rr),te=typeof g=="string"&&ib.test(g),ee=MT(g,$);g=ee.to;let oe=H1(g,{relative:o}),[De,be,Ae]=OC(a,C),b=HC(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:G});function R(M){e&&e(M),M.defaultPrevented||b(M)}let I=k.createElement("a",{...C,...Ae,href:ee.absoluteURL||oe,onClick:ee.isExternal||u?e:R,ref:LC(U,be),target:p,"data-discover":!te&&n==="render"?"true":void 0});return De&&!te?k.createElement(k.Fragment,null,I,k.createElement(xC,{page:oe})):I});ab.displayName="Link";var jC=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},_){let T=Fu(c,{relative:g.relative}),S=Hs(),C=k.useContext(Bu),{navigator:U,basename:$}=k.useContext(Rr),G=C!=null&&YC(T)&&m===!0,te=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,ee=S.pathname,oe=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),oe=oe?oe.toLowerCase():null,te=te.toLowerCase()),oe&&$&&(oe=Gn(oe,$)||oe);const De=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let be=ee===te||!o&&ee.startsWith(te)&&ee.charAt(De)==="/",Ae=oe!=null&&(oe===te||!o&&oe.startsWith(te)&&oe.charAt(te.length)==="/"),b={isActive:be,isPending:Ae,isTransitioning:G},R=be?e:void 0,I;typeof a=="function"?I=a(b):I=[a,be?"active":null,Ae?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(b):u;return k.createElement(ab,{...g,"aria-current":R,className:I,ref:_,style:M,to:c,viewTransition:m},typeof p=="function"?p(b):p)});jC.displayName="NavLink";var BC=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:c=Nh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S,...C},U)=>{let{unstable_useTransitions:$}=k.useContext(Rr),G=QC(),te=KC(m,{relative:g}),ee=c.toLowerCase()==="get"?"get":"post",oe=typeof m=="string"&&ib.test(m),De=be=>{if(p&&p(be),be.defaultPrevented)return;be.preventDefault();let Ae=be.nativeEvent.submitter,b=Ae?.getAttribute("formmethod")||c,R=()=>G(Ae||be.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S});$&&n!==!1?k.startTransition(()=>R()):R()};return k.createElement("form",{ref:U,method:ee,action:te,onSubmit:a?p:De,...C,"data-discover":!oe&&r==="render"?"true":void 0})});BC.displayName="Form";function qC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sb(r){let e=k.useContext(qs);return Qe(e,qC(r)),e}function HC(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=hf(),_=Hs(),T=Fu(r,{relative:u});return k.useCallback(S=>{if(vC(S,e)){S.preventDefault();let C=n!==void 0?n:di(_)===di(T),U=()=>g(r,{replace:C,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});p?k.startTransition(()=>U()):U()}},[_,g,T,n,a,e,r,o,u,c,m,p])}var FC=0,GC=()=>`__${String(++FC)}__`;function QC(){let{router:r}=sb("useSubmit"),{basename:e}=k.useContext(Rr),n=J1(),a=r.fetch,o=r.navigate;return k.useCallback(async(u,c={})=>{let{action:m,method:p,encType:g,formData:_,body:T}=TC(u,e);if(c.navigate===!1){let S=c.fetcherKey||GC();await a(S,n,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,e,n])}function KC(r,{relative:e}={}){let{basename:n}=k.useContext(Rr),a=k.useContext(pi);Qe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Fu(r||".",{relative:e})},c=Hs();if(r==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ai([n,u.pathname])),di(u)}function YC(r,{relative:e}={}){let n=k.useContext(Pp);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=sb("useViewTransitionState"),o=Fu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Gn(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Gn(n.nextLocation.pathname,a)||n.nextLocation.pathname;return qh(o.pathname,c)!=null||qh(o.pathname,u)!=null}var $C=AT();function WC(r){return k.createElement(uC,{flushSync:$C.flushSync,...r})}function XC(){return B.jsxs("header",{className:"text-center mb-8 pb-6 border-b-2 border-gray-200",children:[B.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"The Work"}),B.jsx("p",{className:"text-lg text-gray-600",children:"Judge Your Neighbor Worksheet"})]})}function JC(){return B.jsx("div",{className:"mb-6",children:B.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm text-center",children:B.jsxs("div",{className:"flex items-center justify-center gap-3",children:[B.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[B.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),B.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),B.jsx("p",{className:"text-gray-600",children:"Checking session..."})]})})})}function ZC({onSignIn:r,onSignUp:e}){const[n,a]=k.useState("signin"),[o,u]=k.useState(""),[c,m]=k.useState(""),p=async g=>{g.preventDefault();try{n==="signin"?await r(o,c):await e(o,c),u(""),m("")}catch{}};return B.jsx("div",{className:"mb-6",children:B.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[B.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Sync Across Devices"}),B.jsx("p",{className:"text-gray-600 mb-4",children:"Sign in to sync your worksheets across all your devices."}),B.jsxs("div",{className:"flex border-b border-gray-200 mb-4",children:[B.jsx("button",{onClick:()=>a("signin"),className:`px-4 py-2 font-semibold ${n==="signin"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),B.jsx("button",{onClick:()=>a("signup"),className:`px-4 py-2 font-semibold ${n==="signup"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Sign Up"})]}),B.jsxs("form",{onSubmit:p,className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),B.jsx("input",{type:"email",id:"email",value:o,onChange:g=>u(g.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com"})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),B.jsx("input",{type:"password",id:"password",value:c,onChange:g=>m(g.target.value),required:!0,minLength:n==="signup"?6:void 0,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:n==="signup"?" (min 6 characters)":""})]}),B.jsx("button",{type:"submit",className:`w-full ${n==="signin"?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700"} text-white font-semibold py-2 px-4 rounded-lg transition-all duration-200`,children:n==="signin"?"Sign In":"Create Account"})]})]})})}function eI({user:r,onSignOut:e,onSync:n}){return B.jsx("div",{className:"mb-6",children:B.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm flex items-center justify-between",children:[B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:B.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),B.jsxs("div",{children:[B.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Signed in as"}),B.jsx("p",{className:"text-sm text-gray-600",children:r.email})]})]}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg transition-all duration-200 text-sm",title:"Sync now",children:" Sync"}),B.jsx("button",{onClick:e,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-200 text-sm",children:"Sign Out"})]})]})})}function tI({notifications:r,onRemove:e}){return!r||r.length===0?null:B.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:r.map(n=>B.jsx(nI,{...n,onRemove:()=>e(n.id)},n.id))})}function nI({message:r,type:e="success",onRemove:n}){const a=e==="success"?"bg-green-50 border-green-200 text-green-800":e==="error"?"bg-red-50 border-red-200 text-red-800":e==="warning"?"bg-yellow-50 border-yellow-200 text-yellow-800":"bg-blue-50 border-blue-200 text-blue-800",o=e==="success"?"text-green-400":e==="error"?"text-red-400":e==="warning"?"text-yellow-400":"text-blue-400",u=e==="success"?B.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:B.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e==="error"?B.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:B.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):B.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:B.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});return B.jsxs("div",{className:`${a} border rounded-lg shadow-lg p-4 flex items-start gap-3 animate-slide-in`,children:[B.jsx("div",{className:`${o} flex-shrink-0 mt-0.5`,children:u}),B.jsx("div",{className:"flex-1",children:B.jsx("p",{className:"font-medium",children:r})}),B.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:B.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:B.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}function ob(r){if(!r||Array.isArray(r.statements))return r;const e=rI(r);return e.length?{...r,statements:e}:r}function rI(r){const e=new Set;return Object.keys(r).forEach(a=>{const o=a.match(/^statement(\d+)?$/);if(o){const u=o[1]?parseInt(o[1],10):1;Number.isNaN(u)||e.add(u)}}),e.size===0?[]:Array.from(e).sort((a,o)=>a-o).map(a=>{const o=a===1?"":a,u=r[`statement${a}`]||"",c=r[`q1True${o}`]||"",m=r[`q2Absolutely${o}`]||"",p=r[`q3React${o}`]||"",g=r[`q4Without${o}`]||"",_=r[`turnaround${a}`]||"";return!u&&!c&&!m&&!p&&!g&&!_?null:{statement:u,q1True:c,q2Absolutely:m,q3React:p,q4Without:g,turnaround:_}}).filter(Boolean)}function iI(r){const n=(r.situation||r.person||"").trim();if(!n)return"No content";const a=n.match(/[.!?](\s|$)/),o=a?a.index+1:n.length;let u=n.slice(0,o),c=u.length>130?u.slice(0,130):u;const m=o<n.length,p=u.length>130;return(m||p)&&(c=c.trimEnd().replace(/\.$/,"")+"..."),c}function aI({worksheets:r}){const e=hf(),n=()=>{e("/worksheet")},a=o=>{e(`/detail/${o}`)};return B.jsxs("div",{children:[B.jsx("div",{className:"flex gap-4 mb-6 flex-wrap",children:B.jsx("button",{onClick:n,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5",children:"Create New Worksheet"})}),B.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Your Worksheets"}),B.jsx("div",{children:r.length===0?B.jsx("p",{className:"text-center py-12 text-gray-500 italic",children:"No worksheets yet. Create your first one to get started."}):r.map(o=>B.jsx(sI,{worksheet:o,onClick:()=>a(o.id)},o.id))})]})}function sI({worksheet:r,onClick:e}){const n=r.date?new Date(r.date):new Date,a=iI(r),o=Array.isArray(r.statements)?r.statements.map(u=>u.statement).filter(Boolean):[];return B.jsxs("div",{onClick:e,className:"bg-white rounded-lg border border-gray-200 p-6 mb-4 cursor-pointer transition-all duration-200 hover:border-blue-500 hover:shadow-lg hover:-translate-y-0.5",children:[B.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap",children:[B.jsx("h3",{className:"text-l font-semibold text-gray-900 mb-0",children:a}),B.jsx("span",{className:"text-gray-500 text-sm whitespace-nowrap ml-4",children:n.toLocaleDateString()})]}),o.length>0?B.jsx("ul",{className:"text-gray-600 text-sm mt-2 space-y-1",children:o.map((u,c)=>B.jsx("li",{className:"list-disc list-inside ml-4",children:u},c))}):B.jsx("div",{className:"text-gray-600 text-sm mt-2 italic",children:"No statements yet."})]})}function BE({getWorksheet:r,saveWorksheet:e,showNotification:n}){const{id:a}=WT(),o=hf(),[u,c]=k.useState(!!a),[m,p]=k.useState(""),[g,_]=k.useState(""),[T,S]=k.useState(""),[C,U]=k.useState(""),[$,G]=k.useState(""),[te,ee]=k.useState([{statement:"",q1True:"",q2Absolutely:"",q3React:"",q4Without:"",turnaround:""}]),[oe,De]=k.useState(""),[be,Ae]=k.useState({}),b=k.useRef(new Map),R=k.useRef(null),[I,M]=k.useState(!1),O=k.useRef(!1),[P,D]=k.useState(!1),Ve=k.useRef(null),Le=k.useCallback(async()=>{if(a)try{const le=await r(a);if(!le)return;le.fieldHeights=be,le.updatedAt=new Date().toISOString(),await e(le)}catch(le){console.error("Error saving textarea heights:",le)}},[a,be,r,e]);k.useEffect(()=>{if(!(!a||Object.keys(be).length===0))return R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{Le()},500),()=>{R.current&&clearTimeout(R.current)}},[be,a,Le]);const Q=tC(({currentLocation:le,nextLocation:de})=>I&&le.pathname!==de.pathname);k.useEffect(()=>{Q.state==="blocked"&&(console.log("Navigation blocked - showing confirm dialog"),Ve.current=Q,D(!0))},[Q]);const ce=()=>{console.log("User confirmed - proceeding with navigation"),D(!1),Ve.current&&Ve.current.proceed()},fe=()=>{console.log("User cancelled - staying on page"),D(!1),Ve.current&&Ve.current.reset()};k.useEffect(()=>{const le=de=>{if(I)return de.preventDefault(),de.returnValue="",""};return window.addEventListener("beforeunload",le),()=>window.removeEventListener("beforeunload",le)},[I]),k.useEffect(()=>{if(!a)return;async function le(){O.current=!0;try{const de=await r(a);if(!de){n("Worksheet not found","error"),o("/");return}p(de.situation||""),_(de.person||""),S(de.wantChange||""),U(de.advice||""),G(de.needHappy||""),De(de.notes||""),de.statements&&de.statements.length>0?ee(de.statements):ee([{statement:"",q1True:"",q2Absolutely:"",q3React:"",q4Without:"",turnaround:""}]),de.fieldHeights&&Ae(de.fieldHeights)}catch(de){console.error("Error loading worksheet:",de),n("Error loading worksheet","error")}finally{c(!1),setTimeout(()=>{O.current=!1},100)}}le()},[a,r,o,n]);const Re=()=>{O.current||M(!0)},ze=()=>{ee([...te,{statement:"",q1True:"",q2Absolutely:"",q3React:"",q4Without:"",turnaround:""}]),Re()},V=(le,de,ke)=>{const je=[...te];je[le]={...je[le],[de]:ke},ee(je),Re()},J=async le=>{le.preventDefault();const de=te.filter(je=>je.statement||je.q1True||je.q2Absolutely||je.q3React||je.q4Without||je.turnaround),ke={situation:m,person:g,wantChange:T,advice:C,needHappy:$,statements:de,notes:oe,fieldHeights:be};a&&(ke.id=a);try{M(!1);const je=await e(ke);n("Worksheet saved successfully!","success"),o(`/detail/${je}`)}catch(je){console.error("Error saving worksheet:",je),n("Error saving worksheet. Please try again.","error")}},ue=k.useCallback((le,de)=>{if(!de){b.current.delete(le);return}b.current.set(le,de),be[le]&&(de.style.height=be[le]);const ke=new ResizeObserver(()=>{const je=`${de.offsetHeight}px`;Ae(dt=>dt[le]===je?dt:{...dt,[le]:je})});return ke.observe(de),()=>{ke.disconnect()}},[be]),pe=()=>{o("/")};return u?B.jsx("div",{className:"text-center py-12",children:B.jsx("p",{className:"text-gray-600",children:"Loading worksheet..."})}):B.jsxs("div",{children:[B.jsxs("div",{className:"flex gap-4 mb-6 flex-wrap",children:[B.jsx("button",{onClick:pe,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition-all duration-200",children:" Back to List"}),B.jsx("button",{onClick:J,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5",children:"Save Worksheet"})]}),B.jsxs("form",{onSubmit:J,children:[B.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8 shadow-sm",children:[B.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-3 border-b-2 border-gray-200",children:"Step 1: Judge Your Neighbor"}),B.jsx("p",{className:"italic text-gray-600 mb-6 p-4 bg-gray-50 border-l-4 border-blue-600 rounded",children:"Think of a stressful situation with someonepast, present, or futurein which you feel anger, sadness, fear, or shame. Be specific and brief."}),B.jsx(br,{label:"Describe the situation:",value:m,onChange:le=>{p(le),Re()},placeholder:"Example: My partner didn't call me when they said they would...",rows:3,fieldName:"situation",registerTextarea:ue}),B.jsx(br,{label:"Who angers, confuses, or disappoints you, and why?",value:g,onChange:le=>{_(le),Re()},placeholder:"Example: I am angry at Paul because he doesn't listen to me...",rows:3,fieldName:"person",registerTextarea:ue}),B.jsx(br,{label:"How do you want them to change? What do you want them to do?",value:T,onChange:le=>{S(le),Re()},placeholder:"Example: I want Paul to respect me, to see me, to treat me with kindness...",rows:3,fieldName:"wantChange",registerTextarea:ue}),B.jsx(br,{label:"What advice would you offer to them?",value:C,onChange:le=>{U(le),Re()},placeholder:"Example: Paul should be more considerate, he should think before he speaks...",rows:3,fieldName:"advice",registerTextarea:ue}),B.jsx(br,{label:"In order for you to be happy, what do you need them to think, say, feel, or do?",value:$,onChange:le=>{G(le),Re()},placeholder:"Example: I need Paul to understand me, to appreciate me, to love me...",rows:3,fieldName:"needHappy",registerTextarea:ue})]}),B.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8 shadow-sm",children:[B.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-3 border-b-2 border-gray-200",children:"Step 2: The Work"}),B.jsx("p",{className:"italic text-gray-600 mb-6 p-4 bg-gray-50 border-l-4 border-blue-600 rounded",children:"Take each statement from Step 1 and investigate it using these four questions."}),te.map((le,de)=>B.jsx(oI,{number:de+1,statement:le,onChange:(ke,je)=>V(de,ke,je),registerTextarea:ue},de)),B.jsx("div",{className:"mt-4",children:B.jsx("button",{type:"button",onClick:ze,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-200 hover:shadow-md hover:-translate-y-0.5",children:"+ Add Statement"})})]}),B.jsxs("section",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8 shadow-sm",children:[B.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-3 border-b-2 border-gray-200",children:"Notes & Reflections"}),B.jsx(br,{label:"Additional notes or insights:",value:oe,onChange:le=>{De(le),Re()},placeholder:"Any additional reflections, insights, or notes...",rows:5,fieldName:"notes",registerTextarea:ue})]})]}),P&&B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:B.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4 shadow-xl",children:[B.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Unsaved Changes"}),B.jsx("p",{className:"text-gray-700 mb-6",children:"You have unsaved changes. Are you sure you want to leave? Your changes will be lost."}),B.jsxs("div",{className:"flex gap-3 justify-end",children:[B.jsx("button",{onClick:fe,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded-lg transition-all duration-200",children:"Stay on Page"}),B.jsx("button",{onClick:ce,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-all duration-200",children:"Leave Anyway"})]})]})})]})}function br({label:r,value:e,onChange:n,placeholder:a,rows:o=3,fieldName:u,registerTextarea:c}){return B.jsxs("div",{className:"mt-4",children:[B.jsx("label",{className:"block mb-2 font-semibold text-gray-900",children:r}),B.jsx("textarea",{value:e,onChange:m=>n(m.target.value),rows:o,placeholder:a,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y min-h-[80px]",ref:u&&c?m=>c(u,m):void 0})]})}function oI({number:r,statement:e,onChange:n,registerTextarea:a}){const o=r===1,u=r===1?"":r;return B.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6 mb-6",children:[B.jsxs("h3",{className:"text-xl font-bold text-blue-600 mb-4",children:["Statement ",r]}),B.jsx(br,{label:"Write a statement from Step 1:",value:e.statement,onChange:c=>n("statement",c),rows:2,fieldName:`statement${r}`,registerTextarea:a}),B.jsx(br,{label:"Question 1: Is it true?",value:e.q1True,onChange:c=>n("q1True",c),placeholder:o?"Yes or No, and why...":"",rows:2,fieldName:`q1True${u}`,registerTextarea:a}),B.jsx(br,{label:"Question 2: Can you absolutely know it's true?",value:e.q2Absolutely,onChange:c=>n("q2Absolutely",c),placeholder:o?"Yes or No, and why...":"",rows:2,fieldName:`q2Absolutely${u}`,registerTextarea:a}),B.jsx(br,{label:"Question 3: How do you react when you believe that thought?",value:e.q3React,onChange:c=>n("q3React",c),placeholder:o?"What happens? How do you treat the person? How do you treat yourself?":"",rows:3,fieldName:`q3React${u}`,registerTextarea:a}),B.jsx(br,{label:"Question 4: Who would you be without that thought?",value:e.q4Without,onChange:c=>n("q4Without",c),placeholder:o?"Close your eyes. Who are you without this thought?":"",rows:3,fieldName:`q4Without${u}`,registerTextarea:a}),B.jsx(br,{label:"Turnarounds (write all turnarounds you find):",value:e.turnaround,onChange:c=>n("turnaround",c),placeholder:o?`For example:
- Opposite: They don't listen to me  They do listen to me.
- To yourself: They don't listen to me  I don't listen to me.
- To them: They don't listen to me  I don't listen to them.`:"",rows:4,fieldName:`turnaround${r}`,registerTextarea:a}),B.jsxs("div",{className:"mt-2 text-sm text-gray-600 bg-gray-50 border-l-4 border-blue-200 rounded p-3",children:[B.jsx("p",{className:"font-semibold mb-1",children:"Common turnarounds to explore:"}),B.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[B.jsxs("li",{children:[B.jsx("span",{className:"font-medium",children:"To the opposite"}),`  "They don't listen to me"  "They do listen to me."`]}),B.jsxs("li",{children:[B.jsx("span",{className:"font-medium",children:"To yourself"}),`  "They don't listen to me"  "I don't listen to me."`]}),B.jsxs("li",{children:[B.jsx("span",{className:"font-medium",children:"To them"}),`  "They don't listen to me"  "I don't listen to them."`]})]}),B.jsx("p",{className:"mt-2",children:"Write several genuine examples for each turnaround that feel true to you."})]})]})}function lI({getWorksheet:r,deleteWorksheet:e,showNotification:n}){const{id:a}=WT(),o=hf(),[u,c]=k.useState(null),[m,p]=k.useState(!0);k.useEffect(()=>{async function C(){try{const U=await r(a);if(!U){n("Worksheet not found","error"),o("/");return}c(U)}catch(U){console.error("Error loading worksheet:",U),n("Error loading worksheet","error")}finally{p(!1)}}C()},[a,r,o,n]);const g=()=>{o(`/worksheet/${a}`)},_=async()=>{if(window.confirm("Are you sure you want to delete this worksheet? This action cannot be undone."))try{await e(a),n("Worksheet deleted successfully!","success"),o("/")}catch(C){console.error("Error deleting worksheet:",C),n("Error deleting worksheet. Please try again.","error")}},T=()=>{o("/")};if(m)return B.jsx("div",{className:"text-center py-12",children:B.jsx("p",{className:"text-gray-600",children:"Loading worksheet..."})});if(!u)return null;const S=new Date(u.date);return B.jsxs("div",{children:[B.jsxs("div",{className:"flex gap-4 mb-6 flex-wrap",children:[B.jsx("button",{onClick:T,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition-all duration-200",children:" Back to List"}),B.jsx("button",{onClick:g,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition-all duration-200",children:"Edit"}),B.jsx("button",{onClick:_,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200",children:"Delete"})]}),B.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6 shadow-sm",children:[B.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-3 border-b-2 border-gray-200",children:"Judge Your Neighbor"}),B.jsx(Lr,{label:"Situation:",value:u.situation}),B.jsx(Lr,{label:"Who angers, confuses, or disappoints you, and why?",value:u.person}),B.jsx(Lr,{label:"How do you want them to change? What do you want them to do?",value:u.wantChange}),B.jsx(Lr,{label:"What advice would you offer to them?",value:u.advice}),B.jsx(Lr,{label:"In order for you to be happy, what do you need them to think, say, feel, or do?",value:u.needHappy})]}),u.statements&&u.statements.length>0&&u.statements.map((C,U)=>B.jsx(uI,{statement:C,number:U+1},U)),u.notes&&B.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6 shadow-sm",children:[B.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-3 border-b-2 border-gray-200",children:"Notes & Reflections"}),B.jsx("div",{className:"text-gray-700 p-3 bg-gray-50 rounded-lg whitespace-pre-wrap",children:u.notes})]}),B.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6 shadow-sm",children:B.jsxs("p",{className:"text-gray-500 text-sm",children:["Created: ",S.toLocaleString()]})})]})}function Lr({label:r,value:e}){return B.jsxs("div",{className:"mb-6",children:[B.jsx("span",{className:"block font-semibold text-gray-900 mb-2",children:r}),B.jsx("div",{className:"text-gray-700 p-3 bg-gray-50 rounded-lg whitespace-pre-wrap min-h-[1.5rem] detail-field-value",children:e||""})]})}function uI({statement:r,number:e}){return!r||!r.statement&&!r.q1True?null:B.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6 shadow-sm",children:[B.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-3 border-b-2 border-gray-200",children:["Statement ",e," - The Work"]}),r.statement&&B.jsx(Lr,{label:"Statement:",value:r.statement}),B.jsx(Lr,{label:"Question 1: Is it true?",value:r.q1True}),B.jsx(Lr,{label:"Question 2: Can you absolutely know it's true?",value:r.q2Absolutely}),B.jsx(Lr,{label:"Question 3: How do you react when you believe that thought?",value:r.q3React}),B.jsx(Lr,{label:"Question 4: Who would you be without that thought?",value:r.q4Without}),B.jsx(Lr,{label:"Turnaround:",value:r.turnaround})]})}const cI=()=>{};var qE={};const lb=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},hI=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],c=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],c=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],c=o+1<r.length,m=c?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(S=64)),a.push(n[_],n[T],n[S],n[C])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(lb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):hI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new fI;const S=u<<2|m>>4;if(a.push(S),g!==64){const C=m<<4&240|g>>2;if(a.push(C),T!==64){const U=g<<6&192|T;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dI=function(r){const e=lb(r);return ub.encodeByteArray(e,!0)},Hh=function(r){return dI(r).replace(/\./g,"")},cb=function(r){try{return ub.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pI=()=>mI().__FIREBASE_DEFAULTS__,gI=()=>{if(typeof process>"u"||typeof qE>"u")return;const r=qE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},yI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&cb(r[1]);return e&&JSON.parse(e)},df=()=>{try{return cI()||pI()||gI()||yI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hb=r=>df()?.emulatorHosts?.[r],vI=r=>{const e=hb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},fb=()=>df()?.config,db=r=>df()?.[`_${r}`];class _I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function nl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mb(r){return(await fetch(r,{credentials:"include"})).ok}function EI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hh(JSON.stringify(n)),Hh(JSON.stringify(c)),""].join(".")}const vu={};function TI(){const r={prod:[],emulator:[]};for(const e of Object.keys(vu))vu[e]?r.emulator.push(e):r.prod.push(e);return r}function bI(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let HE=!1;function pb(r,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||vu[r]===e||vu[r]||HE)return;vu[r]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=TI().prod.length>0;function c(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{HE=!0,c()},S}function _(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=bI(a),C=n("text"),U=document.getElementById(C)||document.createElement("span"),$=n("learnmore"),G=document.getElementById($)||document.createElement("a"),te=n("preprendIcon"),ee=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const oe=S.element;m(oe),_(G,$);const De=g();p(ee,te),oe.append(ee,U,G,De),document.body.appendChild(oe)}u?(U.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function SI(){const r=df()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function CI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function II(){const r=Cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function DI(){return!SI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NI(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const xI="FirebaseError";class Yi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=xI,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu.prototype.create)}}class Gu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?MI(u,a):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Yi(o,m,a)}}function MI(r,e){return r.replace(VI,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const VI=/\{\$([^}]+)}/g;function LI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ls(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],c=e[o];if(FE(u)&&FE(c)){if(!Ls(u,c))return!1}else if(u!==c)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function FE(r){return r!==null&&typeof r=="object"}function Qu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function hu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function fu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function kI(r,e){const n=new PI(r,e);return n.subscribe.bind(n)}class PI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");UI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=zm),o.error===void 0&&(o.error=zm),o.complete===void 0&&(o.complete=zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function zm(){}function In(r){return r&&r._delegate?r._delegate:r}class ks{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ns="[DEFAULT]";class zI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new _I;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BI(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&c.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:jI(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jI(r){return r===Ns?void 0:r}function BI(r){return r.instantiationMode==="EAGER"}class qI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var rt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(rt||(rt={}));const HI={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},FI=rt.INFO,GI={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},QI=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=GI[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=FI,this._logHandler=QI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const KI=(r,e)=>e.some(n=>r instanceof n);let GE,QE;function YI(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gb=new WeakMap,ip=new WeakMap,yb=new WeakMap,jm=new WeakMap,Fp=new WeakMap;function WI(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{n(za(r.result)),o()},c=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&gb.set(n,r)}).catch(()=>{}),Fp.set(e,r),e}function XI(r){if(ip.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});ip.set(r,e)}let ap={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ip.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return za(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function JI(r){ap=r(ap)}function ZI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Bm(this),e,...n);return yb.set(a,e.sort?e.sort():[e]),za(a)}:$I().includes(r)?function(...e){return r.apply(Bm(this),e),za(gb.get(this))}:function(...e){return za(r.apply(Bm(this),e))}}function e2(r){return typeof r=="function"?ZI(r):(r instanceof IDBTransaction&&XI(r),KI(r,YI())?new Proxy(r,ap):r)}function za(r){if(r instanceof IDBRequest)return WI(r);if(jm.has(r))return jm.get(r);const e=e2(r);return e!==r&&(jm.set(r,e),Fp.set(e,r)),e}const Bm=r=>Fp.get(r);function t2(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const c=indexedDB.open(r,e),m=za(c);return a&&c.addEventListener("upgradeneeded",p=>{a(za(c.result),p.oldVersion,p.newVersion,za(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const n2=["get","getKey","getAll","getAllKeys","count"],r2=["put","add","delete","clear"],qm=new Map;function KE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=r2.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||n2.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return qm.set(e,u),u}JI(r=>({...r,get:(e,n,a)=>KE(e,n)||r.get(e,n,a),has:(e,n)=>!!KE(e,n)||r.has(e,n)}));class i2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a2(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function a2(r){return r.getComponent()?.type==="VERSION"}const sp="@firebase/app",YE="0.14.6";const Hi=new Hp("@firebase/app"),s2="@firebase/app-compat",o2="@firebase/analytics-compat",l2="@firebase/analytics",u2="@firebase/app-check-compat",c2="@firebase/app-check",h2="@firebase/auth",f2="@firebase/auth-compat",d2="@firebase/database",m2="@firebase/data-connect",p2="@firebase/database-compat",g2="@firebase/functions",y2="@firebase/functions-compat",v2="@firebase/installations",_2="@firebase/installations-compat",E2="@firebase/messaging",T2="@firebase/messaging-compat",b2="@firebase/performance",w2="@firebase/performance-compat",S2="@firebase/remote-config",A2="@firebase/remote-config-compat",R2="@firebase/storage",C2="@firebase/storage-compat",I2="@firebase/firestore",D2="@firebase/ai",N2="@firebase/firestore-compat",O2="firebase",x2="12.6.0";const op="[DEFAULT]",M2={[sp]:"fire-core",[s2]:"fire-core-compat",[l2]:"fire-analytics",[o2]:"fire-analytics-compat",[c2]:"fire-app-check",[u2]:"fire-app-check-compat",[h2]:"fire-auth",[f2]:"fire-auth-compat",[d2]:"fire-rtdb",[m2]:"fire-data-connect",[p2]:"fire-rtdb-compat",[g2]:"fire-fn",[y2]:"fire-fn-compat",[v2]:"fire-iid",[_2]:"fire-iid-compat",[E2]:"fire-fcm",[T2]:"fire-fcm-compat",[b2]:"fire-perf",[w2]:"fire-perf-compat",[S2]:"fire-rc",[A2]:"fire-rc-compat",[R2]:"fire-gcs",[C2]:"fire-gcs-compat",[I2]:"fire-fst",[N2]:"fire-fst-compat",[D2]:"fire-vertex","fire-js":"fire-js",[O2]:"fire-js-all"};const Cu=new Map,V2=new Map,lp=new Map;function $E(r,e){try{r.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function $o(r){const e=r.name;if(lp.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,r);for(const n of Cu.values())$E(n,r);for(const n of V2.values())$E(n,r);return!0}function Gp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wr(r){return r==null?!1:r.settings!==void 0}const L2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new Gu("app","Firebase",L2);class k2{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}}const rl=x2;function vb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:op,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ja.create("bad-app-name",{appName:String(o)});if(n||(n=fb()),!n)throw ja.create("no-options");const u=Cu.get(o);if(u){if(Ls(n,u.options)&&Ls(a,u.config))return u;throw ja.create("duplicate-app",{appName:o})}const c=new qI(o);for(const p of lp.values())c.addComponent(p);const m=new k2(n,a,c);return Cu.set(o,m),m}function _b(r=op){const e=Cu.get(r);if(!e&&r===op&&fb())return vb();if(!e)throw ja.create("no-app",{appName:r});return e}function Eb(){return Array.from(Cu.values())}function Ba(r,e,n){let a=M2[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${a}" with version "${e}":`];o&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(c.join(" "));return}$o(new ks(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const P2="firebase-heartbeat-database",U2=1,Iu="firebase-heartbeat-store";let Hm=null;function Tb(){return Hm||(Hm=t2(P2,U2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Iu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ja.create("idb-open",{originalErrorMessage:r.message})})),Hm}async function z2(r){try{const n=(await Tb()).transaction(Iu),a=await n.objectStore(Iu).get(bb(r));return await n.done,a}catch(e){if(e instanceof Yi)Hi.warn(e.message);else{const n=ja.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(n.message)}}}async function WE(r,e){try{const a=(await Tb()).transaction(Iu,"readwrite");await a.objectStore(Iu).put(e,bb(r)),await a.done}catch(n){if(n instanceof Yi)Hi.warn(n.message);else{const a=ja.create("idb-set",{originalErrorMessage:n?.message});Hi.warn(a.message)}}}function bb(r){return`${r.name}!${r.options.appId}`}const j2=1024,B2=30;class q2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F2(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=XE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>B2){const o=G2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XE(),{heartbeatsToSend:n,unsentEntries:a}=H2(this._heartbeatsCache.heartbeats),o=Hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Hi.warn(e),""}}}function XE(){return new Date().toISOString().substring(0,10)}function H2(r,e=j2){const n=[];let a=r.slice();for(const o of r){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),JE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),JE(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class F2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NI()?OI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function JE(r){return Hh(JSON.stringify({version:2,heartbeats:r})).length}function G2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}function Q2(r){$o(new ks("platform-logger",e=>new i2(e),"PRIVATE")),$o(new ks("heartbeat",e=>new q2(e),"PRIVATE")),Ba(sp,YE,r),Ba(sp,YE,"esm2020"),Ba("fire-js","")}Q2("");var K2="firebase",Y2="12.7.0";Ba(K2,Y2,"app");function wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $2=wb,Sb=new Gu("auth","Firebase",wb());const Fh=new Hp("@firebase/auth");function W2(r,...e){Fh.logLevel<=rt.WARN&&Fh.warn(`Auth (${rl}): ${r}`,...e)}function xh(r,...e){Fh.logLevel<=rt.ERROR&&Fh.error(`Auth (${rl}): ${r}`,...e)}function zr(r,...e){throw Qp(r,...e)}function si(r,...e){return Qp(r,...e)}function Ab(r,e,n){const a={...$2(),[e]:n};return new Gu("auth","Firebase",a).create(e,{appName:r.name})}function Bi(r){return Ab(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return Sb.create(r,...e)}function Pe(r,e,...n){if(!r)throw Qp(e,...n)}function zi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw xh(e),new Error(e)}function Fi(r,e){r||zi(e)}function up(){return typeof self<"u"&&self.location?.href||""}function X2(){return ZE()==="http:"||ZE()==="https:"}function ZE(){return typeof self<"u"&&self.location?.protocol||null}function J2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X2()||RI()||"connection"in navigator)?navigator.onLine:!0}function Z2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=wI()||CI()}get(){return J2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kp(r,e){Fi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Rb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nD=new Ku(3e4,6e4);function Wa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Xa(r,e,n,a,o={}){return Cb(r,o,async()=>{let u={},c={};a&&(e==="GET"?c=a:u={body:JSON.stringify(a)});const m=Qu({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return AI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&nl(r.emulatorConfig.host)&&(g.credentials="include"),Rb.fetch()(await Ib(r,r.config.apiHost,n,m),g)})}async function Cb(r,e,n){r._canInitEmulator=!1;const a={...eD,...e};try{const o=new iD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw wh(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw wh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw wh(r,"user-disabled",c);const _=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ab(r,_,g);zr(r,_)}}catch(o){if(o instanceof Yi)throw o;zr(r,"network-request-failed",{message:String(o)})}}async function Yu(r,e,n,a,o={}){const u=await Xa(r,e,n,a,o);return"mfaPendingCredential"in u&&zr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ib(r,e,n,a){const o=`${e}${n}?${a}`,u=r,c=u.config.emulator?Kp(r.config,o):`${r.config.apiScheme}://${o}`;return tD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function rD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(si(this.auth,"network-request-failed")),nD.get())})}}function wh(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=si(r,e,a);return o.customData._tokenResponse=n,o}function e0(r){return r!==void 0&&r.enterprise!==void 0}class aD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sD(r,e){return Xa(r,"GET","/v2/recaptchaConfig",Wa(r,e))}async function oD(r,e){return Xa(r,"POST","/v1/accounts:delete",e)}async function Gh(r,e){return Xa(r,"POST","/v1/accounts:lookup",e)}function _u(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lD(r,e=!1){const n=In(r),a=await n.getIdToken(e),o=Yp(a);Pe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:a,authTime:_u(Fm(o.auth_time)),issuedAtTime:_u(Fm(o.iat)),expirationTime:_u(Fm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Fm(r){return Number(r)*1e3}function Yp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=cb(n);return o?JSON.parse(o):(xh("Failed to decode base64 JWT payload"),null)}catch(o){return xh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function t0(r){const e=Yp(r);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Du(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Yi&&uD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function uD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class cD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qh(r){const e=r.auth,n=await r.getIdToken(),a=await Du(r,Gh(e,{idToken:n}));Pe(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Db(o.providerUserInfo):[],c=fD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function hD(r){const e=In(r);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fD(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Db(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function dD(r,e){const n=await Cb(r,{},async()=>{const a=Qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,c=await Ib(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&nl(r.emulatorConfig.host)&&(p.credentials="include"),Rb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mD(r,e){return Xa(r,"POST","/v2/accounts:revokeToken",Wa(r,e))}class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=t0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await dD(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,c=new Go;return a&&(Pe(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(Pe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Pe(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return zi("not implemented")}}function Na(r,e){Pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class kr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new cD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Du(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lD(this,e)}reload(){return hD(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Qh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await Du(this,oD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:C,providerData:U,stsTokenManager:$}=n;Pe(T&&$,e,"internal-error");const G=Go.fromJSON(this.name,$);Pe(typeof T=="string",e,"internal-error"),Na(a,e.name),Na(o,e.name),Pe(typeof S=="boolean",e,"internal-error"),Pe(typeof C=="boolean",e,"internal-error"),Na(u,e.name),Na(c,e.name),Na(m,e.name),Na(p,e.name),Na(g,e.name),Na(_,e.name);const te=new kr({uid:T,auth:e,email:o,emailVerified:S,displayName:a,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:g,lastLoginAt:_});return U&&Array.isArray(U)&&(te.providerData=U.map(ee=>({...ee}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,a=!1){const o=new Go;o.updateFromServerResponse(n);const u=new kr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Qh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Pe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Db(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Go;m.updateFromIdToken(a);const p=new kr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const n0=new Map;function ji(r){Fi(r instanceof Function,"Expected a class definition");let e=n0.get(r);return e?(Fi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,n0.set(r,e),e)}class Nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nb.type="NONE";const r0=Nb;function Mh(r,e,n){return`firebase:${r}:${e}:${n}`}class Qo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gh(this.auth,{idToken:e}).catch(()=>{});return n?kr._fromGetAccountInfoResponse(this.auth,n,e):null}return kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Qo(ji(r0),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ji(r0);const c=Mh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const S=await Gh(e,{idToken:_}).catch(()=>{});if(!S)break;T=await kr._fromGetAccountInfoResponse(e,S,_)}else T=kr._fromJSON(e,_);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Qo(u,e,a):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Qo(u,e,a))}}function i0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ob(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kb(e))return"Blackberry";if(Pb(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||Mb(e))&&!e.includes("edge/"))return"Chrome";if(Lb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function Ob(r=Cn()){return/firefox\//i.test(r)}function xb(r=Cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mb(r=Cn()){return/crios\//i.test(r)}function Vb(r=Cn()){return/iemobile/i.test(r)}function Lb(r=Cn()){return/android/i.test(r)}function kb(r=Cn()){return/blackberry/i.test(r)}function Pb(r=Cn()){return/webos/i.test(r)}function $p(r=Cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pD(r=Cn()){return $p(r)&&!!window.navigator?.standalone}function gD(){return II()&&document.documentMode===10}function Ub(r=Cn()){return $p(r)||Lb(r)||Pb(r)||kb(r)||/windows phone/i.test(r)||Vb(r)}function zb(r,e=[]){let n;switch(r){case"Browser":n=i0(Cn());break;case"Worker":n=`${i0(Cn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${a}`}class yD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function vD(r,e={}){return Xa(r,"GET","/v2/passwordPolicy",Wa(r,e))}const _D=6;class ED{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_D,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class TD{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new yD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gh(this,{idToken:e}),a=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(Bi(this));const n=e?In(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vD(this),n=new ED(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await mD(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ji(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&W2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fs(r){return In(r)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=kI(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bD(r){mf=r}function jb(r){return mf.loadJS(r)}function wD(){return mf.recaptchaEnterpriseScript}function SD(){return mf.gapiScript}function AD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class RD{constructor(){this.enterprise=new CD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class CD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ID="recaptcha-enterprise",Bb="NO_RECAPTCHA";class DD{constructor(e){this.type=ID,this.auth=Fs(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{sD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new aD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;e0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(Bb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RD().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{a(this.auth).then(m=>{if(!n&&e0(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=wD();p.length!==0&&(p+=m),jb(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function s0(r,e,n,a=!1,o=!1){const u=new DD(r);let c;if(o)c=Bb;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function hp(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await s0(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await s0(r,e,n,n==="getOobCode");return a(r,c)}else return Promise.reject(u)})}function ND(r,e){const n=Gp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ls(u,e??{}))return o;zr(o,"already-initialized")}return n.initialize({options:e})}function OD(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ji);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function xD(r,e,n){const a=Fs(r);Pe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=qb(e),{host:c,port:m}=MD(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Pe(Ls(g,a.config.emulator)&&Ls(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,nl(c)?(mb(`${u}//${c}${p}`),pb("Auth",!0)):VD()}function qb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MD(r){const e=qb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:o0(a.substr(u.length+1))}}else{const[u,c]=a.split(":");return{host:u,port:o0(c)}}}function o0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function VD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,n){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}async function LD(r,e){return Xa(r,"POST","/v1/accounts:signUp",e)}async function kD(r,e){return Yu(r,"POST","/v1/accounts:signInWithPassword",Wa(r,e))}async function PD(r,e){return Yu(r,"POST","/v1/accounts:signInWithEmailLink",Wa(r,e))}async function UD(r,e){return Yu(r,"POST","/v1/accounts:signInWithEmailLink",Wa(r,e))}class Nu extends Wp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Nu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Nu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,n,"signInWithPassword",kD);case"emailLink":return PD(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,a,"signUpPassword",LD);case"emailLink":return UD(e,{idToken:n,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ko(r,e){return Yu(r,"POST","/v1/accounts:signInWithIdp",Wa(r,e))}const zD="http://localhost";class Ps extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const c=new Ps(a,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ko(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Ko(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ko(e,n)}buildRequest(){const e={requestUri:zD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qu(n)}return e}}function jD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BD(r){const e=hu(fu(r)).link,n=e?hu(fu(e)).deep_link_id:null,a=hu(fu(r)).deep_link_id;return(a?hu(fu(a)).link:null)||a||n||e||r}class Xp{constructor(e){const n=hu(fu(e)),a=n.apiKey??null,o=n.oobCode??null,u=jD(n.mode??null);Pe(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=BD(e);try{return new Xp(n)}catch{return null}}}class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,n){return Nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Xp.parseLink(n);return Pe(a,"argument-error"),Nu._fromEmailAndCode(e,a.code,a.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Hb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $u extends Hb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ma extends $u{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ma.PROVIDER_ID="facebook.com";class Va extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ps._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Va.credential(n,a)}catch{return null}}}Va.GOOGLE_SIGN_IN_METHOD="google.com";Va.PROVIDER_ID="google.com";class La extends $u{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return La.credential(e.oauthAccessToken)}catch{return null}}}La.GITHUB_SIGN_IN_METHOD="github.com";La.PROVIDER_ID="github.com";class ka extends $u{constructor(){super("twitter.com")}static credential(e,n){return Ps._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ka.credential(n,a)}catch{return null}}}ka.TWITTER_SIGN_IN_METHOD="twitter.com";ka.PROVIDER_ID="twitter.com";async function qD(r,e){return Yu(r,"POST","/v1/accounts:signUp",Wa(r,e))}class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await kr._fromIdTokenResponse(e,a,o),c=l0(a);return new Us({user:u,providerId:c,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=l0(a);return new Us({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Kh extends Yi{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Kh(e,n,a,o)}}function Fb(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(r,u,e,a):u})}async function HD(r,e,n=!1){const a=await Du(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Us._forOperation(r,"link",a)}async function FD(r,e,n=!1){const{auth:a}=r;if(wr(a.app))return Promise.reject(Bi(a));const o="reauthenticate";try{const u=await Du(r,Fb(a,o,e,r),n);Pe(u.idToken,a,"internal-error");const c=Yp(u.idToken);Pe(c,a,"internal-error");const{sub:m}=c;return Pe(r.uid===m,a,"user-mismatch"),Us._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&zr(a,"user-mismatch"),u}}async function Gb(r,e,n=!1){if(wr(r.app))return Promise.reject(Bi(r));const a="signIn",o=await Fb(r,a,e),u=await Us._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function GD(r,e){return Gb(Fs(r),e)}async function Qb(r){const e=Fs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QD(r,e,n){if(wr(r.app))return Promise.reject(Bi(r));const a=Fs(r),c=await hp(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Qb(r),p}),m=await Us._fromIdTokenResponse(a,"signIn",c);return await a._updateCurrentUser(m.user),m}function KD(r,e,n){return wr(r.app)?Promise.reject(Bi(r)):GD(In(r),il.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Qb(r),a})}function YD(r,e,n,a){return In(r).onIdTokenChanged(e,n,a)}function $D(r,e,n){return In(r).beforeAuthStateChanged(e,n)}function WD(r,e,n,a){return In(r).onAuthStateChanged(e,n,a)}function XD(r){return In(r).signOut()}const Yh="__sak";class Kb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JD=1e3,ZD=10;class Yb extends Kb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!n&&this.localCache[a]===c||this.notifyListeners(a,c)},u=this.storage.getItem(a);gD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZD):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yb.type="LOCAL";const eN=Yb;class $b extends Kb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$b.type="SESSION";const Wb=$b;function tN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new pf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await tN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];function Jp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}class nN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Jp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function oi(){return window}function rN(r){oi().location.href=r}function Xb(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function iN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aN(){return navigator?.serviceWorker?.controller||null}function sN(){return Xb()?self:null}const Jb="firebaseLocalStorageDb",oN=1,$h="firebaseLocalStorage",Zb="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(r,e){return r.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function lN(){const r=indexedDB.deleteDatabase(Jb);return new Wu(r).toPromise()}function fp(){const r=indexedDB.open(Jb,oN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($h,{keyPath:Zb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($h)?e(a):(a.close(),await lN(),e(await fp()))})})}async function u0(r,e,n){const a=gf(r,!0).put({[Zb]:e,value:n});return new Wu(a).toPromise()}async function uN(r,e){const n=gf(r,!1).get(e),a=await new Wu(n).toPromise();return a===void 0?null:a.value}function c0(r,e){const n=gf(r,!0).delete(e);return new Wu(n).toPromise()}const cN=800,hN=3;class ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>hN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(sN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iN(),!this.activeServiceWorker)return;this.sender=new nN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await u0(e,Yh,"1"),await c0(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>uN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gf(o,!1).getAll();return new Wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ew.type="LOCAL";const fN=ew;new Ku(3e4,6e4);function dN(r,e){return e?ji(e):(Pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Zp extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mN(r){return Gb(r.auth,new Zp(r),r.bypassAuthState)}function pN(r){const{auth:e,user:n}=r;return Pe(n,e,"internal-error"),FD(n,new Zp(r),r.bypassAuthState)}async function gN(r){const{auth:e,user:n}=r;return Pe(n,e,"internal-error"),HD(n,new Zp(r),r.bypassAuthState)}class tw{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return pN;default:zr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yN=new Ku(2e3,1e4);class Ho extends tw{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yN.get())};e()}}Ho.currentPopupAction=null;const vN="pendingRedirect",Vh=new Map;class _N extends tw{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const a=await EN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EN(r,e){const n=wN(e),a=bN(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function TN(r,e){Vh.set(r._key(),e)}function bN(r){return ji(r._redirectPersistence)}function wN(r){return Mh(vN,r.config.apiKey,r.name)}async function SN(r,e,n=!1){if(wr(r.app))return Promise.reject(Bi(r));const a=Fs(r),o=dN(a,e),c=await new _N(a,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}const AN=600*1e3;class RN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!nw(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(si(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AN&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function nw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function CN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nw(r);default:return!1}}async function IN(r,e={}){return Xa(r,"GET","/v1/projects",e)}const DN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NN=/^https?/;async function ON(r){if(r.config.emulator)return;const{authorizedDomains:e}=await IN(r);for(const n of e)try{if(xN(n))return}catch{}zr(r,"unauthorized-domain")}function xN(r){const e=up(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===a}if(!NN.test(n))return!1;if(DN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const MN=new Ku(3e4,6e4);function f0(){const r=oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function VN(r){return new Promise((e,n)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f0(),n(si(r,"network-request-failed"))},timeout:MN.get()})}if(oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(oi().gapi?.load)a();else{const o=AD("iframefcb");return oi()[o]=()=>{gapi.load?a():n(si(r,"network-request-failed"))},jb(`${SD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function LN(r){return Lh=Lh||VN(r),Lh}const kN=new Ku(5e3,15e3),PN="__/auth/iframe",UN="emulator/auth/iframe",zN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(r){const e=r.config;Pe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Kp(e,UN):`https://${r.config.authDomain}/${PN}`,a={apiKey:e.apiKey,appName:r.name,v:rl},o=jN.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Qu(a).slice(1)}`}async function qN(r){const e=await LN(r),n=oi().gapi;return Pe(n,r,"internal-error"),e.open({where:document.body,url:BN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zN,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const c=si(r,"network-request-failed"),m=oi().setTimeout(()=>{u(c)},kN.get());function p(){oi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(c)})}))}const HN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FN=500,GN=600,QN="_blank",KN="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YN(r,e,n,a=FN,o=GN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...HN,width:a.toString(),height:o.toString(),top:u,left:c},g=Cn().toLowerCase();n&&(m=Mb(g)?QN:n),Ob(g)&&(e=e||KN,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[C,U])=>`${S}${C}=${U},`,"");if(pD(g)&&m!=="_self")return $N(e||"",m),new d0(null);const T=window.open(e||"",m,_);Pe(T,r,"popup-blocked");try{T.focus()}catch{}return new d0(T)}function $N(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const WN="__/auth/handler",XN="emulator/auth/handler",JN=encodeURIComponent("fac");async function m0(r,e,n,a,o,u){Pe(r.config.authDomain,r,"auth-domain-config-required"),Pe(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:rl,eventId:o};if(e instanceof Hb){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",LI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof $u){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await r._getAppCheckToken(),g=p?`#${JN}=${encodeURIComponent(p)}`:"";return`${ZN(r)}?${Qu(m).slice(1)}${g}`}function ZN({config:r}){return r.emulator?Kp(r,XN):`https://${r.authDomain}/${WN}`}const Gm="webStorageSupport";class eO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=SN,this._overrideRedirectResult=TN}async _openPopup(e,n,a,o){Fi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await m0(e,n,a,up(),o);return YN(e,u,Jp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await m0(e,n,a,up(),o);return rN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Fi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await qN(e),a=new RN(e);return n.register("authEvent",o=>(Pe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gm,{type:Gm},o=>{const u=o?.[0]?.[Gm];u!==void 0&&n(!!u),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ON(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ub()||xb()||$p()}}const tO=eO;var p0="@firebase/auth",g0="1.12.0";class nO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iO(r){$o(new ks("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=a.options;Pe(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zb(r)},g=new TD(a,o,u,p);return OD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),$o(new ks("auth-internal",e=>{const n=Fs(e.getProvider("auth").getImmediate());return(a=>new nO(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ba(p0,g0,rO(r)),Ba(p0,g0,"esm2020")}const aO=300,sO=db("authIdTokenMaxAge")||aO;let y0=null;const oO=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>sO)return;const o=n?.token;y0!==o&&(y0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lO(r=_b()){const e=Gp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=ND(r,{popupRedirectResolver:tO,persistence:[fN,eN,Wb]}),a=db("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const c=oO(u.toString());$D(n,c,()=>c(n.currentUser)),YD(n,m=>c(m))}}const o=hb("auth");return o&&xD(n,`http://${o}`),n}function uO(){return document.getElementsByTagName("head")?.[0]??document}bD({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=si("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",uO().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iO("Browser");class cO{constructor(e){this.config=e,this.auth=null,this.app=null,this.initialized=!1,this.currentUser=null,this.listeners=[]}addListener(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(n=>n!==e)}}removeListener(e){this.listeners=this.listeners.filter(n=>n!==e)}notifyListeners(e,n){this.listeners.forEach(a=>{try{a(e,n)}catch(o){console.error("Error in auth listener:",o)}})}storeAuth(e,n){this.currentUser=e,e&&(localStorage.setItem("auth_user",JSON.stringify(e)),n&&localStorage.setItem("auth_token",n),this.notifyListeners("signin",e))}async getCurrentUser(){if(this.currentUser)return this.currentUser;const e=localStorage.getItem("auth_user");if(e)try{return this.currentUser=JSON.parse(e),this.currentUser}catch(n){console.error("Error parsing stored user:",n)}return this.auth&&this.auth.currentUser?(this.currentUser={uid:this.auth.currentUser.uid,email:this.auth.currentUser.email,displayName:this.auth.currentUser.displayName},this.currentUser):null}async getUserId(){const e=await this.getCurrentUser();return e?e.uid:null}async isAuthenticated(){return!!await this.getCurrentUser()}async initialize(){if(this.initialized)return;if(!this.config)throw new Error("Firebase config not provided. Please set FIREBASE_CONFIG.");const e=Eb();e.length===0?this.app=vb(this.config):this.app=e[0],this.auth=lO(this.app),this.initialized=!0,WD(this.auth,a=>{a?this.storeAuth({uid:a.uid,email:a.email,displayName:a.displayName},null):(this.currentUser=null,localStorage.removeItem("auth_user"),this.notifyListeners("signout"))});const n=this.auth.currentUser;n&&this.storeAuth({uid:n.uid,email:n.email,displayName:n.displayName},null)}async signUp(e,n){await this.initialize();try{return(await QD(this.auth,e,n)).user}catch(a){throw console.error("Sign up error:",a),this.formatError(a)}}async signIn(e,n){await this.initialize();try{return(await KD(this.auth,e,n)).user}catch(a){throw console.error("Sign in error:",a),this.formatError(a)}}async signOut(){this.auth&&await XD(this.auth)}async getToken(e=!1){if(!this.auth||!this.auth.currentUser)return null;try{return await this.auth.currentUser.getIdToken(e)}catch(n){return console.error("Error getting token:",n),(n.code==="auth/user-token-expired"||n.code==="auth/invalid-user-token")&&(console.warn("Token expired or invalid, signing out user"),await this.signOut()),null}}async validateToken(){if(!this.auth||!this.auth.currentUser)return!1;try{return!!await this.getToken(!0)}catch(e){return console.error("Token validation failed:",e),!1}}isAuthError(e){if(!e)return!1;const n=["auth/user-token-expired","auth/invalid-user-token","auth/requires-recent-login","auth/user-not-found","permission-denied","unauthenticated"];return!!(e.code&&n.some(a=>e.code.includes(a))||e.message&&(e.message.includes("permission")||e.message.includes("unauthenticated")||e.message.includes("token")))}formatError(e){const a={"auth/email-already-in-use":"This email is already registered. Please sign in instead.","auth/invalid-email":"Invalid email address.","auth/operation-not-allowed":"Email/password accounts are not enabled.","auth/weak-password":"Password is too weak. Please use a stronger password.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"No account found with this email.","auth/wrong-password":"Incorrect password.","auth/invalid-credential":"Invalid email or password.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/network-request-failed":"Network error. Please check your connection."}[e.code]||e.message||"An error occurred. Please try again.";return new Error(a)}}const hO={apiKey:"AIzaSyC1nmSSaOSZJVqI9tdIGBDGkiC1asRec5s",authDomain:"the-work-46755.firebaseapp.com",projectId:"the-work-46755",storageBucket:"the-work-46755.firebasestorage.app",messagingSenderId:"792441404750",appId:"1:792441404750:web:fbebcb49f6fce10fbfb21f"};let Ds=null;function fO(){const[r,e]=k.useState(null),[n,a]=k.useState(!0),[o,u]=k.useState(null);k.useEffect(()=>{let g=!0;async function _(){try{if(Ds||(Ds=new cO(hO),await Ds.initialize()),g){u(Ds);const T=Ds.addListener((C,U)=>{g&&(C==="signin"?Ds.getCurrentUser().then($=>{g&&e($)}):C==="signout"&&e(null))}),S=await Ds.getCurrentUser();return g&&(e(S),a(!1)),T}}catch(T){console.error("Error initializing auth:",T),g&&a(!1)}}return _(),()=>{g=!1}},[]);const c=k.useCallback(async(g,_)=>{if(!o)throw new Error("Auth service not initialized");await o.signUp(g,_)},[o]),m=k.useCallback(async(g,_)=>{if(!o)throw new Error("Auth service not initialized");await o.signIn(g,_)},[o]),p=k.useCallback(async()=>{o&&await o.signOut()},[o]);return{user:r,loading:n,authService:o,signUp:c,signIn:m,signOut:p,isAuthenticated:!!r}}const dO="TheWorkDB",mO=2,Wh="worksheets";let Ou=null;function pO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})}function rw(){return new Promise((r,e)=>{const n=indexedDB.open(dO,mO);n.onerror=()=>e(n.error),n.onsuccess=()=>{Ou=n.result,r(Ou)},n.onupgradeneeded=a=>{const o=a.target.result;o.objectStoreNames.contains(Wh)||o.createObjectStore(Wh,{keyPath:"id"}).createIndex("date","date",{unique:!1})}})}async function gO(){return Ou||await rw(),Ou}function yO(r="readonly"){return Ou.transaction([Wh],r)}function vO(r){return r.objectStore(Wh)}function _O(r){return new Promise((e,n)=>{r.onsuccess=()=>e(r.result),r.onerror=()=>n(r.error)})}async function al(r,e){await gO();const n=yO(r);n.onerror=u=>{console.error("Transaction error:",u.target.error)};const a=vO(n),o=e(a);if(!o)throw new Error("Operation did not return a valid IDBRequest");return _O(o)}async function EO(r){const e={...r,date:r.date||new Date().toISOString(),updatedAt:new Date().toISOString()};return e.id||(e.id=pO()),await al("readwrite",n=>n.put(e)),e.id}async function iw(){try{const r=await al("readonly",n=>n.getAll());return!r||r.length===0?[]:r.filter(n=>!n.deleted).map((n,a)=>{try{const o=ob(n);return o||(console.warn("Worksheet normalized to null/undefined:",{original:n,index:a}),null)}catch(o){return console.error("Error normalizing worksheet:",o,{worksheet:n,index:a}),null}}).filter(Boolean).sort((n,a)=>{const o=n.date?new Date(n.date):new Date(0);return(a.date?new Date(a.date):new Date(0))-o})}catch(r){return console.error("Error getting all worksheets:",r),[]}}async function eg(r){try{const e=await al("readonly",n=>n.get(r));return e?ob(e):null}catch(e){return console.error("Error getting worksheet by ID:",e,{id:r}),null}}async function TO(r){const e=await eg(r);e&&(e.deleted=!0,e.deletedAt=new Date().toISOString(),e.updatedAt=new Date().toISOString(),await al("readwrite",n=>n.put(e)))}async function v0(r){await al("readwrite",e=>e.put(r))}async function bO(r){await al("readwrite",e=>e.delete(r))}function wO(){const[r,e]=k.useState([]),[n,a]=k.useState(!0),[o,u]=k.useState(null),c=k.useCallback(async()=>{try{a(!0);const _=await iw();e(_),u(null)}catch(_){console.error("Error loading worksheets:",_),u(_)}finally{a(!1)}},[]),m=k.useCallback(async _=>{try{return await eg(_)}catch(T){throw console.error("Error getting worksheet:",T),T}},[]),p=k.useCallback(async _=>{try{const T=await EO(_);return await c(),T}catch(T){throw console.error("Error saving worksheet:",T),T}},[c]),g=k.useCallback(async _=>{try{await TO(_),await c()}catch(T){throw console.error("Error deleting worksheet:",T),T}},[c]);return k.useEffect(()=>{rw().then(()=>{c()}).catch(_=>{console.error("Error initializing DB:",_),u(_),a(!1)})},[c]),{worksheets:r,loading:n,error:o,loadWorksheets:c,getWorksheet:m,saveWorksheet:p,deleteWorksheet:g}}class SO{constructor(){this.isOnline=navigator.onLine,this.syncInProgress=!1,this.syncStarted=!1,this.pendingSyncs=[],this.listeners=[],window.addEventListener("online",()=>{this.isOnline=!0,this.notifyListeners("online"),this.processPendingSyncs()}),window.addEventListener("offline",()=>{this.isOnline=!1,this.notifyListeners("offline")})}async initialize(e,n){this.auth=e,this.db=n,this.db&&this.db.setAuthService&&this.db.setAuthService(e),await this.auth.isAuthenticated()&&await this.startSync()}async startSync(){if(!await this.auth.isAuthenticated()){console.warn("Cannot start sync: user not authenticated");return}if(this.syncStarted){console.log("Sync already started, skipping duplicate startSync call");return}this.syncStarted=!0;try{await this.performInitialSync(),await this.setupRealtimeListeners(),this.notifyListeners("sync-started")}catch(e){console.error("Error starting sync:",e),this.syncStarted=!1,this.notifyListeners("sync-error",e)}}stopSync(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),this.syncStarted=!1,this.notifyListeners("sync-stopped")}async performInitialSync(){if(this.syncInProgress){console.log("Sync already in progress, skipping...");return}this.syncInProgress=!0,this.notifyListeners("sync-progress",{status:"initial-sync"});try{const e=await this.auth.getUserId(),n=await this.getAllLocalWorksheets(),a=await this.db.getUserWorksheets(e),o=new Map(n.map(g=>[g.id,g])),u=new Map(a.map(g=>[g.id,g])),c=[],m=[],p=[];for(const[g,_]of o){const T=u.get(g);if(!T)_.deleted||c.push(_);else{const S=new Date(_.updatedAt||_.date),C=new Date(T.updatedAt||T.date);T.deleted&&!_.deleted?p.push(g):_.deleted&&!T.deleted||S>C?c.push(_):C>S&&m.push(T)}}for(const[g,_]of u)if(!o.has(g)){if(_.deleted)continue;m.push(_)}for(const g of c)await this.db.saveWorksheet(e,g);for(const g of m)await this.saveLocalWorksheet(g);for(const g of p)await this.deleteLocalWorksheet(g);this.notifyListeners("sync-progress",{status:"complete",uploaded:c.length,downloaded:m.length,deleted:p.length})}catch(e){throw console.error("Error during initial sync:",e),this.isAuthError(e)&&(console.warn("Initial sync failed due to authentication error"),this.notifyListeners("auth-error",e),this.stopSync()),e}finally{this.syncInProgress=!1}}isAuthError(e){return e?["Authentication expired","Please sign in again","permission-denied","unauthenticated"].some(a=>e.message?.includes(a)||e.code?.includes(a)):!1}async syncWorksheetToCloud(e){if(!await this.auth.isAuthenticated()){this.pendingSyncs.push({type:"upload",data:e});return}if(!this.isOnline){this.pendingSyncs.push({type:"upload",data:e});return}try{const n=await this.auth.getUserId();await this.db.saveWorksheet(n,e),e.syncedAt=new Date().toISOString(),await this.updateLocalWorksheet(e),this.notifyListeners("worksheet-synced",e)}catch(n){throw console.error("Error syncing worksheet to cloud:",n),this.isAuthError(n)?(console.warn("Sync failed due to authentication error"),this.notifyListeners("auth-error",n)):this.pendingSyncs.push({type:"upload",data:e}),n}}async processPendingSyncs(){if(!this.isOnline||!await this.auth.isAuthenticated())return;const e=[...this.pendingSyncs];this.pendingSyncs=[];for(const n of e)try{n.type==="upload"&&await this.syncWorksheetToCloud(n.data)}catch(a){console.error("Error processing pending sync:",a),this.pendingSyncs.push(n)}}async setupRealtimeListeners(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null);try{const e=await this.auth.getUserId();this.unsubscribe=await this.db.subscribeToWorksheets(e,async n=>{for(const a of n){const o=await this.getLocalWorksheetById(a.id);if(!o)a.deleted||(await this.saveLocalWorksheet(a),this.notifyListeners("worksheet-added",a));else{const u=new Date(o.updatedAt||o.date),c=new Date(a.updatedAt||a.date);a.deleted&&!o.deleted?(await this.deleteLocalWorksheet(a.id),this.notifyListeners("worksheet-deleted",{id:a.id})):c>u&&(await this.saveLocalWorksheet(a),this.notifyListeners("worksheet-updated",a))}}})}catch(e){console.error("Error setting up real-time listeners:",e),this.isAuthError(e)&&(console.warn("Real-time listener setup failed due to authentication error"),this.notifyListeners("auth-error",e),this.stopSync())}}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(n=>n!==e)}notifyListeners(e,n){this.listeners.forEach(a=>{try{a(e,n)}catch(o){console.error("Error in sync listener:",o)}})}async getAllLocalWorksheets(){throw new Error("getAllLocalWorksheets must be implemented")}async getLocalWorksheetById(e){throw new Error("getLocalWorksheetById must be implemented")}async saveLocalWorksheet(e){throw new Error("saveLocalWorksheet must be implemented")}async updateLocalWorksheet(e){throw new Error("updateLocalWorksheet must be implemented")}async deleteLocalWorksheet(e){throw new Error("deleteLocalWorksheet must be implemented")}}var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qa,aw;(function(){var r;function e(b,R){function I(){}I.prototype=R.prototype,b.F=R.prototype,b.prototype=new I,b.prototype.constructor=b,b.D=function(M,O,P){for(var D=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)D[Ve-2]=arguments[Ve];return R.prototype[O].apply(M,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,R,I){I||(I=0);const M=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)M[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=b.g[0],I=b.g[1],O=b.g[2];let P=b.g[3],D;D=R+(P^I&(O^P))+M[0]+3614090360&4294967295,R=I+(D<<7&4294967295|D>>>25),D=P+(O^R&(I^O))+M[1]+3905402710&4294967295,P=R+(D<<12&4294967295|D>>>20),D=O+(I^P&(R^I))+M[2]+606105819&4294967295,O=P+(D<<17&4294967295|D>>>15),D=I+(R^O&(P^R))+M[3]+3250441966&4294967295,I=O+(D<<22&4294967295|D>>>10),D=R+(P^I&(O^P))+M[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=P+(O^R&(I^O))+M[5]+1200080426&4294967295,P=R+(D<<12&4294967295|D>>>20),D=O+(I^P&(R^I))+M[6]+2821735955&4294967295,O=P+(D<<17&4294967295|D>>>15),D=I+(R^O&(P^R))+M[7]+4249261313&4294967295,I=O+(D<<22&4294967295|D>>>10),D=R+(P^I&(O^P))+M[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=P+(O^R&(I^O))+M[9]+2336552879&4294967295,P=R+(D<<12&4294967295|D>>>20),D=O+(I^P&(R^I))+M[10]+4294925233&4294967295,O=P+(D<<17&4294967295|D>>>15),D=I+(R^O&(P^R))+M[11]+2304563134&4294967295,I=O+(D<<22&4294967295|D>>>10),D=R+(P^I&(O^P))+M[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=P+(O^R&(I^O))+M[13]+4254626195&4294967295,P=R+(D<<12&4294967295|D>>>20),D=O+(I^P&(R^I))+M[14]+2792965006&4294967295,O=P+(D<<17&4294967295|D>>>15),D=I+(R^O&(P^R))+M[15]+1236535329&4294967295,I=O+(D<<22&4294967295|D>>>10),D=R+(O^P&(I^O))+M[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=P+(I^O&(R^I))+M[6]+3225465664&4294967295,P=R+(D<<9&4294967295|D>>>23),D=O+(R^I&(P^R))+M[11]+643717713&4294967295,O=P+(D<<14&4294967295|D>>>18),D=I+(P^R&(O^P))+M[0]+3921069994&4294967295,I=O+(D<<20&4294967295|D>>>12),D=R+(O^P&(I^O))+M[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=P+(I^O&(R^I))+M[10]+38016083&4294967295,P=R+(D<<9&4294967295|D>>>23),D=O+(R^I&(P^R))+M[15]+3634488961&4294967295,O=P+(D<<14&4294967295|D>>>18),D=I+(P^R&(O^P))+M[4]+3889429448&4294967295,I=O+(D<<20&4294967295|D>>>12),D=R+(O^P&(I^O))+M[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=P+(I^O&(R^I))+M[14]+3275163606&4294967295,P=R+(D<<9&4294967295|D>>>23),D=O+(R^I&(P^R))+M[3]+4107603335&4294967295,O=P+(D<<14&4294967295|D>>>18),D=I+(P^R&(O^P))+M[8]+1163531501&4294967295,I=O+(D<<20&4294967295|D>>>12),D=R+(O^P&(I^O))+M[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=P+(I^O&(R^I))+M[2]+4243563512&4294967295,P=R+(D<<9&4294967295|D>>>23),D=O+(R^I&(P^R))+M[7]+1735328473&4294967295,O=P+(D<<14&4294967295|D>>>18),D=I+(P^R&(O^P))+M[12]+2368359562&4294967295,I=O+(D<<20&4294967295|D>>>12),D=R+(I^O^P)+M[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=P+(R^I^O)+M[8]+2272392833&4294967295,P=R+(D<<11&4294967295|D>>>21),D=O+(P^R^I)+M[11]+1839030562&4294967295,O=P+(D<<16&4294967295|D>>>16),D=I+(O^P^R)+M[14]+4259657740&4294967295,I=O+(D<<23&4294967295|D>>>9),D=R+(I^O^P)+M[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=P+(R^I^O)+M[4]+1272893353&4294967295,P=R+(D<<11&4294967295|D>>>21),D=O+(P^R^I)+M[7]+4139469664&4294967295,O=P+(D<<16&4294967295|D>>>16),D=I+(O^P^R)+M[10]+3200236656&4294967295,I=O+(D<<23&4294967295|D>>>9),D=R+(I^O^P)+M[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=P+(R^I^O)+M[0]+3936430074&4294967295,P=R+(D<<11&4294967295|D>>>21),D=O+(P^R^I)+M[3]+3572445317&4294967295,O=P+(D<<16&4294967295|D>>>16),D=I+(O^P^R)+M[6]+76029189&4294967295,I=O+(D<<23&4294967295|D>>>9),D=R+(I^O^P)+M[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=P+(R^I^O)+M[12]+3873151461&4294967295,P=R+(D<<11&4294967295|D>>>21),D=O+(P^R^I)+M[15]+530742520&4294967295,O=P+(D<<16&4294967295|D>>>16),D=I+(O^P^R)+M[2]+3299628645&4294967295,I=O+(D<<23&4294967295|D>>>9),D=R+(O^(I|~P))+M[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=P+(I^(R|~O))+M[7]+1126891415&4294967295,P=R+(D<<10&4294967295|D>>>22),D=O+(R^(P|~I))+M[14]+2878612391&4294967295,O=P+(D<<15&4294967295|D>>>17),D=I+(P^(O|~R))+M[5]+4237533241&4294967295,I=O+(D<<21&4294967295|D>>>11),D=R+(O^(I|~P))+M[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=P+(I^(R|~O))+M[3]+2399980690&4294967295,P=R+(D<<10&4294967295|D>>>22),D=O+(R^(P|~I))+M[10]+4293915773&4294967295,O=P+(D<<15&4294967295|D>>>17),D=I+(P^(O|~R))+M[1]+2240044497&4294967295,I=O+(D<<21&4294967295|D>>>11),D=R+(O^(I|~P))+M[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=P+(I^(R|~O))+M[15]+4264355552&4294967295,P=R+(D<<10&4294967295|D>>>22),D=O+(R^(P|~I))+M[6]+2734768916&4294967295,O=P+(D<<15&4294967295|D>>>17),D=I+(P^(O|~R))+M[13]+1309151649&4294967295,I=O+(D<<21&4294967295|D>>>11),D=R+(O^(I|~P))+M[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=P+(I^(R|~O))+M[11]+3174756917&4294967295,P=R+(D<<10&4294967295|D>>>22),D=O+(R^(P|~I))+M[2]+718787259&4294967295,O=P+(D<<15&4294967295|D>>>17),D=I+(P^(O|~R))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+R&4294967295,b.g[1]=b.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,b.g[2]=b.g[2]+O&4294967295,b.g[3]=b.g[3]+P&4294967295}a.prototype.v=function(b,R){R===void 0&&(R=b.length);const I=R-this.blockSize,M=this.C;let O=this.h,P=0;for(;P<R;){if(O==0)for(;P<=I;)o(this,b,P),P+=this.blockSize;if(typeof b=="string"){for(;P<R;)if(M[O++]=b.charCodeAt(P++),O==this.blockSize){o(this,M),O=0;break}}else for(;P<R;)if(M[O++]=b[P++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=R},a.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var R=1;R<b.length-8;++R)b[R]=0;R=this.o*8;for(var I=b.length-8;I<b.length;++I)b[I]=R&255,R/=256;for(this.v(b),b=Array(16),R=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)b[R++]=this.g[I]>>>M&255;return b};function u(b,R){var I=m;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=R(b)}function c(b,R){this.h=R;const I=[];let M=!0;for(let O=b.length-1;O>=0;O--){const P=b[O]|0;M&&P==R||(I[O]=P,M=!1)}this.g=I}var m={};function p(b){return-128<=b&&b<128?u(b,function(R){return new c([R|0],R<0?-1:0)}):new c([b|0],b<0?-1:0)}function g(b){if(isNaN(b)||!isFinite(b))return T;if(b<0)return G(g(-b));const R=[];let I=1;for(let M=0;b>=I;M++)R[M]=b/I|0,I*=4294967296;return new c(R,0)}function _(b,R){if(b.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(b.charAt(0)=="-")return G(_(b.substring(1),R));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let M=T;for(let P=0;P<b.length;P+=8){var O=Math.min(8,b.length-P);const D=parseInt(b.substring(P,P+O),R);O<8?(O=g(Math.pow(R,O)),M=M.j(O).add(g(D))):(M=M.j(I),M=M.add(g(D)))}return M}var T=p(0),S=p(1),C=p(16777216);r=c.prototype,r.m=function(){if($(this))return-G(this).m();let b=0,R=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);b+=(M>=0?M:4294967296+M)*R,R*=4294967296}return b},r.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(U(this))return"0";if($(this))return"-"+G(this).toString(b);const R=g(Math.pow(b,6));var I=this;let M="";for(;;){const O=De(I,R).g;I=te(I,O.j(R));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(b);if(I=O,U(I))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function U(b){if(b.h!=0)return!1;for(let R=0;R<b.g.length;R++)if(b.g[R]!=0)return!1;return!0}function $(b){return b.h==-1}r.l=function(b){return b=te(this,b),$(b)?-1:U(b)?0:1};function G(b){const R=b.g.length,I=[];for(let M=0;M<R;M++)I[M]=~b.g[M];return new c(I,~b.h).add(S)}r.abs=function(){return $(this)?G(this):this},r.add=function(b){const R=Math.max(this.g.length,b.g.length),I=[];let M=0;for(let O=0;O<=R;O++){let P=M+(this.i(O)&65535)+(b.i(O)&65535),D=(P>>>16)+(this.i(O)>>>16)+(b.i(O)>>>16);M=D>>>16,P&=65535,D&=65535,I[O]=D<<16|P}return new c(I,I[I.length-1]&-2147483648?-1:0)};function te(b,R){return b.add(G(R))}r.j=function(b){if(U(this)||U(b))return T;if($(this))return $(b)?G(this).j(G(b)):G(G(this).j(b));if($(b))return G(this.j(G(b)));if(this.l(C)<0&&b.l(C)<0)return g(this.m()*b.m());const R=this.g.length+b.g.length,I=[];for(var M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<b.g.length;O++){const P=this.i(M)>>>16,D=this.i(M)&65535,Ve=b.i(O)>>>16,Le=b.i(O)&65535;I[2*M+2*O]+=D*Le,ee(I,2*M+2*O),I[2*M+2*O+1]+=P*Le,ee(I,2*M+2*O+1),I[2*M+2*O+1]+=D*Ve,ee(I,2*M+2*O+1),I[2*M+2*O+2]+=P*Ve,ee(I,2*M+2*O+2)}for(b=0;b<R;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=R;b<2*R;b++)I[b]=0;return new c(I,0)};function ee(b,R){for(;(b[R]&65535)!=b[R];)b[R+1]+=b[R]>>>16,b[R]&=65535,R++}function oe(b,R){this.g=b,this.h=R}function De(b,R){if(U(R))throw Error("division by zero");if(U(b))return new oe(T,T);if($(b))return R=De(G(b),R),new oe(G(R.g),G(R.h));if($(R))return R=De(b,G(R)),new oe(G(R.g),R.h);if(b.g.length>30){if($(b)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,M=R;M.l(b)<=0;)I=be(I),M=be(M);var O=Ae(I,1),P=Ae(M,1);for(M=Ae(M,2),I=Ae(I,2);!U(M);){var D=P.add(M);D.l(b)<=0&&(O=O.add(I),P=D),M=Ae(M,1),I=Ae(I,1)}return R=te(b,O.j(R)),new oe(O,R)}for(O=T;b.l(R)>=0;){for(I=Math.max(1,Math.floor(b.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=g(I),D=P.j(R);$(D)||D.l(b)>0;)I-=M,P=g(I),D=P.j(R);U(P)&&(P=S),O=O.add(P),b=te(b,D)}return new oe(O,b)}r.B=function(b){return De(this,b).h},r.and=function(b){const R=Math.max(this.g.length,b.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)&b.i(M);return new c(I,this.h&b.h)},r.or=function(b){const R=Math.max(this.g.length,b.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)|b.i(M);return new c(I,this.h|b.h)},r.xor=function(b){const R=Math.max(this.g.length,b.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)^b.i(M);return new c(I,this.h^b.h)};function be(b){const R=b.g.length+1,I=[];for(let M=0;M<R;M++)I[M]=b.i(M)<<1|b.i(M-1)>>>31;return new c(I,b.h)}function Ae(b,R){const I=R>>5;R%=32;const M=b.g.length-I,O=[];for(let P=0;P<M;P++)O[P]=R>0?b.i(P+I)>>>R|b.i(P+I+1)<<32-R:b.i(P+I);return new c(O,b.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,aw=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,qa=c}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sw,du,ow,kh,dp,lw,uw,cw;(function(){var r,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function o(h,y){if(y)e:{var E=a;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in E))break e;E=E[q]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,q,W){for(var me=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)me[Fe-2]=arguments[Fe];return y.prototype[q].apply(A,me)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function U(h,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const W=q.length||0;h.length=E+W;for(let me=0;me<W;me++)h[E+me]=q[me]}else h.push(q)}}class ${constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(h){c.setTimeout(()=>{throw h},0)}function te(){var h=b;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,E){const A=oe.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new $(()=>new De,h=>h.reset());class De{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let be,Ae=!1,b=new ee,R=()=>{const h=Promise.resolve(void 0);be=()=>{h.then(I)}};function I(){for(var h;h=te();){try{h.h.call(h.g)}catch(E){G(E)}var y=oe;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}Ae=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Ve(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Ve,O),Ve.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ce(h,y,E,A,q){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=q,this.key=++Q,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function ze(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function V(h){const y={};for(const E in h)y[E]=h[E];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,y){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)h[E]=A[E];for(let W=0;W<J.length;W++)E=J[W],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,y,E,A,q){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const me=de(h,y,A,q);return me>-1?(y=h[me],E||(y.fa=!1)):(y=new ce(y,this.src,W,!!A,q),y.fa=E,h.push(y)),y};function le(h,y){const E=y.type;if(E in h.g){var A=h.g[E],q=Array.prototype.indexOf.call(A,y,void 0),W;(W=q>=0)&&Array.prototype.splice.call(A,q,1),W&&(fe(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function de(h,y,E,A){for(let q=0;q<h.length;++q){const W=h[q];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==A)return q}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),je={};function dt(h,y,E,A,q){if(Array.isArray(y)){for(let W=0;W<y.length;W++)dt(h,y[W],E,A,q);return null}return E=ts(E),h&&h[Le]?h.J(y,E,m(A)?!!A.capture:!1,q):gi(h,y,E,!1,A,q)}function gi(h,y,E,A,q,W){if(!y)throw Error("Invalid event type");const me=m(q)?!!q.capture:!!q;let Fe=Dn(h);if(Fe||(h[ke]=Fe=new pe(h)),E=Fe.add(y,E,A,me,W),E.proxy)return E;if(A=$i(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)P||(q=me),q===void 0&&(q=!1),h.addEventListener(y.toString(),A,q);else if(h.attachEvent)h.attachEvent(Kn(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function $i(){function h(E){return y.call(h.src,h.listener,E)}const y=Za;return h}function Pt(h,y,E,A,q){if(Array.isArray(y))for(var W=0;W<y.length;W++)Pt(h,y[W],E,A,q);else A=m(A)?!!A.capture:!!A,E=ts(E),h&&h[Le]?(h=h.i,W=String(y).toString(),W in h.g&&(y=h.g[W],E=de(y,E,A,q),E>-1&&(fe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[W],h.h--)))):h&&(h=Dn(h))&&(y=h.g[y.toString()],h=-1,y&&(h=de(y,E,A,q)),(E=h>-1?y[h]:null)&&Qn(E))}function Qn(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Le])le(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(Kn(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Dn(y))?(le(E,h),E.h==0&&(E.src=null,y[ke]=null)):fe(h)}}}function Kn(h){return h in je?je[h]:je[h]="on"+h}function Za(h,y){if(h.da)h=!0;else{y=new Ve(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&Qn(h),h=E.call(A,y)}return h}function Dn(h){return h=h[ke],h instanceof pe?h:null}var es="__closure_events_fn_"+(Math.random()*1e9>>>0);function ts(h){return typeof h=="function"?h:(h[es]||(h[es]=function(y){return h.handleEvent(y)}),h[es])}function Ut(){M.call(this),this.i=new pe(this),this.M=this,this.G=null}T(Ut,M),Ut.prototype[Le]=!0,Ut.prototype.removeEventListener=function(h,y,E,A){Pt(this,h,y,E,A)};function Ft(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var q=y;y=new O(A,h),ue(y,q)}q=!0;let W,me;if(E)for(me=E.length-1;me>=0;me--)W=y.g=E[me],q=Br(W,A,!0,y)&&q;if(W=y.g=h,q=Br(W,A,!0,y)&&q,q=Br(W,A,!1,y)&&q,E)for(me=0;me<E.length;me++)W=y.g=E[me],q=Br(W,A,!1,y)&&q}Ut.prototype.N=function(){if(Ut.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)fe(E[A]);delete h.g[y],h.h--}}this.G=null},Ut.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},Ut.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function Br(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let W=0;W<y.length;++W){const me=y[W];if(me&&!me.da&&me.capture==E){const Fe=me.listener,Gt=me.ha||me.src;me.fa&&le(h.i,me),q=Fe.call(Gt,A)!==!1&&q}}return q&&!A.defaultPrevented}function hl(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function $s(h){h.g=hl(()=>{h.g=null,h.i&&(h.i=!1,$s(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class zt extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$s(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(h){M.call(this),this.h=h,this.g={}}T(Yn,M);var Wi=[];function yi(h){Re(h.g,function(y,E){this.g.hasOwnProperty(E)&&Qn(y)},h),h.g={}}Yn.prototype.N=function(){Yn.Z.N.call(this),yi(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=c.JSON.stringify,$n=c.JSON.parse,ns=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ws(){}function Xi(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wt(){O.call(this,"d")}T(wt,O);function Nn(){O.call(this,"c")}T(Nn,O);var Mt={},rs=null;function Ji(){return rs=rs||new Ut}Mt.Ia="serverreachability";function is(h){O.call(this,Mt.Ia,h)}T(is,O);function On(h){const y=Ji();Ft(y,new is(y))}Mt.STAT_EVENT="statevent";function qr(h,y){O.call(this,Mt.STAT_EVENT,h),this.stat=y}T(qr,O);function Vt(h){const y=Ji();Ft(y,new qr(y,h))}Mt.Ja="timingevent";function ur(h,y){O.call(this,Mt.Ja,h),this.size=y}T(ur,O);function Xn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Xs(h,y,E,A,q,W){h.info(function(){if(h.g)if(W){var me="",Fe=W.split("&");for(let ht=0;ht<Fe.length;ht++){var Gt=Fe[ht].split("=");if(Gt.length>1){const Lt=Gt[0];Gt=Gt[1];const fr=Lt.split("_");me=fr.length>=2&&fr[1]=="type"?me+(Lt+"="+Gt+"&"):me+(Lt+"=redacted&")}}}else me=null;else me=W;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+E+`
`+me})}function vi(h,y,E,A,q,W,me){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+E+`
`+W+" "+me})}function xn(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+fl(h,E)+(A?" "+A:"")})}function Hr(h,y){h.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function fl(h,y){if(!h.g)return y;if(!y)return null;try{const W=JSON.parse(y);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var E=W[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let me=1;me<A.length;me++)A[me]=""}}}}return ln(W)}catch{return y}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},N={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},z;function K(){}T(K,Ws),K.prototype.g=function(){return new XMLHttpRequest},z=new K;function se(h){return encodeURIComponent(String(h))}function he(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Ee(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new Yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var ge={},ve={};function Se(h,y,E){h.M=1,h.A=as(vt(y)),h.u=E,h.R=!0,Ne(h,null)}function Ne(h,y){h.F=Date.now(),yt(h),h.B=vt(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Zs(E.i,"t",A),h.C=0,E=h.j.L,h.h=new ye,h.g=dc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new zt(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Wi[0]=q.toString()),q=Wi);for(let W=0;W<q.length;W++){const me=dt(E,q[W],A||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),On(),Xs(h.i,h.v,h.B,h.l,h.S,h.u)}Ee.prototype.ba=function(h){h=h.target;const y=this.O;y&&Dr(h)==3?y.j():this.Y(h)},Ee.prototype.Y=function(h){try{if(h==this.g)e:{const Fe=Dr(this.g),Gt=this.g.ya(),ht=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Fe!=4||Gt==7||(Gt==8||ht<=0?On(3):On(2)),At(this);var y=this.g.ca();this.X=y;var E=Ie(this);if(this.o=y==200,vi(this.i,this.v,this.B,this.l,this.S,Fe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var W=A;break t}}W=null}if(h=W)xn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,un(this,h);else{this.o=!1,this.m=3,Vt(12),Rt(this),Ke(this);break e}}if(this.R){h=!0;let Lt;for(;!this.K&&this.C<E.length;)if(Lt=Je(this,E),Lt==ve){Fe==4&&(this.m=4,Vt(14),h=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==ge){this.m=4,Vt(15),xn(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else xn(this.i,this.l,Lt,null),un(this,Lt);if(Xe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||E.length!=0||this.h.h||(this.m=1,Vt(16),h=!1),this.o=this.o&&h,!h)xn(this.i,this.l,E,"[Invalid Chunked Response]"),Rt(this),Ke(this);else if(E.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Tl(me),me.P=!0,Vt(11))}}else xn(this.i,this.l,E,null),un(this,E);Fe==4&&Rt(this),this.o&&!this.K&&(Fe==4?uc(this.j,this):(this.o=!1,yt(this)))}else Ti(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Rt(this),Ke(this)}}}catch{}};function Ie(h){if(!Xe(h))return h.g.la();const y=fn(h.g);if(y==="")return"";let E="";const A=y.length,q=Dr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Rt(h),Ke(h),"";h.h.i=new c.TextDecoder}for(let W=0;W<A;W++)h.h.h=!0,E+=h.h.i.decode(y[W],{stream:!(q&&W==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Xe(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Je(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?ve:(E=Number(y.substring(E,A)),isNaN(E)?ge:(A+=1,A+E>y.length?ve:(y=y.slice(A,A+E),h.C=A+E,y)))}Ee.prototype.cancel=function(){this.K=!0,Rt(this)};function yt(h){h.T=Date.now()+h.H,Dt(h,h.H)}function Dt(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Xn(g(h.aa,h),y)}function At(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ee.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Hr(this.i,this.B),this.M!=2&&(On(),Vt(17)),Rt(this),this.m=2,Ke(this)):Dt(this,this.T-h)};function Ke(h){h.j.I==0||h.K||uc(h.j,h)}function Rt(h){At(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,yi(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function un(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Tn(E.h,h))){if(!h.L&&Tn(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)io(E),sa(E);else break e;fs(E),Vt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Xn(g(E.Va,E),6e3));kn(E.h)<=1&&E.ta&&(E.ta=void 0)}else Xr(E,11)}else if((h.L||E.g==h)&&io(E),!D(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let ht=q[y];const Lt=ht[0];if(!(Lt<=E.K))if(E.K=Lt,ht=ht[1],E.I==2)if(ht[0]=="c"){E.M=ht[1],E.ba=ht[2];const fr=ht[3];fr!=null&&(E.ka=fr,E.j.info("VER="+E.ka));const Jr=ht[4];Jr!=null&&(E.za=Jr,E.j.info("SVER="+E.za));const Nr=ht[5];Nr!=null&&typeof Nr=="number"&&Nr>0&&(A=1.5*Nr,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Or=h.g;if(Or){const ds=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var W=A.h;W.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Zn(W,W.h),W.h=null))}if(A.G){const ao=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(A.wa=ao,ct(A.J,A.G,ao))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var me=h;if(A.na=fc(A,A.L?A.ba:null,A.W),me.L){Fr(A.h,me);var Fe=me,Gt=A.O;Gt&&(Fe.H=Gt),Fe.D&&(At(Fe),yt(Fe)),A.g=me}else oc(A);E.i.length>0&&Wr(E)}else ht[0]!="stop"&&ht[0]!="close"||Xr(E,7);else E.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Xr(E,7):_l(E):ht[0]!="noop"&&E.l&&E.l.qa(ht),E.A=0)}}On(4)}catch{}}var Ct=class{constructor(h,y){this.g=h,this.map=y}};function Ln(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function En(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function kn(h){return h.h?1:h.g?h.g.size:0}function Tn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Zn(h,y){h.g?h.g.add(y):h.h=y}function Fr(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ln.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Gr(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return C(h.i)}var We=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jt(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let q,W=null;A>=0?(q=h[E].substring(0,A),W=h[E].substring(A+1)):q=h[E],y(q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Xt(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Xt?(this.l=h.l,Ye(this,h.j),this.o=h.o,this.g=h.g,er(this,h.u),this.h=h.h,Zi(this,ac(h.i)),this.m=h.m):h&&(y=String(h).match(We))?(this.l=!1,Ye(this,y[1]||"",!0),this.o=Qr(y[2]||""),this.g=Qr(y[3]||"",!0),er(this,y[4]),this.h=Qr(y[5]||"",!0),Zi(this,y[6]||"",!0),this.m=Qr(y[7]||"")):(this.l=!1,this.i=new ta(null,this.l))}Xt.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ss(y,Js,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ss(y,Js,!0),"@"),h.push(se(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ss(E,E.charAt(0)=="/"?dl:nc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ss(E,rc)),h.join("")},Xt.prototype.resolve=function(h){const y=vt(this);let E=!!h.j;E?Ye(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)er(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const W=[];for(let me=0;me<q.length;){const Fe=q[me++];Fe=="."?A&&me==q.length&&W.push(""):Fe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),A&&me==q.length&&W.push("")):(W.push(Fe),A=!0)}A=W.join("/")}else A=q}return E?y.h=A:E=h.i.toString()!=="",E?Zi(y,ac(h.i)):E=!!h.m,E&&(y.m=h.m),y};function vt(h){return new Xt(h)}function Ye(h,y,E){h.j=E?Qr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function er(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Zi(h,y,E){y instanceof ta?(h.i=y,eo(h.i,h.l)):(E||(y=ss(y,ea)),h.i=new ta(y,h.l))}function ct(h,y,E){h.i.set(y,E)}function as(h){return ct(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Qr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ss(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Pn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Js=/[#\/\?@]/g,nc=/[#\?:]/g,dl=/[#\?]/g,ea=/[#\?@]/g,rc=/#/g;function ta(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Un(h){h.g||(h.g=new Map,h.h=0,h.i&&jt(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=ta.prototype,r.add=function(h,y){Un(this),this.i=null,h=na(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function ic(h,y){Un(h),y=na(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ml(h,y){return Un(h),y=na(h,y),h.g.has(y)}r.forEach=function(h,y){Un(this),this.g.forEach(function(E,A){E.forEach(function(q){h.call(y,q,A,this)},this)},this)};function pl(h,y){Un(h);let E=[];if(typeof y=="string")ml(h,y)&&(E=E.concat(h.g.get(na(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}r.set=function(h,y){return Un(this),this.i=null,h=na(this,h),ml(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=pl(this,h),h.length>0?String(h[0]):y):y};function Zs(h,y,E){ic(h,y),E.length>0&&(h.i=null,h.g.set(na(h,y),C(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const q=se(E);E=pl(this,E);for(let W=0;W<E.length;W++){let me=q;E[W]!==""&&(me+="="+se(E[W])),h.push(me)}}return this.i=h.join("&")};function ac(h){const y=new ta;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function na(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function eo(h,y){y&&!h.j&&(Un(h),h.i=null,h.g.forEach(function(E,A){const q=A.toLowerCase();A!=q&&(ic(this,A),Zs(this,q,E))},h)),h.j=y}function Cr(h,y){const E=new Jn;if(c.Image){const A=new Image;A.onload=_(cr,E,"TestLoadImage: loaded",!0,y,A),A.onerror=_(cr,E,"TestLoadImage: error",!1,y,A),A.onabort=_(cr,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(cr,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function gl(h,y){const E=new Jn,A=new AbortController,q=setTimeout(()=>{A.abort(),cr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(W=>{clearTimeout(q),W.ok?cr(E,"TestPingServer: ok",!0,y):cr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),cr(E,"TestPingServer: error",!1,y)})}function cr(h,y,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function ra(){this.g=new ns}function Kr(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Kr,Ws),Kr.prototype.g=function(){return new os(this.i,this.h)};function os(h,y){Ut.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(os,Ut),r=os.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Ir(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ia(this):Ir(this),this.readyState==3&&to(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,ia(this))},r.Na=function(h){this.g&&(this.response=h,ia(this))},r.ga=function(){this.g&&ia(this)};function ia(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ir(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Ir(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hr(h){let y="";return Re(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function ls(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=hr(E),typeof h=="string"?E!=null&&se(E):ct(h,y,E))}function _t(h){Ut.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(_t,Ut);var Yr=/^https?$/i,yl=["POST","PUT"];r=_t.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():z.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(W){us(this,W);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())E.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(yl,y,void 0)>=0)||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,me]of E)this.g.setRequestHeader(W,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){us(this,W)}};function us(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,vl(h),Ei(h)}function vl(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),Ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),_t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?cs(this):this.Xa())},r.Xa=function(){cs(this)};function cs(h){if(h.h&&typeof u<"u"){if(h.v&&Dr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),Dr(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=W===0){let me=String(h.D).match(We)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),A=!Yr.test(me?me.toLowerCase():"")}E=A}if(E)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var q=Dr(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",vl(h)}}finally{Ei(h)}}}}function Ei(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Ft(h,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Dr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return Dr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),$n(y)}};function fn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ti(h){const y={};h=(h.g&&Dr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(D(h[A]))continue;var E=he(h[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[q]||[];y[q]=W,W.push(E)}ze(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function aa(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$r("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$r("baseRetryDelayMs",5e3,h),this.Za=$r("retryDelaySeedMs",1e4,h),this.Ta=$r("forwardChannelMaxRetries",2,h),this.va=$r("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ln(h&&h.concurrentRequestLimit),this.Ba=new ra,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=aa.prototype,r.ka=8,r.I=1,r.connect=function(h,y,E,A){Vt(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=fc(this,null,this.W),Wr(this)};function _l(h){if(no(h),h.I==3){var y=h.V++,E=vt(h.J);if(ct(E,"SID",h.M),ct(E,"RID",y),ct(E,"TYPE","terminate"),hs(h,E),y=new Ee(h,h.j,y),y.M=2,y.A=as(vt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=dc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yt(y)}hc(h)}function sa(h){h.g&&(Tl(h),h.g.cancel(),h.g=null)}function no(h){sa(h),h.v&&(c.clearTimeout(h.v),h.v=null),io(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Wr(h){if(!En(h.h)&&!h.m){h.m=!0;var y=h.Ea;be||R(),Ae||(be(),Ae=!0),b.add(y,h),h.D=0}}function ro(h,y){return kn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Xn(g(h.Ea,h,y),cc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Ee(this,this.j,h);let W=this.o;if(this.U&&(W?(W=V(W),ue(W,this.U)):W=this.U),this.u!==null||this.R||(q.J=W,W=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=sc(this,q,y),E=vt(this.J),ct(E,"RID",h),ct(E,"CVER",22),this.G&&ct(E,"X-HTTP-Session-Id",this.G),hs(this,E),W&&(this.R?y="headers="+se(hr(W))+"&"+y:this.u&&ls(E,this.u,W)),Zn(this.h,q),this.Ra&&ct(E,"TYPE","init"),this.S?(ct(E,"$req",y),ct(E,"SID","null"),q.U=!0,Se(q,E,null)):Se(q,E,y),this.I=2}}else this.I==3&&(h?El(this,h):this.i.length==0||En(this.h)||El(this))};function El(h,y){var E;y?E=y.l:E=h.V++;const A=vt(h.J);ct(A,"SID",h.M),ct(A,"RID",E),ct(A,"AID",h.K),hs(h,A),h.u&&h.o&&ls(A,h.u,h.o),E=new Ee(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=sc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Zn(h.h,E),Se(E,A,y)}function hs(h,y){h.H&&Re(h.H,function(E,A){ct(y,A,E)}),h.l&&Re({},function(E,A){ct(y,A,E)})}function sc(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Fe=-1;for(;;){const Gt=["count="+E];Fe==-1?E>0?(Fe=q[0].g,Gt.push("ofs="+Fe)):Fe=0:Gt.push("ofs="+Fe);let ht=!0;for(let Lt=0;Lt<E;Lt++){var W=q[Lt].g;const fr=q[Lt].map;if(W-=Fe,W<0)Fe=Math.max(0,q[Lt].g-100),ht=!1;else try{W="req"+W+"_"||"";try{var me=fr instanceof Map?fr:Object.entries(fr);for(const[Jr,Nr]of me){let Or=Nr;m(Nr)&&(Or=ln(Nr)),Gt.push(W+Jr+"="+encodeURIComponent(Or))}}catch(Jr){throw Gt.push(W+"type="+encodeURIComponent("_badmap")),Jr}}catch{A&&A(fr)}}if(ht){me=Gt.join("&");break e}}me=void 0}return h=h.i.splice(0,E),y.G=h,me}function oc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;be||R(),Ae||(be(),Ae=!0),b.add(y,h),h.A=0}}function fs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Xn(g(h.Da,h),cc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Xn(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),sa(this),lc(this))};function Tl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function lc(h){h.g=new Ee(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=vt(h.na);ct(y,"RID","rpc"),ct(y,"SID",h.M),ct(y,"AID",h.K),ct(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&ct(y,"TO",h.ia),ct(y,"TYPE","xmlhttp"),hs(h,y),h.u&&h.o&&ls(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=as(vt(y)),E.u=null,E.R=!0,Ne(E,h)}r.Va=function(){this.C!=null&&(this.C=null,sa(this),fs(this),Vt(19))};function io(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function uc(h,y){var E=null;if(h.g==y){io(h),Tl(h),h.g=null;var A=2}else if(Tn(h.h,y))E=y.G,Fr(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;A=Ji(),Ft(A,new ur(A,E)),Wr(h)}else oc(h);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&ro(h,y)||A==2&&fs(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),q){case 1:Xr(h,5);break;case 4:Xr(h,10);break;case 3:Xr(h,6);break;default:Xr(h,2)}}}function cc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Xr(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const q=!A;A=new Xt(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ye(A,"https"),as(A),q?Cr(A.toString(),E):gl(A.toString(),E)}else Vt(2);h.I=0,h.l&&h.l.pa(y),hc(h),no(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function hc(h){if(h.I=0,h.ja=[],h.l){const y=Gr(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function fc(h,y,E){var A=E instanceof Xt?vt(E):new Xt(E);if(A.g!="")y&&(A.g=y+"."+A.g),er(A,A.u);else{var q=c.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const W=new Xt(null);A&&Ye(W,A),y&&(W.g=y),q&&er(W,q),E&&(W.h=E),A=W}return E=h.G,y=h.wa,E&&y&&ct(A,E,y),ct(A,"VER",h.ka),hs(h,A),A}function dc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new _t(new Kr({ab:E})):new _t(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}r=mc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function oa(){}oa.prototype.g=function(h,y){return new Mn(h,y)};function Mn(h,y){Ut.call(this),this.g=new aa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new bi(this)}T(Mn,Ut),Mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){_l(this.g)},Mn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=ln(h),h=E);y.i.push(new Ct(y.Ya++,h)),y.I==3&&Wr(y)},Mn.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,Mn.Z.N.call(this)};function pc(h){wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(pc,wt);function gc(){Nn.call(this),this.status=1}T(gc,Nn);function bi(h){this.g=h}T(bi,mc),bi.prototype.ra=function(){Ft(this.g,"a")},bi.prototype.qa=function(h){Ft(this.g,new pc(h))},bi.prototype.pa=function(h){Ft(this.g,new gc)},bi.prototype.oa=function(){Ft(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,cw=function(){return new oa},uw=function(){return Ji()},lw=Mt,dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,kh=_i,N.COMPLETE="complete",ow=N,Xi.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Ut.prototype.listen=Ut.prototype.J,du=Xi,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,sw=_t}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const E0="@firebase/firestore",T0="4.9.3";class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let sl="12.7.0";const zs=new Hp("@firebase/firestore");function Uo(){return zs.logLevel}function Te(r,...e){if(zs.logLevel<=rt.DEBUG){const n=e.map(tg);zs.debug(`Firestore (${sl}): ${r}`,...n)}}function Gi(r,...e){if(zs.logLevel<=rt.ERROR){const n=e.map(tg);zs.error(`Firestore (${sl}): ${r}`,...n)}}function Wo(r,...e){if(zs.logLevel<=rt.WARN){const n=e.map(tg);zs.warn(`Firestore (${sl}): ${r}`,...n)}}function tg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ue(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,hw(r,a,n)}function hw(r,e,n){let a=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Gi(a),new Error(a)}function mt(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||hw(e,o,a)}function He(r,e){return r}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class fw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class RO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CO{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(mt(typeof a.accessToken=="string",31837,{l:a}),new fw(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class IO{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DO{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new IO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const a=u=>{u.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=OO(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function it(r,e){return r<e?-1:r>e?1:0}function mp(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Qm(o)===Qm(u)?it(o,u):Qm(o)?1:-1}return it(r.length,e.length)}const xO=55296,MO=57343;function Qm(r){const e=r.charCodeAt(0);return e>=xO&&e<=MO}function Xo(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}const w0="__name__";class ii{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ue(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return it(e.length,n.length)}static compareSegments(e,n){const a=ii.isNumericId(e),o=ii.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ii.extractNumericId(e).compare(ii.extractNumericId(n)):mp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qa.fromString(e.substring(4,e.length-2))}}class It extends ii{construct(e,n,a){return new It(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new It(n)}static emptyPath(){return new It([])}}const VO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ii{construct(e,n,a){return new vn(e,n,a)}static isValidIdentifier(e){return VO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new vn([w0])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(a+=m,o++):(u(),o++)}if(u(),c)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(It.fromString(e))}static fromName(e){return new xe(It.fromString(e).popFirst(5))}static empty(){return new xe(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new It(e.slice()))}}function dw(r,e,n){if(!n)throw new _e(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LO(r,e,n,a){if(e===!0&&a===!0)throw new _e(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function S0(r){if(!xe.isDocumentKey(r))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function A0(r){if(xe.isDocumentKey(r))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ue(12329,{type:typeof r})}function Ur(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(r);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function an(r,e){const n={typeString:r};return e&&(n.value=e),n}function Xu(r,e){if(!mw(r))throw new _e(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const c=r[a];if(o&&typeof c!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new _e(re.INVALID_ARGUMENT,n);return!0}const R0=-62135596800,C0=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*C0);return new xt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<R0)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xu(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:an("string",xt._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new xt(0,0))}static max(){return new Be(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xu=-1;function kO(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Be.fromTimestamp(a===1e9?new xt(n+1,0):new xt(n,a));return new Fa(o,xe.empty(),e)}function PO(r){return new Fa(r.readTime,r.key,xu)}class Fa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Fa(Be.min(),xe.empty(),xu)}static max(){return new Fa(Be.max(),xe.empty(),xu)}}function UO(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(r.documentKey,e.documentKey),n!==0?n:it(r.largestBatchId,e.largestBatchId))}const zO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ol(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==zO)throw r;Te("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,a)=>{n(e)}))}static reject(e){return new ae(((n,a)=>{a(e)}))}static waitFor(e){return new ae(((n,a)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>a(p)))})),c=!0,u===o&&n()}))}static or(e){let n=ae.resolve(!1);for(const a of e)n=n.next((o=>o?ae.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new ae(((a,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{c[g]=_,++m,m===u&&a(c)}),(_=>o(_)))}}))}static doWhile(e,n){return new ae(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function BO(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(r){return r.name==="IndexedDbTransactionError"}class vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vf.ce=-1;const rg=-1;function _f(r){return r==null}function Xh(r){return r===0&&1/r==-1/0}function qO(r){return typeof r=="number"&&Number.isInteger(r)&&!Xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const pw="";function HO(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=I0(e)),e=FO(r.get(n),e);return I0(e)}function FO(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case pw:n+="";break;default:n+=u}}return n}function I0(r){return r+pw+""}function D0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function gw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Bt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??yn.RED,this.left=o??yn.EMPTY,this.right=u??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new yn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return yn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class on{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N0(this.data.getIterator())}getIteratorFrom(e){return new N0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class N0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new on(vn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new yw("Invalid base64 string: "+u):u}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const GO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(r){if(mt(!!r,39018),typeof r=="string"){let e=0;const n=GO.exec(r);if(mt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Yt(r.seconds),nanos:Yt(r.nanos)}}function Yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qa(r){return typeof r=="string"?_n.fromBase64String(r):_n.fromUint8Array(r)}const vw="server_timestamp",_w="__type__",Ew="__previous_value__",Tw="__local_write_time__";function ig(r){return(r?.mapValue?.fields||{})[_w]?.stringValue===vw}function Ef(r){const e=r.mapValue.fields[Ew];return ig(e)?Ef(e):e}function Mu(r){const e=Ga(r.mapValue.fields[Tw].timestampValue);return new xt(e.seconds,e.nanos)}class QO{constructor(e,n,a,o,u,c,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Jh="(default)";class Vu{constructor(e,n){this.projectId=e,this.database=n||Jh}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}const bw="__type__",KO="__max__",Rh={mapValue:{}},ww="__vector__",Zh="value";function Ka(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ig(r)?4:$O(r)?9007199254740991:YO(r)?10:11:Ue(28295,{value:r})}function mi(r,e){if(r===e)return!0;const n=Ka(r);if(n!==Ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Mu(r).isEqual(Mu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Ga(o.timestampValue),m=Ga(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Qa(o.bytesValue).isEqual(Qa(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Yt(o.geoPointValue.latitude)===Yt(u.geoPointValue.latitude)&&Yt(o.geoPointValue.longitude)===Yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Yt(o.integerValue)===Yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Yt(o.doubleValue),m=Yt(u.doubleValue);return c===m?Xh(c)===Xh(m):isNaN(c)&&isNaN(m)}return!1})(r,e);case 9:return Xo(r.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(D0(c)!==D0(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!mi(c[p],m[p])))return!1;return!0})(r,e);default:return Ue(52216,{left:r})}}function Lu(r,e){return(r.values||[]).find((n=>mi(n,e)))!==void 0}function Jo(r,e){if(r===e)return 0;const n=Ka(r),a=Ka(e);if(n!==a)return it(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(r.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=Yt(u.integerValue||u.doubleValue),p=Yt(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return O0(r.timestampValue,e.timestampValue);case 4:return O0(Mu(r),Mu(e));case 5:return mp(r.stringValue,e.stringValue);case 6:return(function(u,c){const m=Qa(u),p=Qa(c);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=it(m[g],p[g]);if(_!==0)return _}return it(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=it(Yt(u.latitude),Yt(c.latitude));return m!==0?m:it(Yt(u.longitude),Yt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return x0(r.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[Zh]?.arrayValue,_=p[Zh]?.arrayValue,T=it(g?.values?.length||0,_?.values?.length||0);return T!==0?T:x0(g,_)})(r.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Rh.mapValue&&c===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const S=mp(p[T],_[T]);if(S!==0)return S;const C=Jo(m[p[T]],g[_[T]]);if(C!==0)return C}return it(p.length,_.length)})(r.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function O0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return it(r,e);const n=Ga(r),a=Ga(e),o=it(n.seconds,a.seconds);return o!==0?o:it(n.nanos,a.nanos)}function x0(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Jo(n[o],a[o]);if(u)return u}return it(n.length,a.length)}function Zo(r){return pp(r)}function pp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Ga(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Qa(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return xe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=pp(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of a)u?u=!1:o+=",",o+=`${c}:${pp(n.fields[c])}`;return o+"}"})(r.mapValue):Ue(61005,{value:r})}function Ph(r){switch(Ka(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(r);return e?16+Ph(e):16;case 5:return 2*r.stringValue.length;case 6:return Qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Ph(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Gs(a.fields,((u,c)=>{o+=u.length+Ph(c)})),o})(r.mapValue);default:throw Ue(13486,{value:r})}}function M0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function gp(r){return!!r&&"integerValue"in r}function ag(r){return!!r&&"arrayValue"in r}function V0(r){return!!r&&"nullValue"in r}function L0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uh(r){return!!r&&"mapValue"in r}function YO(r){return(r?.mapValue?.fields||{})[bw]?.stringValue===ww}function Eu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Gs(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Eu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(r.arrayValue.values[n]);return e}return{...r}}function $O(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KO}class Sr{constructor(e){this.value=e}static empty(){return new Sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=vn.emptyPath(),a={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}c?a[m.lastSegment()]=Eu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Gs(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Sr(Eu(this.value))}}function Sw(r){const e=[];return Gs(r.fields,((n,a)=>{const o=new vn([n]);if(Uh(a)){const u=Sw(a.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Pr(e)}class Rn{constructor(e,n,a,o,u,c,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Rn(e,0,Be.min(),Be.min(),Be.min(),Sr.empty(),0)}static newFoundDocument(e,n,a,o){return new Rn(e,1,n,Be.min(),a,o,0)}static newNoDocument(e,n){return new Rn(e,2,n,Be.min(),Be.min(),Sr.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Be.min(),Be.min(),Sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ef{constructor(e,n){this.position=e,this.inclusive=n}}function k0(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],c=r.position[o];if(u.field.isKeyField()?a=xe.comparator(xe.fromName(c.referenceValue),n.key):a=Jo(c,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function P0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!mi(r.position[n],e.position[n]))return!1;return!0}class ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function WO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Aw{}class rn extends Aw{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new JO(e,n,a):n==="array-contains"?new tx(e,a):n==="in"?new nx(e,a):n==="not-in"?new rx(e,a):n==="array-contains-any"?new ix(e,a):new rn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new ZO(e,a):new ex(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&Ka(this.value)===Ka(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends Aw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new jr(e,n)}matches(e){return Rw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rw(r){return r.op==="and"}function Cw(r){return XO(r)&&Rw(r)}function XO(r){for(const e of r.filters)if(e instanceof jr)return!1;return!0}function yp(r){if(r instanceof rn)return r.field.canonicalString()+r.op.toString()+Zo(r.value);if(Cw(r))return r.filters.map((e=>yp(e))).join(",");{const e=r.filters.map((n=>yp(n))).join(",");return`${r.op}(${e})`}}function Iw(r,e){return r instanceof rn?(function(a,o){return o instanceof rn&&a.op===o.op&&a.field.isEqual(o.field)&&mi(a.value,o.value)})(r,e):r instanceof jr?(function(a,o){return o instanceof jr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,c,m)=>u&&Iw(c,o.filters[m])),!0):!1})(r,e):void Ue(19439)}function Dw(r){return r instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`})(r):r instanceof jr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Dw).join(" ,")+"}"})(r):"Filter"}class JO extends rn{constructor(e,n,a){super(e,n,a),this.key=xe.fromName(a.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZO extends rn{constructor(e,n){super(e,"in",n),this.keys=Nw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ex extends rn{constructor(e,n){super(e,"not-in",n),this.keys=Nw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Nw(r,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class tx extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ag(n)&&Lu(n.arrayValue,this.value)}}class nx extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lu(this.value.arrayValue,n)}}class rx extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lu(this.value.arrayValue,n)}}class ix extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Lu(this.value.arrayValue,a)))}}class ax{constructor(e,n=null,a=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function U0(r,e=null,n=[],a=[],o=null,u=null,c=null){return new ax(r,e,n,a,o,u,c)}function sg(r){const e=He(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>yp(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),_f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Zo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Zo(a))).join(",")),e.Te=n}return e.Te}function og(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!WO(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Iw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!P0(r.startAt,e.startAt)&&P0(r.endAt,e.endAt)}function vp(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ul{constructor(e,n=null,a=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sx(r,e,n,a,o,u,c,m){return new ul(r,e,n,a,o,u,c,m)}function Tf(r){return new ul(r)}function z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ow(r){return r.collectionGroup!==null}function Tu(r){const e=He(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new on(vn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ku(u,a))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new ku(vn.keyField(),a))}return e.Ie}function li(r){const e=He(r);return e.Ee||(e.Ee=ox(e,Tu(r))),e.Ee}function ox(r,e){if(r.limitType==="F")return U0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ku(o.field,u)}));const n=r.endAt?new ef(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ef(r.startAt.position,r.startAt.inclusive):null;return U0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function _p(r,e){const n=r.filters.concat([e]);return new ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ep(r,e,n){return new ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function bf(r,e){return og(li(r),li(e))&&r.limitType===e.limitType}function xw(r){return`${sg(li(r))}|lt:${r.limitType}`}function zo(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>Dw(o))).join(", ")}]`),_f(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Zo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Zo(o))).join(",")),`Target(${a})`})(li(r))}; limitType=${r.limitType})`}function wf(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):xe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of Tu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(c,m,p){const g=k0(c,m,p);return c.inclusive?g<=0:g<0})(a.startAt,Tu(a),o)||a.endAt&&!(function(c,m,p){const g=k0(c,m,p);return c.inclusive?g>=0:g>0})(a.endAt,Tu(a),o))})(r,e)}function lx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Mw(r){return(e,n)=>{let a=!1;for(const o of Tu(r)){const u=ux(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function ux(r,e,n){const a=r.field.isKeyField()?xe.comparator(e.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Jo(p,g):Ue(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ue(19790,{direction:r.dir})}}class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}const cx=new Bt(xe.comparator);function Qi(){return cx}const Vw=new Bt(xe.comparator);function mu(...r){let e=Vw;for(const n of r)e=e.insert(n.key,n);return e}function Lw(r){let e=Vw;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function xs(){return bu()}function kw(){return bu()}function bu(){return new Qs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const hx=new Bt(xe.comparator),fx=new on(xe.comparator);function at(...r){let e=fx;for(const n of r)e=e.add(n);return e}const dx=new on(it);function mx(){return dx}function lg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function Pw(r){return{integerValue:""+r}}function px(r,e){return qO(e)?Pw(e):lg(r,e)}class Sf{constructor(){this._=void 0}}function gx(r,e,n){return r instanceof tf?(function(o,u){const c={fields:{[_w]:{stringValue:vw},[Tw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=Ef(u)),u&&(c.fields[Ew]=u),{mapValue:c}})(n,e):r instanceof Pu?zw(r,e):r instanceof Uu?jw(r,e):(function(o,u){const c=Uw(o,u),m=j0(c)+j0(o.Ae);return gp(c)&&gp(o.Ae)?Pw(m):lg(o.serializer,m)})(r,e)}function yx(r,e,n){return r instanceof Pu?zw(r,e):r instanceof Uu?jw(r,e):n}function Uw(r,e){return r instanceof nf?(function(a){return gp(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class tf extends Sf{}class Pu extends Sf{constructor(e){super(),this.elements=e}}function zw(r,e){const n=Bw(e);for(const a of r.elements)n.some((o=>mi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Uu extends Sf{constructor(e){super(),this.elements=e}}function jw(r,e){let n=Bw(e);for(const a of r.elements)n=n.filter((o=>!mi(o,a)));return{arrayValue:{values:n}}}class nf extends Sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function j0(r){return Yt(r.integerValue||r.doubleValue)}function Bw(r){return ag(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function vx(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Pu&&o instanceof Pu||a instanceof Uu&&o instanceof Uu?Xo(a.elements,o.elements,mi):a instanceof nf&&o instanceof nf?mi(a.Ae,o.Ae):a instanceof tf&&o instanceof tf})(r.transform,e.transform)}class _x{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Af{}function qw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Fw(r.key,ui.none()):new Ju(r.key,r.data,ui.none());{const n=r.data,a=Sr.empty();let o=new on(vn.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?a.delete(u):a.set(u,c),o=o.add(u)}return new Ks(r.key,a,new Pr(o.toArray()),ui.none())}}function Ex(r,e,n){r instanceof Ju?(function(o,u,c){const m=o.value.clone(),p=q0(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ks?(function(o,u,c){if(!zh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=q0(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Hw(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function wu(r,e,n,a){return r instanceof Ju?(function(u,c,m,p){if(!zh(u.precondition,c))return m;const g=u.value.clone(),_=H0(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof Ks?(function(u,c,m,p){if(!zh(u.precondition,c))return m;const g=H0(u.fieldTransforms,p,c),_=c.data;return _.setAll(Hw(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,a):(function(u,c,m){return zh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(r,e,n)}function Tx(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=Uw(a.transform,o||null);u!=null&&(n===null&&(n=Sr.empty()),n.set(a.field,u))}return n||null}function B0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Xo(a,o,((u,c)=>vx(u,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ju extends Af{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ks extends Af{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Hw(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function q0(r,e,n){const a=new Map;mt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],c=u.transform,m=e.data.field(u.field);a.set(u.field,yx(c,m,n[o]))}return a}function H0(r,e,n){const a=new Map;for(const o of r){const u=o.transform,c=n.data.field(o.field);a.set(o.field,gx(u,c,e))}return a}class Fw extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bx extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wx{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Ex(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=wu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=wu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=kw();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=qw(c,m);p!==null&&a.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Be.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,((n,a)=>B0(n,a)))&&Xo(this.baseMutations,e.baseMutations,((n,a)=>B0(n,a)))}}class ug{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){mt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return hx})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,a[c].version);return new ug(e,n,a,o)}}class Sx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Ax{constructor(e,n){this.count=e,this.unchangedNames=n}}var nn,ot;function Rx(r){switch(r){case re.OK:return Ue(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ue(15467,{code:r})}}function Gw(r){if(r===void 0)return Gi("GRPC error has no .code"),re.UNKNOWN;switch(r){case nn.OK:return re.OK;case nn.CANCELLED:return re.CANCELLED;case nn.UNKNOWN:return re.UNKNOWN;case nn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case nn.INTERNAL:return re.INTERNAL;case nn.UNAVAILABLE:return re.UNAVAILABLE;case nn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case nn.NOT_FOUND:return re.NOT_FOUND;case nn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case nn.ABORTED:return re.ABORTED;case nn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case nn.DATA_LOSS:return re.DATA_LOSS;default:return Ue(39323,{code:r})}}(ot=nn||(nn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";function Cx(){return new TextEncoder}const Ix=new qa([4294967295,4294967295],0);function F0(r){const e=Cx().encode(r),n=new aw;return n.update(e),new Uint8Array(n.digest())}function G0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qa([n,a],0),new qa([o,u],0)]}class cg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new pu(`Invalid padding: ${n}`);if(a<0)throw new pu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qa.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(qa.fromNumber(a)));return o.compare(Ix)===1&&(o=new qa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=F0(e),[a,o]=G0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(a,o,u);if(!this.we(c))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new cg(u,o,n);return a.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=F0(e),[a,o]=G0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(a,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Rf(Be.min(),o,new Bt(it),Qi(),at())}}class Zu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Zu(a,n,at(),at(),at())}}class jh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class Qw{constructor(e,n){this.targetId=e,this.Ce=n}}class Kw{constructor(e,n,a=_n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class Q0{constructor(){this.ve=0,this.Fe=K0(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),a=at();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ue(38017,{changeType:u})}})),new Zu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=K0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=Ch(),this.He=Ch(),this.Ye=new Bt(it)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(vp(u))if(a===0){const c=new xe(u.path);this.et(n,c,Rn.newNoDocument(c,Be.min()))}else mt(a===1,20013,{expectedCount:a});else{const c=this._t(n);if(c!==a){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=Qa(a).toUint8Array()}catch(p){if(p instanceof yw)return Wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new cg(c,o,u)}catch(p){return Wo(p instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&vp(m.target)){const p=new xe(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Rn.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let a=at();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Rf(e,n,this.Ye,this.je,a);return this.je=Qi(),this.Je=Ch(),this.He=Ch(),this.Ye=new Bt(it),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Q0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new on(it),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new on(it),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ch(){return new Bt(xe.comparator)}function K0(){return new Bt(xe.comparator)}const Nx={asc:"ASCENDING",desc:"DESCENDING"},Ox={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xx={and:"AND",or:"OR"};class Mx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tp(r,e){return r.useProto3Json||_f(e)?e:{value:e}}function rf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Vx(r,e){return rf(r,e.toTimestamp())}function ci(r){return mt(!!r,49232),Be.fromTimestamp((function(n){const a=Ga(n);return new xt(a.seconds,a.nanos)})(r))}function hg(r,e){return bp(r,e).canonicalString()}function bp(r,e){const n=(function(o){return new It(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function $w(r){const e=It.fromString(r);return mt(eS(e),10190,{key:e.toString()}),e}function wp(r,e){return hg(r.databaseId,e.path)}function Km(r,e){const n=$w(e);if(n.get(1)!==r.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new xe(Xw(n))}function Ww(r,e){return hg(r.databaseId,e)}function Lx(r){const e=$w(r);return e.length===4?It.emptyPath():Xw(e)}function Sp(r){return new It(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Xw(r){return mt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Y0(r,e,n){return{name:wp(r,e),fields:n.value.mapValue.fields}}function kx(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(mt(_===void 0||typeof _=="string",58123),_n.fromBase64String(_||"")):(mt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),_n.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?re.UNKNOWN:Gw(g.code);return new _e(_,g.message||"")})(c);n=new Kw(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Km(r,a.document.name),u=ci(a.document.updateTime),c=a.document.createTime?ci(a.document.createTime):Be.min(),m=new Sr({mapValue:{fields:a.document.fields}}),p=Rn.newFoundDocument(o,u,c,m),g=a.targetIds||[],_=a.removedTargetIds||[];n=new jh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Km(r,a.document),u=a.readTime?ci(a.readTime):Be.min(),c=Rn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new jh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Km(r,a.document),u=a.removedTargetIds||[];n=new jh([],u,o,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,c=new Ax(o,u),m=a.targetId;n=new Qw(m,c)}}return n}function Px(r,e){let n;if(e instanceof Ju)n={update:Y0(r,e.key,e.value)};else if(e instanceof Fw)n={delete:wp(r,e.key)};else if(e instanceof Ks)n={update:Y0(r,e.key,e.data),updateMask:Qx(e.fieldMask)};else{if(!(e instanceof bx))return Ue(16599,{Vt:e.type});n={verify:wp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,c){const m=c.transform;if(m instanceof tf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Uu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof nf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Ue(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Vx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ue(27497)})(r,e.precondition)),n}function Ux(r,e){return r&&r.length>0?(mt(e!==void 0,14353),r.map((n=>(function(o,u){let c=o.updateTime?ci(o.updateTime):ci(u);return c.isEqual(Be.min())&&(c=ci(u)),new _x(c,o.transformResults||[])})(n,e)))):[]}function zx(r,e){return{documents:[Ww(r,e.path)]}}function jx(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=Ww(r,o);const u=(function(g){if(g.length!==0)return Zw(jr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:jo(S.field),direction:Hx(S.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Tp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function Bx(r){let e=Lx(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){mt(a===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const S=Jw(T);return S instanceof jr&&Cw(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((S=>(function(U){return new ku(Bo(U.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,_f(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,C=T.values||[];return new ef(C,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,C=T.values||[];return new ef(C,S)})(n.endAt)),sx(e,o,c,u,m,"F",p,g)}function qx(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Jw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Bo(n.unaryFilter.field);return rn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Bo(n.unaryFilter.field);return rn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Bo(n.unaryFilter.field);return rn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(n.unaryFilter.field);return rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(r):r.fieldFilter!==void 0?(function(n){return rn.create(Bo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return jr.create(n.compositeFilter.filters.map((a=>Jw(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(n.compositeFilter.op))})(r):Ue(30097,{filter:r})}function Hx(r){return Nx[r]}function Fx(r){return Ox[r]}function Gx(r){return xx[r]}function jo(r){return{fieldPath:r.canonicalString()}}function Bo(r){return vn.fromServerFormat(r.fieldPath)}function Zw(r){return r instanceof rn?(function(n){if(n.op==="=="){if(L0(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NAN"}};if(V0(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L0(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NAN"}};if(V0(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(n.field),op:Fx(n.op),value:n.value}}})(r):r instanceof jr?(function(n){const a=n.getFilters().map((o=>Zw(o)));return a.length===1?a[0]:{compositeFilter:{op:Gx(n.op),filters:a}}})(r):Ue(54877,{filter:r})}function Qx(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ua{constructor(e,n,a,o,u=Be.min(),c=Be.min(),m=_n.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Kx{constructor(e){this.yt=e}}function Yx(r){const e=Bx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ep(e,e.limit,"L"):e}class $x{constructor(){this.Cn=new Wx}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Fa.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Fa.min())}updateCollectionGroup(e,n,a){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class Wx{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new on(It.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new on(It.comparator)).toArray()}}const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tS=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(tS,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const W0="LruGarbageCollector",Xx=1048576;function X0([r,e],[n,a]){const o=it(r,n);return o===0?it(e,a):o}class Jx{constructor(e){this.Ir=e,this.buffer=new on(X0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();X0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Zx{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(W0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?Te(W0,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.Vr(3e5)}))}}class eM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(vf.ce);const a=new Jx(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve($0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(a=T,m=Date.now(),this.removeTargets(e,a,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((T=>(g=Date.now(),Uo()<=rt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function tM(r,e){return new eM(r,e)}class nM{constructor(){this.changes=new Qs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ae.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class iM{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&wu(a.mutation,o,Pr.empty(),xt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,at()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=at()){const o=xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let c=mu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const a=xs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,at())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,a,o){let u=Qi();const c=bu(),m=(function(){return bu()})();return n.forEach(((p,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Ks)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),wu(_.mutation,g,_.mutation.getFieldMask(),xt.now())):c.set(g.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>m.set(g,new rM(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=bu();let o=new Bt(((c,m)=>c-m)),u=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=a.get(p)||Pr.empty();_=m.applyToLocalView(g,_),a.set(p,_);const T=(o.get(m.batchId)||at()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=kw();_.forEach((S=>{if(!u.has(S)){const C=qw(n.get(S),a.get(S));C!==null&&T.set(S,C),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ae.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ow(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ae.resolve(xs());let m=xu,p=u;return c.next((g=>ae.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,at()))).next((_=>({batchId:m,changes:Lw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((a=>{let o=mu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(e,u).next((m=>ae.forEach(m,(p=>{const g=(function(T,S){return new ul(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((_=>{_.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Rn.newInvalidDocument(_)))}));let m=mu();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&wu(_.mutation,g,Pr.empty(),xt.now()),wf(n,g)&&(m=m.insert(p,g))})),m}))}}class aM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Yx(o.bundledQuery),readTime:ci(o.readTime)}})(n)),ae.resolve()}}class sM{constructor(){this.overlays=new Bt(xe.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const a=xs();return ae.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),ae.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ae.resolve()}getOverlaysForCollection(e,n,a){const o=xs(),u=n.length+1,c=new xe(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Bt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let _=u.get(g.largestBatchId);_===null&&(_=xs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ae.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new Sx(n,a));let u=this.qr.get(n);u===void 0&&(u=at(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}class oM{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class fg{constructor(){this.Qr=new on(hn.$r),this.Ur=new on(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new hn(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new xe(new It([])),a=new hn(n,e),o=new hn(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new It([])),a=new hn(n,e),o=new hn(n,e+1);let u=at();return this.Ur.forEachInRange([a,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new hn(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||it(e.Yr,n.Yr)}static Kr(e,n){return it(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}class lM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new on(hn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wx(u,n,a,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new hn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?rg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new hn(n,0),o=new hn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new on(it);return n.forEach((o=>{const u=new hn(o,0),c=new hn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{a=a.add(m.Yr)}))})),ae.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;xe.isDocumentKey(u)||(u=u.child(""));const c=new hn(new xe(u),0);let m=new on(it);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ae.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ae.forEach(n.mutations,(o=>{const u=new hn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new hn(n,0),o=this.Zr.firstAfterOrEqual(a);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uM{constructor(e){this.ri=e,this.docs=(function(){return new Bt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ae.resolve(a?a.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let a=Qi();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Rn.newInvalidDocument(o))})),ae.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Qi();const c=n.path,m=new xe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||UO(PO(_),a)<=0||(o.has(_.key)||wf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ue(9500)}ii(e,n){return ae.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new cM(this)}getSize(e){return ae.resolve(this.size)}}class cM extends nM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class hM{constructor(e){this.persistence=e,this.si=new Qs((n=>sg(n)),og),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new el(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ae.waitFor(u).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ae.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ae.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ae.resolve(a)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}class nS{constructor(e,n){this.ui={},this.overlays={},this.ci=new vf(0),this.li=!1,this.li=!0,this.hi=new oM,this.referenceDelegate=e(this),this.Pi=new hM(this),this.indexManager=new $x,this.remoteDocumentCache=(function(o){return new uM(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Kx(n),this.Ii=new aM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new lM(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){Te("MemoryPersistence","Starting transaction:",e);const o=new fM(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ae.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class fM extends jO{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new fg,this.Vi=null}static mi(e){return new dg(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ae.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(a=>{const o=xe.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class af{constructor(e,n){this.persistence=e,this.pi=new Qs((a=>HO(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=tM(this,n)}static mi(e,n){return new af(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ae.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(a++,u.removeEntry(c,Be.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}br(e,n,a){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ae.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=at(),o=at();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(e,n.fromCache,a,o)}}class dM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DI()?8:BO(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new dM;return this.Ss(e,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(Uo()<=rt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Uo()<=rt.DEBUG&&Te("QueryEngine","Query:",zo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Uo()<=rt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):ae.resolve())}ys(e,n){if(z0(n))return ae.resolve(null);let a=li(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ep(n,null,"F"),a=li(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const c=at(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(e,Ep(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,a,o){return z0(n)||o.isEqual(Be.min())?ae.resolve(null):this.ps.getDocuments(e,a).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,a,o)?ae.resolve(null):(Uo()<=rt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zo(n)),this.vs(e,c,n,kO(o,xu)).next((m=>m)))}))}Ds(e,n){let a=new on(Mw(e));return n.forEach(((o,u)=>{wf(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Uo()<=rt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",zo(n)),this.ps.getDocumentsMatchingQuery(e,n,Fa.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const pg="LocalStore",pM=3e8;class gM{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Bt(it),this.xs=new Qs((u=>sg(u)),og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function yM(r,e,n,a){return new gM(r,e,n,a)}async function rS(r,e){const n=He(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const c=[],m=[];let p=at();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function vM(r,e){const n=He(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const T=g.batch,S=T.keys();let C=ae.resolve();return S.forEach((U=>{C=C.next((()=>_.getEntry(p,U))).next(($=>{const G=g.docVersions.get(U);mt(G!==null,48541),$.version.compareTo(G)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),_.addEntry($)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=at();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function iS(r){const e=He(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function _M(r,e){const n=He(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,T))));let C=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(_n.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,a)),o=o.insert(T,C),(function($,G,te){return $.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=pM?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(S,C,_)&&m.push(n.Pi.updateTargetData(u,C))}));let p=Qi(),g=at();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(EM(u,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!a.isEqual(Be.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(_)}return ae.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function EM(r,e,n){let a=at(),o=at();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let c=Qi();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Be.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):Te(pg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function TM(r,e){const n=He(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=rg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function bM(r,e){const n=He(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,ae.resolve(o)):n.Pi.allocateTargetId(a).next((c=>(o=new Ua(e,c,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Ap(r,e,n){const a=He(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(c=>a.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!ll(c))throw c;Te(pg,`Failed to update sequence numbers for target ${e}: ${c}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function J0(r,e,n){const a=He(r);let o=Be.min(),u=at();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=He(p),S=T.xs.get(_);return S!==void 0?ae.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,_)})(a,c,li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(c,e,n?o:Be.min(),n?u:at()))).next((m=>(wM(a,lx(e),m),{documents:m,Qs:u})))))}function wM(r,e,n){let a=r.Os.get(e)||Be.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class Z0{constructor(){this.activeTargetIds=mx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SM{constructor(){this.Mo=new Z0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Z0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AM{Oo(e){}shutdown(){}}const eT="ConnectivityMonitor";class tT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(eT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(eT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function Rp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const Ym="RestConnection",RM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Jh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const c=Rp(),m=this.zo(e,n.toUriEncodedString());Te(Ym,`Sending RPC '${e}' ${c}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=nl(g);return this.Jo(e,m,p,a,_).then((T=>(Te(Ym,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Wo(Ym,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",a),T}))}Ho(e,n,a,o,u,c){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=RM[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class IM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const wn="WebChannelConnection";class DM extends CM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const c=Rp();return new Promise(((m,p)=>{const g=new sw;g.setWithCredentials(!0),g.listenOnce(ow.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case kh.NO_ERROR:const T=g.getResponseJson();Te(wn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case kh.TIMEOUT:Te(wn,`RPC '${e}' ${c} timed out`),p(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const S=g.getStatus();if(Te(wn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C?.error;if(U&&U.status&&U.message){const $=(function(te){const ee=te.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ee)>=0?ee:re.UNKNOWN})(U.status);p(new _e($,U.message))}else p(new _e(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new _e(re.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Te(wn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);Te(wn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,a,15)}))}T_(e,n,a){const o=Rp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=cw(),m=uw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const _=u.join("");Te(wn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=c.createWebChannel(_,p);this.I_(T);let S=!1,C=!1;const U=new IM({Yo:G=>{C?Te(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(S||(Te(wn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),Te(wn,`RPC '${e}' stream ${o} sending:`,G),T.send(G))},Zo:()=>T.close()}),$=(G,te,ee)=>{G.listen(te,(oe=>{try{ee(oe)}catch(De){setTimeout((()=>{throw De}),0)}}))};return $(T,du.EventType.OPEN,(()=>{C||(Te(wn,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),$(T,du.EventType.CLOSE,(()=>{C||(C=!0,Te(wn,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),$(T,du.EventType.ERROR,(G=>{C||(C=!0,Wo(wn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),U.a_(new _e(re.UNAVAILABLE,"The operation could not be completed")))})),$(T,du.EventType.MESSAGE,(G=>{if(!C){const te=G.data[0];mt(!!te,16349);const ee=te,oe=ee?.error||ee[0]?.error;if(oe){Te(wn,`RPC '${e}' stream ${o} received error:`,oe);const De=oe.status;let be=(function(R){const I=nn[R];if(I!==void 0)return Gw(I)})(De),Ae=oe.message;be===void 0&&(be=re.INTERNAL,Ae="Unknown error status: "+De+" with message "+oe.message),C=!0,U.a_(new _e(be,Ae)),T.close()}else Te(wn,`RPC '${e}' stream ${o} received:`,te),U.u_(te)}})),$(m,lw.STAT_EVENT,(G=>{G.stat===dp.PROXY?Te(wn,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===dp.NOPROXY&&Te(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function $m(){return typeof document<"u"?document:null}function Cf(r){return new Mx(r,!0)}class aS{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nT="PersistentStream";class sS{constructor(e,n,a,o,u,c,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new _e(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(nT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Te(nT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NM extends sS{constructor(e,n,a,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=kx(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Be.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?ci(c.readTime):Be.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Sp(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=vp(p)?{documents:zx(u,p)}:{query:jx(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Yw(u,c.resumeToken);const g=Tp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Be.min())>0){m.readTime=rf(u,c.snapshotVersion.toTimestamp());const g=Tp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=qx(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Sp(this.serializer),n.removeTarget=e,this.q_(n)}}class OM extends sS{constructor(e,n,a,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ux(e.writeResults,e.commitTime),a=ci(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>Px(this.serializer,a)))};this.q_(n)}}class xM{}class MM extends xM{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,bp(n,a),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(re.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,bp(n,a),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const js="RemoteStore";class LM{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{a.enqueueAndForget((async()=>{Ys(this)&&(Te(js,"Restarting streams for network reachability change."),await(async function(p){const g=He(p);g.Ea.add(4),await ec(g),g.Ra.set("Unknown"),g.Ea.delete(4),await If(g)})(this))}))})),this.Ra=new VM(a,o)}}async function If(r){if(Ys(r))for(const e of r.da)await e(!0)}async function ec(r){for(const e of r.da)await e(!1)}function oS(r,e){const n=He(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_g(n)?vg(n):cl(n).O_()&&yg(n,e))}function gg(r,e){const n=He(r),a=cl(n);n.Ia.delete(e),a.O_()&&lS(n,e),n.Ia.size===0&&(a.O_()?a.L_():Ys(n)&&n.Ra.set("Unknown"))}function yg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(r).Y_(e)}function lS(r,e){r.Va.Ue(e),cl(r).Z_(e)}function vg(r){r.Va=new Dx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),cl(r).start(),r.Ra.ua()}function _g(r){return Ys(r)&&!cl(r).x_()&&r.Ia.size>0}function Ys(r){return He(r).Ea.size===0}function uS(r){r.Va=void 0}async function kM(r){r.Ra.set("Online")}async function PM(r){r.Ia.forEach(((e,n)=>{yg(r,e)}))}async function UM(r,e){uS(r),_g(r)?(r.Ra.ha(e),vg(r)):r.Ra.set("Unknown")}async function zM(r,e,n){if(r.Ra.set("Online"),e instanceof Kw&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(a){Te(js,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await sf(r,a)}else if(e instanceof jh?r.Va.Ze(e):e instanceof Qw?r.Va.st(e):r.Va.tt(e),!n.isEqual(Be.min()))try{const a=await iS(r.localStore);n.compareTo(a)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(_n.EMPTY_BYTE_STRING,_.snapshotVersion)),lS(u,p);const T=new Ua(_.target,p,g,_.sequenceNumber);yg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){Te(js,"Failed to raise snapshot:",a),await sf(r,a)}}async function sf(r,e,n){if(!ll(e))throw e;r.Ea.add(1),await ec(r),r.Ra.set("Offline"),n||(n=()=>iS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Te(js,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await If(r)}))}function cS(r,e){return e().catch((n=>sf(r,n,e)))}async function Df(r){const e=He(r),n=Ya(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rg;for(;jM(e);)try{const o=await TM(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,BM(e,o)}catch(o){await sf(e,o)}hS(e)&&fS(e)}function jM(r){return Ys(r)&&r.Ta.length<10}function BM(r,e){r.Ta.push(e);const n=Ya(r);n.O_()&&n.X_&&n.ea(e.mutations)}function hS(r){return Ys(r)&&!Ya(r).x_()&&r.Ta.length>0}function fS(r){Ya(r).start()}async function qM(r){Ya(r).ra()}async function HM(r){const e=Ya(r);for(const n of r.Ta)e.ea(n.mutations)}async function FM(r,e,n){const a=r.Ta.shift(),o=ug.from(a,e,n);await cS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Df(r)}async function GM(r,e){e&&Ya(r).X_&&await(async function(a,o){if((function(c){return Rx(c)&&c!==re.ABORTED})(o.code)){const u=a.Ta.shift();Ya(a).B_(),await cS(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Df(a)}})(r,e),hS(r)&&fS(r)}async function rT(r,e){const n=He(r);n.asyncQueue.verifyOperationInProgress(),Te(js,"RemoteStore received new credentials");const a=Ys(n);n.Ea.add(3),await ec(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await If(n)}async function QM(r,e){const n=He(r);e?(n.Ea.delete(2),await If(n)):e||(n.Ea.add(2),await ec(n),n.Ra.set("Unknown"))}function cl(r){return r.ma||(r.ma=(function(n,a,o){const u=He(n);return u.sa(),new NM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:kM.bind(null,r),t_:PM.bind(null,r),r_:UM.bind(null,r),H_:zM.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),_g(r)?vg(r):r.Ra.set("Unknown")):(await r.ma.stop(),uS(r))}))),r.ma}function Ya(r){return r.fa||(r.fa=(function(n,a,o){const u=He(n);return u.sa(),new OM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qM.bind(null,r),r_:GM.bind(null,r),ta:HM.bind(null,r),na:FM.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Df(r)):(await r.fa.stop(),r.Ta.length>0&&(Te(js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Eg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const c=Date.now()+a,m=new Eg(e,n,c,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(r,e){if(Gi("AsyncQueue",`${e}: ${r}`),ll(r))return new _e(re.UNAVAILABLE,`${e}: ${r}`);throw r}class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||xe.comparator(n.key,a.key):(n,a)=>xe.comparator(n.key,a.key),this.keyedMap=mu(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Yo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class iT{constructor(){this.ga=new Bt(xe.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class tl{constructor(e,n,a,o,u,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new tl(e,n,Yo.emptySet(n),c,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class KM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YM{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=He(n),u=o.queries;o.queries=aT(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function aT(){return new Qs((r=>xw(r)),bf)}async function bg(r,e){const n=He(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new KM,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=Tg(c,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Sg(n)}async function wg(r,e){const n=He(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function $M(r,e){const n=He(r);let a=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(a=!0);c.wa=o}}a&&Sg(n)}function WM(r,e,n){const a=He(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Sg(r){r.Ca.forEach((e=>{e.next()}))}var Cp,sT;(sT=Cp||(Cp={})).Ma="default",sT.Cache="cache";class Ag{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new tl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cp.Cache}}class dS{constructor(e){this.key=e}}class mS{constructor(e){this.key=e}}class XM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=Mw(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new iT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const S=o.get(_),C=wf(this.query,T)?T:null,U=!!S&&this.mutatedKeys.has(S.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let G=!1;S&&C?S.data.isEqual(C.data)?U!==$&&(a.track({type:3,doc:C}),G=!0):this.su(S,C)||(a.track({type:2,doc:C}),G=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!S&&C?(a.track({type:0,doc:C}),G=!0):S&&!C&&(a.track({type:1,doc:S}),G=!0,(p||g)&&(m=!0)),G&&(C?(c=c.add(C),u=$?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{tu:c,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(C,U){const $=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:G})}};return $(C)-$(U)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new tl(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new mS(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new dS(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rg="SyncEngine";class JM{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class ZM{constructor(e){this.key=e,this.hu=!1}}class e4{constructor(e,n,a,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Qs((m=>xw(m)),bf),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(xe.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function t4(r,e,n=!0){const a=ES(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await pS(a,e,n,!0),o}async function n4(r,e){const n=ES(r);await pS(n,e,!0,!1)}async function pS(r,e,n,a){const o=await bM(r.localStore,li(e)),u=o.targetId,c=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await r4(r,e,u,c==="current",o.resumeToken)),r.isPrimaryClient&&n&&oS(r.remoteStore,o),m}async function r4(r,e,n,a,o){r.pu=(T,S,C)=>(async function($,G,te,ee){let oe=G.view.ru(te);oe.Cs&&(oe=await J0($.localStore,G.query,!1).then((({documents:b})=>G.view.ru(b,oe))));const De=ee&&ee.targetChanges.get(G.targetId),be=ee&&ee.targetMismatches.get(G.targetId)!=null,Ae=G.view.applyChanges(oe,$.isPrimaryClient,De,be);return lT($,G.targetId,Ae.au),Ae.snapshot})(r,T,S,C);const u=await J0(r.localStore,e,!0),c=new XM(e,u.Qs),m=c.ru(u.documents),p=Zu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=c.applyChanges(m,r.isPrimaryClient,p);lT(r,n,g.au);const _=new JM(e,n,c);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function i4(r,e,n){const a=He(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((c=>!bf(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&gg(a.remoteStore,o.targetId),Ip(a,o.targetId)})).catch(ol)):(Ip(a,o.targetId),await Ap(a.localStore,o.targetId,!0))}async function a4(r,e){const n=He(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),gg(n.remoteStore,a.targetId))}async function s4(r,e,n){const a=d4(r);try{const o=await(function(c,m){const p=He(c),g=xt.now(),_=m.reduce(((C,U)=>C.add(U.key)),at());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=Qi(),$=at();return p.Ns.getEntries(C,_).next((G=>{U=G,U.forEach(((te,ee)=>{ee.isValidDocument()||($=$.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,U))).next((G=>{T=G;const te=[];for(const ee of m){const oe=Tx(ee,T.get(ee.key).overlayedDocument);oe!=null&&te.push(new Ks(ee.key,oe,Sw(oe.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,te,m)})).next((G=>{S=G;const te=G.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(C,G.batchId,te)}))})).then((()=>({batchId:S.batchId,changes:Lw(T)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new Bt(it)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(a,o.batchId,n),await tc(a,o.changes),await Df(a.remoteStore)}catch(o){const u=Tg(o,"Failed to persist write");n.reject(u)}}async function gS(r,e){const n=He(r);try{const a=await _M(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?mt(c.hu,14607):o.removedDocuments.size>0&&(mt(c.hu,42227),c.hu=!1))})),await tc(n,a,e)}catch(a){await ol(a)}}function oT(r,e,n){const a=He(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=He(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const S of T.Sa)S.va(m)&&(g=!0)})),g&&Sg(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function o4(r,e,n){const a=He(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let c=new Bt(xe.comparator);c=c.insert(u,Rn.newNoDocument(u,Be.min()));const m=at().add(u),p=new Rf(Be.min(),new Map,new Bt(it),c,m);await gS(a,p),a.du=a.du.remove(u),a.Au.delete(e),Cg(a)}else await Ap(a.localStore,e,!1).then((()=>Ip(a,e,n))).catch(ol)}async function l4(r,e){const n=He(r),a=e.batch.batchId;try{const o=await vM(n.localStore,e);vS(n,a,null),yS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await tc(n,o)}catch(o){await ol(o)}}async function u4(r,e,n){const a=He(r);try{const o=await(function(c,m){const p=He(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(mt(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(a.localStore,e);vS(a,e,n),yS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await tc(a,o)}catch(o){await ol(o)}}function yS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function vS(r,e,n){const a=He(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Ip(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||_S(r,a)}))}function _S(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(gg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Cg(r))}function lT(r,e,n){for(const a of n)a instanceof dS?(r.Ru.addReference(a.key,e),c4(r,a)):a instanceof mS?(Te(Rg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||_S(r,a.key)):Ue(19791,{wu:a})}function c4(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(Te(Rg,"New document in limbo: "+n),r.Eu.add(a),Cg(r))}function Cg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new xe(It.fromString(e)),a=r.fu.next();r.Au.set(a,new ZM(n)),r.du=r.du.insert(n,a),oS(r.remoteStore,new Ua(li(Tf(n.path)),a,"TargetPurposeLimboResolution",vf.ce))}}async function tc(r,e,n){const a=He(r),o=[],u=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{c.push(a.pu(p,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=mg.As(p.targetId,g);u.push(_)}})))})),await Promise.all(c),a.Pu.H_(o),await(async function(p,g){const _=He(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ae.forEach(g,(S=>ae.forEach(S.Es,(C=>_.persistence.referenceDelegate.addReference(T,S.targetId,C))).next((()=>ae.forEach(S.ds,(C=>_.persistence.referenceDelegate.removeReference(T,S.targetId,C)))))))))}catch(T){if(!ll(T))throw T;Te(pg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const C=_.Ms.get(S),U=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(U);_.Ms=_.Ms.insert(S,$)}}})(a.localStore,u))}async function h4(r,e){const n=He(r);if(!n.currentUser.isEqual(e)){Te(Rg,"User change. New user:",e.toKey());const a=await rS(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new _e(re.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await tc(n,a.Ls)}}function f4(r,e){const n=He(r),a=n.Au.get(e);if(a&&a.hu)return at().add(a.key);{let o=at();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function ES(r){const e=He(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o4.bind(null,e),e.Pu.H_=$M.bind(null,e.eventManager),e.Pu.yu=WM.bind(null,e.eventManager),e}function d4(r){const e=He(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u4.bind(null,e),e}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yM(this.persistence,new mM,e.initialUser,this.serializer)}Cu(e){return new nS(dg.mi,this.serializer)}Du(e){return new SM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class m4 extends of{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){mt(this.persistence.referenceDelegate instanceof af,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Zx(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new nS((a=>af.mi(a,n)),this.serializer)}}class Dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>oT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=h4.bind(null,this.syncEngine),await QM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YM})()}createDatastore(e){const n=Cf(e.databaseInfo.databaseId),a=(function(u){return new DM(u)})(e.databaseInfo);return(function(u,c,m,p){return new MM(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,c,m){return new LM(a,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>oT(this.syncEngine,n,0)),(function(){return tT.v()?new tT:new AM})())}createSyncEngine(e,n){return(function(o,u,c,m,p,g,_){const T=new e4(o,u,c,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=He(n);Te(js,"RemoteStore shutting down."),a.Ea.add(5),await ec(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dp.provider={build:()=>new Dp};class Ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const $a="FirestoreClient";class p4{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async c=>{Te($a,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(Te($a,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Tg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Wm(r,e){r.asyncQueue.verifyOperationInProgress(),Te($a,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await rS(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await g4(r);Te($a,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>rT(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>rT(e.remoteStore,o))),r._onlineComponents=e}async function g4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Te($a,"Using user provided OfflineComponentProvider");try{await Wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await Wm(r,new of)}}else Te($a,"Using default OfflineComponentProvider"),await Wm(r,new m4(void 0));return r._offlineComponents}async function TS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Te($a,"Using user provided OnlineComponentProvider"),await uT(r,r._uninitializedComponentsProvider._online)):(Te($a,"Using default OnlineComponentProvider"),await uT(r,new Dp))),r._onlineComponents}function y4(r){return TS(r).then((e=>e.syncEngine))}async function lf(r){const e=await TS(r),n=e.eventManager;return n.onListen=t4.bind(null,e.syncEngine),n.onUnlisten=i4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a4.bind(null,e.syncEngine),n}function v4(r,e,n={}){const a=new qi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new Ig({next:S=>{_.Nu(),c.enqueueAndForget((()=>wg(u,T)));const C=S.docs.has(m);!C&&S.fromCache?g.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&S.fromCache&&p&&p.source==="server"?g.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Ag(Tf(m.path),_,{includeMetadataChanges:!0,qa:!0});return bg(u,T)})(await lf(r),r.asyncQueue,e,n,a))),a.promise}function _4(r,e,n={}){const a=new qi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new Ig({next:S=>{_.Nu(),c.enqueueAndForget((()=>wg(u,T))),S.fromCache&&p.source==="server"?g.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Ag(m,_,{includeMetadataChanges:!0,qa:!0});return bg(u,T)})(await lf(r),r.asyncQueue,e,n,a))),a.promise}function bS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const cT=new Map;const wS="firestore.googleapis.com",hT=!0;class fT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wS,this.ssl=hT}else this.host=e.host,this.ssl=e.ssl??hT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xx)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new AO;switch(a.type){case"firstParty":return new DO(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=cT.get(n);a&&(Te("ComponentProvider","Removing Datastore"),cT.delete(n),a.terminate())})(this),Promise.resolve()}}function E4(r,e,n,a={}){r=Ur(r,Nf);const o=nl(e),u=r._getSettings(),c={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(mb(`https://${m}`),pb("Firestore",!0)),u.host!==wS&&u.host!==m&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!Ls(p,c)&&(r._setSettings(p),a.mockUserToken)){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=An.MOCK_USER;else{g=EI(a.mockUserToken,r._app?.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new An(T)}r._authCredentials=new RO(new fw(g,_))}}class Ja{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class $t{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Xu(n,$t._jsonSchema))return new $t(e,a||null,new xe(It.fromString(n.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:an("string",$t._jsonSchemaVersion),referencePath:an("string")};class Ha extends Ja{constructor(e,n,a){super(e,n,Tf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new xe(e))}withConverter(e){return new Ha(this.firestore,e,this._path)}}function Xm(r,e,...n){if(r=In(r),dw("collection","path",e),r instanceof Nf){const a=It.fromString(e,...n);return A0(a),new Ha(r,null,a)}{if(!(r instanceof $t||r instanceof Ha))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(It.fromString(e,...n));return A0(a),new Ha(r.firestore,null,a)}}function Np(r,e,...n){if(r=In(r),arguments.length===1&&(e=ng.newId()),dw("doc","path",e),r instanceof Nf){const a=It.fromString(e,...n);return S0(a),new $t(r,null,new xe(a))}{if(!(r instanceof $t||r instanceof Ha))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(It.fromString(e,...n));return S0(a),new $t(r.firestore,r instanceof Ha?r.converter:null,new xe(a))}}const dT="AsyncQueue";class mT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aS(this,"async_queue_retry"),this._c=()=>{const a=$m();a&&Te(dT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;Te(dT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",pT(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Eg.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ue(47125,{Pc:pT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function gT(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Bs extends Nf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new mT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mT(e),this._firestoreClient=void 0,await e}}}function T4(r,e){const n=typeof r=="object"?r:_b(),a=typeof r=="string"?r:Jh,o=Gp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=vI("firestore");u&&E4(o,...u)}return o}function Of(r){if(r._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||b4(r),r._firestoreClient}function b4(r){const e=r._freezeSettings(),n=(function(o,u,c,m){return new QO(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new p4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ar(_n.fromBase64String(e))}catch(n){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ar(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xu(e,Ar._jsonSchema))return Ar.fromBase64String(e.bytes)}}Ar._jsonSchemaVersion="firestore/bytes/1.0",Ar._jsonSchema={type:an("string",Ar._jsonSchemaVersion),bytes:an("string")};class Dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class SS{constructor(e){this._methodName=e}}class hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(Xu(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:an("string",hi._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};class fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xu(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fi(e.vectorValues);throw new _e(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:an("string",fi._jsonSchemaVersion),vectorValues:an("object")};const w4=/^__.*__$/;class S4{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ju(e,this.data,n,this.fieldTransforms)}}function AS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:r})}}class Ng{constructor(e,n,a,o,u,c){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AS(this.Ac)&&w4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A4{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Cf(e)}Cc(e,n,a,o=!1){return new Ng({Ac:e,methodName:n,Dc:a,path:vn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Og(r){const e=r._freezeSettings(),n=Cf(r._databaseId);return new A4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function RS(r,e,n,a,o,u={}){const c=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);DS("Data must be an object, but it was:",c,a);const m=CS(a,c);let p,g;if(u.merge)p=new Pr(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=C4(e,T,n);if(!c.contains(S))throw new _e(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);D4(_,S)||_.push(S)}p=new Pr(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new S4(new Sr(m),p,g)}function R4(r,e,n,a=!1){return xg(n,r.Cc(a?4:3,e))}function xg(r,e){if(IS(r=In(r)))return DS("Unsupported field value:",e,r),CS(r,e);if(r instanceof SS)return(function(a,o){if(!AS(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let c=0;for(const m of a){let p=xg(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=In(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return px(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=xt.fromDate(a);return{timestampValue:rf(o.serializer,u)}}if(a instanceof xt){const u=new xt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rf(o.serializer,u)}}if(a instanceof hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ar)return{bytesValue:Yw(o.serializer,a._byteString)};if(a instanceof $t){const u=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof fi)return(function(c,m){return{mapValue:{fields:{[bw]:{stringValue:ww},[Zh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return lg(m.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${yf(a)}`)})(r,e)}function CS(r,e){const n={};return gw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(r,((a,o)=>{const u=xg(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function IS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof xt||r instanceof hi||r instanceof Ar||r instanceof $t||r instanceof SS||r instanceof fi)}function DS(r,e,n){if(!IS(n)||!mw(n)){const a=yf(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function C4(r,e,n){if((e=In(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return NS(r,e);throw uf("Field path arguments must be of type string or ",r,!1,void 0,n)}const I4=new RegExp("[~\\*/\\[\\]]");function NS(r,e,n){if(e.search(I4)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Dg(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function uf(r,e,n,a,o){const u=a&&!a.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${a}`),c&&(p+=` in document ${o}`),p+=")"),new _e(re.INVALID_ARGUMENT,m+r+p)}function D4(r,e){return r.some((n=>n.isEqual(e)))}class OS{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N4 extends OS{data(){return super.data()}}function xf(r,e){return typeof e=="string"?NS(r,e):e instanceof Dg?e._internalPath:e._delegate._internalPath}function xS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class MS extends Mg{}function yT(r,e,...n){let a=[];e instanceof Mg&&a.push(e),a=a.concat(n),(function(u){const c=u.filter((p=>p instanceof Vg)).length,m=u.filter((p=>p instanceof Mf)).length;if(c>1||c>0&&m>0)throw new _e(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Mf extends MS{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Mf(e,n,a)}_apply(e){const n=this._parse(e);return VS(e._query,n),new Ja(e.firestore,e.converter,_p(e._query,n))}_parse(e){const n=Og(e.firestore);return(function(u,c,m,p,g,_,T){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new _e(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){TT(T,_);const U=[];for(const $ of T)U.push(ET(p,u,$));S={arrayValue:{values:U}}}else S=ET(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||TT(T,_),S=R4(m,c,T,_==="in"||_==="not-in");return rn.create(g,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vT(r,e,n){const a=e,o=xf("where",r);return Mf._create(o,a,n)}class Vg extends Mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)VS(c,p),c=_p(c,p)})(e._query,n),new Ja(e.firestore,e.converter,_p(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lg extends MS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lg(e,n)}_apply(e){const n=(function(o,u,c){if(o.startAt!==null)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ku(u,c)})(e._query,this._field,this._direction);return new Ja(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new ul(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function _T(r,e="asc"){const n=e,a=xf("orderBy",r);return Lg._create(a,n)}function ET(r,e,n){if(typeof(n=In(n))=="string"){if(n==="")throw new _e(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ow(e)&&n.indexOf("/")!==-1)throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(It.fromString(n));if(!xe.isDocumentKey(a))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return M0(r,new xe(a))}if(n instanceof $t)return M0(r,n._key);throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function TT(r,e){if(!Array.isArray(r)||r.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VS(r,e){const n=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O4{convertValue(e,n="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Gs(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[Zh].arrayValue?.values?.map((a=>Yt(a.doubleValue)));return new fi(n)}convertGeoPoint(e){return new hi(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Ef(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const n=Ga(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=It.fromString(e);mt(eS(a),9688,{name:e});const o=new Vu(a.get(1),a.get(3)),u=new xe(a.popFirst(5));return o.isEqual(n)||Gi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function LS(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ms extends OS{constructor(e,n,a,o,u,c){super(e,n,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(xf("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ms._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ms._jsonSchema={type:an("string",Ms._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class Bh extends Ms{data(e={}){return super.data(e)}}class Vs{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new gu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Bh(this._firestore,this._userDataWriter,a.key,a,new gu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:x4(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:r})}}function M4(r){r=Ur(r,$t);const e=Ur(r.firestore,Bs);return v4(Of(e),r._key).then((n=>PS(e,r,n)))}Vs._jsonSchemaVersion="firestore/querySnapshot/1.0",Vs._jsonSchema={type:an("string",Vs._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class kg extends O4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function V4(r){r=Ur(r,Ja);const e=Ur(r.firestore,Bs),n=Of(e),a=new kg(e);return xS(r._query),_4(n,r._query).then((o=>new Vs(e,a,r,o)))}function bT(r,e,n){r=Ur(r,$t);const a=Ur(r.firestore,Bs),o=LS(r.converter,e,n);return kS(a,[RS(Og(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ui.none())])}function L4(r,e){const n=Ur(r.firestore,Bs),a=Np(r),o=LS(r.converter,e);return kS(n,[RS(Og(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,ui.exists(!1))]).then((()=>a))}function k4(r,...e){r=In(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||gT(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(gT(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let u,c,m;if(r instanceof $t)c=Ur(r.firestore,Bs),m=Tf(r._key.path),u={next:p=>{e[a]&&e[a](PS(c,r,p))},error:e[a+1],complete:e[a+2]};else{const p=Ur(r,Ja);c=Ur(p.firestore,Bs),m=p._query;const g=new kg(c);u={next:_=>{e[a]&&e[a](new Vs(c,g,p,_))},error:e[a+1],complete:e[a+2]},xS(r._query)}return(function(g,_,T,S){const C=new Ig(S),U=new Ag(_,C,T);return g.asyncQueue.enqueueAndForget((async()=>bg(await lf(g),U))),()=>{C.Nu(),g.asyncQueue.enqueueAndForget((async()=>wg(await lf(g),U)))}})(Of(c),m,o,u)}function kS(r,e){return(function(a,o){const u=new qi;return a.asyncQueue.enqueueAndForget((async()=>s4(await y4(a),o,u))),u.promise})(Of(r),e)}function PS(r,e,n){const a=n.docs.get(e._key),o=new kg(r);return new Ms(r,o,e._key,a,new gu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){sl=o})(rl),$o(new ks("firestore",((a,{instanceIdentifier:o,options:u})=>{const c=a.getProvider("app").getImmediate(),m=new Bs(new CO(a.getProvider("auth-internal")),new NO(c,a.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ba(E0,T0,e),Ba(E0,T0,"esm2020")})();class P4{constructor(e=null){this.db=null,this.initialized=!1,this.authService=e}setAuthService(e){this.authService=e}isPermissionError(e){return e?["permission-denied","unauthenticated","PERMISSION_DENIED"].some(a=>e.code?.includes(a)||e.message?.includes(a)):!1}async retryWithTokenRefresh(e,n){try{return await e()}catch(a){if(this.isPermissionError(a)&&this.authService){console.warn(`${n} failed with permission error, attempting token refresh...`);try{if(!await this.authService.getToken(!0))throw console.error("Token refresh failed - user may need to sign in again"),new Error("Authentication expired. Please sign in again.");return console.log(`Token refreshed, retrying ${n}...`),await e()}catch(o){throw console.error("Retry after token refresh failed:",o),this.isPermissionError(o)?new Error("Authentication expired. Please sign in again."):o}}throw a}}async initialize(){if(this.initialized)return;const e=Eb();if(e.length===0)throw new Error("Firebase app not initialized. Please initialize Firebase Auth first.");this.db=T4(e[0]),this.initialized=!0}async getUserWorksheets(e,n=!0){return await this.initialize(),this.retryWithTokenRefresh(async()=>{const a=Xm(this.db,"worksheets"),o=yT(a,vT("userId","==",e),_T("updatedAt","desc")),c=(await V4(o)).docs.map(m=>({id:m.id,...m.data()}));return n?c:c.filter(m=>!m.deleted)},"getUserWorksheets")}async saveWorksheet(e,n){return await this.initialize(),this.retryWithTokenRefresh(async()=>{const a={...n,userId:e,updatedAt:n.updatedAt||new Date().toISOString(),syncedAt:new Date().toISOString()},{id:o,...u}=a;if(o&&typeof o=="string"&&o.length>0){const c=Np(this.db,"worksheets",o);return await bT(c,u,{merge:!0}),o}else{console.warn("Worksheet missing ID, generating new one");const c=Xm(this.db,"worksheets");return(await L4(c,u)).id}},"saveWorksheet")}async deleteWorksheet(e,n){return await this.initialize(),this.retryWithTokenRefresh(async()=>{const a=Np(this.db,"worksheets",n),o=await M4(a);if(!o.exists()||o.data().userId!==e)throw new Error("Worksheet not found or access denied");await bT(a,{deleted:!0,deletedAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{merge:!0})},"deleteWorksheet")}async subscribeToWorksheets(e,n){await this.initialize();const a=Xm(this.db,"worksheets"),o=yT(a,vT("userId","==",e),_T("updatedAt","desc"));return k4(o,c=>{const m=c.docs.map(p=>({id:p.id,...p.data()}));n(m)},c=>{console.error("Error in worksheet subscription:",c)})}}let ri=null,Jm=null;function U4(r,e){const[n,a]=k.useState(null),[o,u]=k.useState(!1),[c,m]=k.useState(null);k.useEffect(()=>{let T=!0;async function S(){if(r)try{Jm||(Jm=new P4(r)),ri||(ri=new SO,ri.getAllLocalWorksheets=iw,ri.getLocalWorksheetById=eg,ri.saveLocalWorksheet=v0,ri.updateLocalWorksheet=v0,ri.deleteLocalWorksheet=bO,await ri.initialize(r,Jm),ri.addListener((C,U)=>{C==="sync-progress"&&(U.status==="initial-sync"?u(!0):U.status==="complete"&&u(!1)),C==="auth-error"&&(console.warn("Authentication error detected in sync service"),T&&m(U)),e&&e(C,U)})),T&&a(ri)}catch(C){console.error("Error initializing sync:",C)}}return S(),()=>{T=!1}},[r,e]);const p=k.useCallback(async()=>{if(!(!n||!r||!await r.isAuthenticated()))try{u(!0),await n.performInitialSync()}catch(S){throw console.error("Error performing sync:",S),S}finally{u(!1)}},[n,r]),g=k.useCallback(async T=>{if(!(!n||!r||!await r.isAuthenticated()))try{await n.syncWorksheetToCloud(T)}catch(C){console.error("Error syncing worksheet:",C)}},[n,r]),_=k.useCallback(()=>{m(null)},[]);return{syncService:n,syncing:o,authError:c,clearAuthError:_,performSync:p,syncWorksheet:g}}function z4(){const[r,e]=k.useState([]),n=k.useCallback((o,u="success",c=5e3)=>{const m=Date.now()+Math.random();return e(p=>[...p,{id:m,message:o,type:u}]),c>0&&setTimeout(()=>{e(p=>p.filter(g=>g.id!==m))},c),m},[]),a=k.useCallback(o=>{e(u=>u.filter(c=>c.id!==o))},[]);return{notifications:r,showNotification:n,removeNotification:a}}function j4(){const{user:r,loading:e,authService:n,signUp:a,signIn:o,signOut:u,isAuthenticated:c}=fO(),{worksheets:m,loadWorksheets:p,getWorksheet:g,saveWorksheet:_,deleteWorksheet:T}=wO(),{notifications:S,showNotification:C,removeNotification:U}=z4(),$=(b,R)=>{if(b==="sync-started")C("Sync started","success",3e3);else if(b==="sync-progress"&&R.status==="complete"){const I=R.deleted?`, ${R.deleted} deleted`:"";C(`Sync complete: ${R.uploaded||0} uploaded, ${R.downloaded||0} downloaded${I}`,"success"),p()}else b==="sync-error"?C("Sync error: "+(R?.message||"Unknown error"),"error"):b==="auth-error"?(C("Session expired. Please sign in again to continue syncing.","error",1e4),setTimeout(()=>{oe()},2e3)):b==="worksheet-added"||b==="worksheet-updated"||b==="worksheet-deleted"?p():b==="online"?C("Back online. Syncing...","success",3e3):b==="offline"&&C("You are offline. Changes will sync when you reconnect.","warning")},{performSync:G}=U4(n,$),te=async(b,R)=>{try{await a(b,R),C("Account created successfully!","success")}catch(I){C(I.message,"error")}},ee=async(b,R)=>{try{await o(b,R),C("Signed in successfully!","success")}catch(I){C(I.message,"error")}},oe=async()=>{try{await u(),C("Signed out successfully","success")}catch(b){C("Error signing out: "+b.message,"error")}},De=async()=>{if(!c){C("Please sign in to sync","warning");return}try{C("Syncing...","info",2e3),await G()}catch(b){C("Sync failed: "+b.message,"error")}},be=async b=>await _(b),Ae=async b=>{await T(b)};return B.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[B.jsx(XC,{}),B.jsx(tI,{notifications:S,onRemove:U}),e?B.jsx(JC,{}):c?B.jsx(eI,{user:r,onSignOut:oe,onSync:De}):B.jsx(ZC,{onSignIn:ee,onSignUp:te}),B.jsx("main",{children:B.jsxs(dC,{children:[B.jsx(cu,{path:"/",element:B.jsx(aI,{worksheets:m})}),B.jsx(cu,{path:"/worksheet",element:B.jsx(BE,{getWorksheet:g,saveWorksheet:be,showNotification:C})}),B.jsx(cu,{path:"/worksheet/:id",element:B.jsx(BE,{getWorksheet:g,saveWorksheet:be,showNotification:C})}),B.jsx(cu,{path:"/detail/:id",element:B.jsx(lI,{getWorksheet:g,deleteWorksheet:Ae,showNotification:C})})]})})]})}const B4=PC([{path:"*",element:B.jsx(j4,{})}],{basename:"/the-work"});AR.createRoot(document.getElementById("root")).render(B.jsx(ST.StrictMode,{children:B.jsx(WC,{router:B4})}));
//# sourceMappingURL=index-D85LqEky.js.map
